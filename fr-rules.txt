#
# RÈGLES DE GRAMMAIRE FRANÇAISE POUR GRAMMALECTE
# par Olivier R.
#

# DOCUMENTATION
# Expressions régulières en Python : http://docs.python.org/library/re.html

# [++]   : accroissement de la profondeur de 1. Par défaut, 0.

# Actions des règles:
#   ->> erreur
#   ~>> préprocesseur de texte
#   =>> désambiguïsateur

# Fin d’interprétation du fichier avec une ligne commençant par #END

# FAUTES COURANTES
# http://fr.wikipedia.org/wiki/Wikip%C3%A9dia:Fautes_d%27orthographe/Courantes


############################## DEFINITIONS ##############################

DEF: avoir [aeo]\w*
DEF: etre  [êeésf]\w+
DEF: avoir_etre [aeêésfo]\w*
DEF: aller (?:all|v|ir)\w+
DEF: ppas \w[\w-]+[éiust]e?s?
DEF: W_1 \w[\w-]*
DEF: W_2 \w[\w-]+
DEF: W1 \w+
DEF: W2 \w\w+
DEF: W3 \w\w\w+


####################################################################################################
####################################################################################################
## PASSE 0
## paragraphe par paragraphe
####################################################################################################
####################################################################################################

#
# //////////////////////////////////////// PRÉPROCESSEUR ////////////////////////////////////////
#



# e-mail
__<i>__  \w[\w.-]*@\w[\w.-]*\w[.]\w+ <<- ~>> @
# URL
__<i>__  https?://[\w./?&!%=+*"'@$#-]+ <<- ~>> @
# Numéro de chapitre
__<i>__  ^\d+[.][\d.-]* <<- ~>> @
# Numéro suivi de plusieurs espaces, considéré comme une numérotation de chapitre
__<i>__  ^\d+(?:  +|\t+) <<- ~>> @
# bibliographie
__[s>__  [cC](?:f|hap|oll?)([.]) <<- ~1>> @
__[s]__  p[.] \d+(?:-\d+|) <<- ~>> @
__[s]__  pp[.] \d+-\d+ <<- ~>> @
__[i>__  figure (\d+(?:[.:-]\d+|)) <<- ~1>> @
# sigles
__<s>__  ([A-Z][.][A-Z][.](?:[A-Z][.])*) +[A-ZÉÀÂÊÎÈÔ] <<- ~1>> =@\1.replace(".", "")+"."
__<s>__  [A-Z][.][A-Z][.](?:[A-Z][.])* <<- ~>> =@\0.replace(".", "")
# Ne pas scinder la phrase si les points de suspension sont suivis d’une minuscule
__<s>__  (\w+)(…)(?= [a-zéèêàâîô]) <<- not re.match("(?i)etc", \1) ~2>> ,
# Mr et MM
__[s>__  (M[.]) (?:[A-ZÉÈÎ]\w+|l[e'’]) <<- ~1>> Mr
__[s>__  MM[.] <<- ~>> "MM@"
# mètres (m)
__[s>__  "\d+ (m) " <<- ~1>> @

# HTML
__<i>/html__  <\w+.*?> <<- ~>> @
__<i>/html__  </\w+ *> <<- ~>> @
__<i>/html__  \[/?\w+\] <<- ~>> @


#
# //////////////////////////////////////// RÈGLES DE CONTRÔLE ////////////////////////////////////////
#


############################## TYPOGRAPHIE ##############################

# Majuscules après un point
__[s]/maj__  (\w[\w-]+)[.] ([a-zéàèî]\w+)
    <<- not re.match(u"(?i)(?:etc|[A-Z]|chap|cf|fig|hab|litt|circ|coll|ref|étym|suppl|bibl|bibliogr|cit|op|vol|déc|nov|oct|janv|juil|avr|sept)$", \1) and morph(\1, ":") and morph(\2, ":")
    -2>> =\2.capitalize()                                                       # Après un point, une majuscule est généralement requise.

## virgules manquantes
__[i>/virg__  \w[\w-]*( etc[.]) <<- -1>> , etc.                                 # Avant « etc. », il faut mettre une virgule.
__[i>/virg__  (\w[\w-]*)( car) (j[e’]|tu|ils?|nous|vous|elles?|on|les?|la|ces?|des?|cette|[mts](?:on|a))\b
    <<- not morph(\1, ":[DR]", False) -2>> , car
    # Si « car » est la conjonction de coordination, une virgule est peut-être souhaitable.|http://bdl.oqlf.gouv.qc.ca/bdl/gabarit_bdl.asp?id=3447
__[i>/virg__  \w[\w-]*( mais) (j[e’]|tu|ils?|elles?|on|ces?|des?|cette|[mts](?:on|a))\b
    <<- -1>> , mais
    # Si « mais » est la conjonction de coordination, une virgule est souhaitable si elle introduit une nouvelle proposition.|http://bdl.oqlf.gouv.qc.ca/bdl/gabarit_bdl.asp?id=3445
__[i]/virg__  (\w[\w-]+) \w+-(?:moi|toi|l(?:ui|a|e(?:ur|s|))|nous|vous)
    <<- morphex(\1, ":(?:M1|N)", ":G")
    -1>> \1,      # Ajoutez une virgule.
#__virg__  , (\w[\w-]*)
#   <<- morphex(\1, ":[123][sp]", ":(?:N|E|A|W|G|M[12])") and not before(",")
#   ->> =0[1:]    # Un verbe ne doit pas être séparé du sujet, sauf éventuellement par une incise. (Et ce verbe n’est pas non plus un impératif.) [Sac à bugs]
__<s>/virg__  ([.]\xA0» )([a-zé]) <<- -1>> " », | » "
    # Ou il faut une virgule (exemple : « Je viens », dit-il). Ou le point est superflu. Ou il faut une majuscule sur le mot suivant.
__<s>/virg__  (,\xA0»,? )([a-zé]) <<- -1>> " », | » "                           # Virgule mal placée ou superflue.

# Fin de paragraphe
__<i>__  (\w[\w-]+) *$
    <<- before("[a-zéàùèê][.] ") and not before("(?i)^(?:\\d|\\w[.])")
    -1>> \1.|\1…|\1:|\1;                                                        # Il manque une ponctuation finale.

__[i>/typo__  etc(?:[.]{3,5}|…) <<- ->> etc.                                    # Un seul point après « etc. »
__<s>/typo__  (\w+)[?!,:;%‰‱˚»”](\w+) <<- not \1.isdigit() -2>> " \2"           # Il manque une espace.
__<s>/typo__  [a-zéêîù]+[.]([A-ZÉÂÎ]\w+) <<- -1>> " \1"                         # Il manque une espace.

__<s>/typo__  (?<![.])[.]{3,5}(?![.]) <<- not before("(?i)etc$") ->> …          # Typographie : points de suspension. Utilisez le caractère dédié.
__<s>/typo__  [.]{6,} <<- ->> =\0.replace("...", u"…").rstrip(".")              # Typographie : succession de points. Utilisez le caractère dédié.
__<s>/typo__  (?<![.…])[.][.](?![.]) <<- ->> …|.                                # Typographie : un ou trois points ?
__<s>/typo__  , *… <<- ->> …                                                    # Typographie : pas de virgule avant les points de suspension.
__<s>/typo__  …[.][.]?(?![.]) <<- ->> …                                         # Point(s) superflu(s).
__<s>/typo__  " ([].,)”])" <<- ->> \1                                           # Pas d’espace avant cette ponctuation.
__<s>/typo__  (\w+)([.],)
    <<- not re.match(u"(?:etc|[A-Z]|fig|hab|litt|circ|coll|ref|étym|suppl|bibl|bibliogr|cit|vol|déc|nov|oct|janv|juil|avr|sept)$", \1)
    -2>> .|,                                                                    # Pas de virgule après un point (sauf éventuellement après une abréviation).
__<s>/typo__  "([[(“]) " <<- ->> \1                                             # Pas d’espace après cette ponctuation.
__<s>/typo__  (?<=[^(][^(][^(][^(])[)]\b <<- ->> ") "                           # Il manque une espace après la parenthèse.
__<s>/typo__  \b[(](?=[^)][^)][^)]) <<- ->> " ("                                # Il manque une espace avant la parenthèse.
__<s>/typo__  "^-( | )" <<- ->> "– |— "         # Dialogues et énumérations : un tiret cadratin ou demi-cadratin, suivi d’une espace insécable, est requis.
__<s>/typo__  "^([—–]) +" <<- ->> "\1 "                                         # Dialogues et énumérations : ce tiret doit être suivi d’une espace insécable.
__<s>/typo__  " - " <<- ->> " – | — "                                           # Tiret d’incise : un tiret cadratin ou demi-cadratin est requis.
__<s>/typo__  (?:,,|;;|::) <<- ->> =\0[1]                                       # Ponctuation redondante.
__<s>/typo__  ,[.;:…!?] <<- ->> _                                               # Une de ces ponctuations est superflue.
__<s>/typo__  ;[.,:…!?] <<- ->> _                                               # Une de ces ponctuations est superflue.
__<s>/typo__  :[.,;…!?] <<- ->> _                                               # Une de ces ponctuations est superflue.

#__<s]/typo__  °C <<- ->> ℃                                                      # Typographie. Utilisez le signe des degrés apprioprié.

__[s]/unit__  \d+[⁰¹²³⁴⁵⁶⁷⁸⁹]?( ?([kcmµn]?(?:[slgJKΩ]|m[²³]?|Wh?|Hz|dB)|[%‰€$£¥]|°C|℃))
    <<- -1>> " \2"                                                              # Il manque une espace insécable.

__<s>/nbsp__  "\b([?!;])"  <<- sCountry != "CA" ->> " \1"                       # Il manque une espace insécable.
__<s>/nbsp__  " ([?!;])"  <<- ->> " \1"                                         # Il manque une espace insécable.
__<s>/nbsp__  "(?: |\b):(?= |$)"  <<- ->> " :"                                  # Il manque une espace insécable.
__<s>/nbsp__  "«(?: |\b)"  <<- ->> "« "                                         # Il manque une espace insécable.
__<s>/nbsp__  "(?: |\b)»"  <<- ->> " »"                                         # Il manque une espace insécable.
__<s>/nbsp__  "([].!?)])»"  <<- ->> "\1 »"                                      # Il manque une espace insécable.
__<s>/nbsp__  "([:;]) (?=\w)"  <<- ->> "\1 "                                    # Pas d’espace insécable après le signe “\1”.

__<s>/typo__  (\d+) ?[x*] ?(\d+) <<- ->> \1 × \2                                # Signe de multiplication typographique.

# Guillemets
__<s>/typo__  \"(\w[^\'"]*[\w.?!,])\" <<- ->> « \1 »|“\1”                       # Guillemets typographiques.
__<s>/typo__  \B'(\w[^']*[\w.?!,])'\B <<- ->> “\1”|‘\1’                         # Guillemets typographiques.
__<s>/typo__  " ['‘’]['‘’] " <<- ->> " « | » | “|” "                            # Guillemets typographiques.
__<s>/typo__  ' " ' <<- ->> " « | » | “|” "                                     # Guillemets typographiques.

# ligatures typographiques : fi, fl, ff, ffi, ffl, ft, st
__<s>/liga__  [ﬁﬂﬀﬃﬄﬅﬆ] <<- ->> =undoLigature(\0)                               # Suppression de la ligature typographique.

# Apostrophe typographique
__[i>/apos__  ([ldsncjmç]|jusqu|lorsqu|aujourd|entr|presqu|puisqu|qu)['´‘′`](?=\w) <<- ->> \1’                      # Apostrophe typographique.
__[i>/apos__  t['´‘′`](?!ils?|elles?|on)(?=\w) <<- ->> t’                                                           # Apostrophe typographique.

### Espaces surnuméraires
__<s>/esp__  ^ + <<- ->> ""                 # Espace(s) en début de ligne à supprimer : utilisez les retraits de paragraphe (ou les tabulations à la rigueur).
__<s>/esp__  (?: \xA0|\xA0 ) <<- ->> " | "                                  # Incohérence : l’espace insécable à côté de l’espace sécable n’a pas d’effet.
__<s>/esp__  "\xA0\xA0+" <<- ->> " "                                        # Espace(s) insécable(s) surnuméraire(s) à supprimer.
__<s>/esp__  (?:\b|[.?!,:;%‰‱˚»”])(  +) <<- -1>> " "                        # Espace(s) surnuméraire(s) à supprimer.
__<s>/esp__  " +$" <<- ->> ""                                               # Espace(s) en fin de ligne à supprimer.

__[i>/typo__  (([ldsncjmt])(?:[’'´‘`] | [’'´‘′`] ?))[aeéiouhœæyîèêôû]
    <<- -1>> \2’                                                                   # Pas d’espace avant ou après une apostrophe.
__[i>/typo__  ((lorsqu|puisqu|presqu|quoiqu|jusqu|qu|aujourd|entr|ç)(?:[’'´‘′`] | [’'´‘′`] ?))[aeéiouhœæyîèêôû]
    <<- -1>> \2’                                                                   # Pas d’espace avant ou après une apostrophe.
__[i>/typo__  (([ldsncjmtç]|lorsqu|puisqu|presqu|quoiqu|jusqu|qu|aujourd|entr)[’'´‘′`][’'´‘′`])[aeéiouhœæyîèêôû]
    <<- -1>> \2’                                                                   # Apostrophe surnuméraire.

## Apostrophes manquantes
__[i>/typo__  "(lorsqu|puisqu|presqu|quoiqu|jusqu|qu|aujourd|entr) "
    <<- ->> \1’                                                                    # Il manque vraisemblablement une apostrophe.
# Solution prudente :
__[i>/typo__  (?:je|tu|ils?|nous|vous|on|ça|elles?) ([nmtsl] )([aeéiouhyîèêôû][\w-]*)
    <<- not option("mapos") and morph(\2, ":V", False)
    -1>> =\1[:-1]+u"’"                                                                                        # Il manque probablement une apostrophe.
__[i>/typo__  ne ([mtsl] )([aeéiouhyîèêôû][\w-]*)
    <<- morph(\2, ":V", False)
    -1>> =\1[:-1]+u"’"                                                                                        # Il manque probablement une apostrophe.
# Solution audacieuse :
__[s>/typo__  ([ldsncjmtç] )[aeéiouhAEÉIOUHyîèêôûYÎÈÊÔÛ]
    <<- option("mapos") and not before(u"(?i)(?:lettre|caractère|glyphe|dimension|variable|fonction|point) *$")
    -1>> =\1[:-1]+u"’"                                                                                        # Il manque peut-être une apostrophe.
# Note : pour les majuscules, la règle se situe lors de la passe suivante.

## Élisions
__[i]/typo__  (l[ea] |de )([aâeéêiîoôu]\w+)
    <<- not re.match(u"onz[ei]|énième|iourte|ouistiti|one-?step|Ouagadougou|I(?:I|V|X|er|ᵉʳ|ʳᵉ|è?re)", \2) and not \2.isupper() and not morph(\2, ":G", False)
    -1>> =\1[0]+u"’"                                    # Élision de l’article devant un mot commençant par une voyelle.|http://fr.wikipedia.org/wiki/Élision
__[i]/typo__  (ce) ([aâeéêiîoôu]\w+)
    <<- not re.match(u"(?i)(?:onz|énième)", \2) and morph(\2, ":[me]")
    -1>> cet                                            # Euphonie : « ce » devient « cet » devant un mot commençant par une voyelle.
__[i]/typo__  (si )ils? <<- -1>> s’                     # Il faut élider « si » et l’accoler au pronom.|http://fr.wikipedia.org/wiki/Élision
__[i]/typo__  (que )(?:ils?|elles?|on) <<- -1>> qu’     # Il faut élider « que » et l’accoler au pronom.|http://fr.wikipedia.org/wiki/Élision

## NF (memo: don’t use flag i)
__[s]/nf__  [nN][fF][  -]?(?:c|C|e|E|p|P|q|Q|s|S|x|X|z|Z|[eE][nN](?:[  -][iI][sS][oO]|))[  -]?[0-9]+(?:[/ ‑-][0-9]+|)
    <<- not re.match(u"NF (?:C|E|P|Q|S|X|Z|EN(?: ISO|)) [0-9]+(?:‑[0-9]+|)", \0)
    ->> =formatNF(\0)    # Norme française. Utilisez les espaces et tirets insécables.|http://fr.wikipedia.org/wiki/Liste_de_normes_NF

## Chimie
__[s]/chim__  (?:Ca(?:CO3|SO4)|CO2|(?:H2|Na2)(?:CO3|O|SO4)|[HNO]2|HNO3|Fe2O3|KMnO4|NO2|SiO2|SO[23])
    <<- ->> =\0.replace("2", u"₂").replace("3", u"₃").replace("4", u"₄")                     # Typographie des composés chimiques. [!]



############################## ÉCRITURES ÉPICÈNES INVARIABLES ? ##############################

__[i]__  (\w[\w-]+[éui])[-·–—.(/]e[-·–—.)/]s
    <<- option("typo") and not \0.endswith(u"·e·s") ->> \1·e·s                                      # Écriture épicène. Utilisez les points médians.
    <<- morph(\1, ":[NAQ]", False) =>> define(\0, ":N:A:Q:e:i")
    <<- ~>> \1es


############################## NOMBRES ##############################

### Grands nombres
__<s>/num__  \b\d\d\d\d\d+\b <<- not before(u"NF[  -]?(C|E|P|Q|X|Z|EN(?:[  -]ISO|)) *") ->> =formatNumber(\0)         # Formatage des grands nombres.


#(\d\d\d\d)-(\d\d\d\d)   <<- ->> \1–\2                              # Ne pas séparer deux dates par un trait d’union, mais par un tiret demi-cadratin.

__[s]/num__  [\dO]+O[\dO]+ <<- ->> =\0.replace("O", "0")            # S’il s’agit d’un nombre, utilisez le chiffre « 0 » plutôt que la lettre « O ».
__[s]/num__  [1-9]O <<- ->> =\0.replace("O", "0")                   # S’il s’agit d’un nombre, utilisez le chiffre « 0 » plutôt que la lettre « O ».

### Nombres ordinaux
__[s]/typo__  ([0-9]+) ?(?:è|i?[èe]mes?) <<- ->> \1ᵉ|\1e                           # Nombre ordinal.
__[s]/typo__  ([IVXLCM]{1,3}) ?(?:è|i?[èe]mes?) <<- ->> \1ᵉ|\1e                    # Nombre ordinal romain.



############################## DATES ##############################

__[i]/date__ (?<!\d[ /.-])(\d\d?)[ /.-](\d\d?)[ /.-](\d\d\d+)(?![ /.-]\d)
    <<- not checkDate(\1,\2,\3) and not before("(?i)\\bversions? +$") ->> _                  # Cette date est invalide.

__[i]/date__ (\d\d?) (janvier|février|ma(?:rs|i)|a(?:vril|o[ûu]t)|jui(?:n|llet)|septembre|octobre|novembre|décembre) (\d\d\d+)
    <<- not checkDateWithString(\1,\2,\3) ->> _                                              # Cette date est invalide.

__[i]/date__ (lundi|m(?:ardi|ercredi)|jeudi|vendredi|samedi|dimanche),? (?:le |)(\d\d?)[ /-](\d\d?)[ /-](\d\d+)(?! av(?:ant|[.]) J(?:[.]-C[.]|ésus-Christ))
    <<- not checkDay(\1,\2,\3,\4) -1>> =getDay(\2,\3,\4)                                     # Le jour de la date suivante est incorrect.

__[i]/date__ (lundi|m(?:ardi|ercredi)|jeudi|vendredi|samedi|dimanche),? (?:le |)(\d\d?) (janvier|février|ma(?:rs|i)|a(?:vril|o[ûu]t)|jui(?:n|llet)|septembre|octobre|novembre|décembre) (\d\d+)(?! av(?:ant|[.]) J(?:[.]-C[.]|ésus-Christ))
    <<- not checkDayWithString(\1,\2,\3,\4) -1>> =getDayWithString(\2,\3,\4)                 # Le jour de la date suivante est incorrect.

__[i]/date__ 31 (avril|juin|septembre|novembre)
    <<- ->> 30 \1                                                                       # Cette date est invalide. Il n’y a que 30 jours en \1. 

__[i]/date__ 3[01] février
    <<- ->> 28 février|29 février                                                       # Cette date est invalide. Il n’y a que 28 ou 29 jours en février. 



############################## LIAISONS - TRAITS D’UNION ##############################

__<i]/tu__  [aec](-t[’' ])(il|elle|on) <<- -1>> -t-                                     # Il faut deux traits d’union.
__<i]/tu__  [aec]( t[-’' ])(il|elle|on) <<- -1>> -t-                                    # Il faut deux traits d’union.
__<i]/tu__  ([- ]t[-’'])tu
    <<- -1>> -              # Le “t” euphonique n’est pas nécessaire avec “tu”.|http://66.46.185.79/bdl/gabarit_bdl.asp?T1=t+euphonique
    <<- ~>> -tu
__<i]/tu__  ([- ]t[-’'])(?:ils|elles)
    <<- -1>> -  # Le “t” euphonique ne s’emploie qu’avec “il”, “elle” ou “on” dans certains cas.|http://66.46.185.79/bdl/gabarit_bdl.asp?T1=t+euphonique
#    <<- ~>> -\2
__<i]/tu__  (?<=[td])([- ]t[-’'])(?:il|elle|on)
    <<- -1>> -  # Le “t” euphonique est superflu quand le verbe se termine par “t” ou “d”.|http://66.46.185.79/bdl/gabarit_bdl.asp?T1=t+euphonique
#    <<- ~>> -\2
__<i]/tu__  ([–—−]t[–—−])(?:ils?|elles?|on)
    <<- -1>> -t-            # Utilisez les traits d’union ordinaires. Les tirets cadratins et demi-cadratins (ou le signe moins) sont inutiles ici.
    <<- ~1>> -t-

__[i]/tu__  va[ -]t[ -]en(?! guerre) <<- ->> va-t’en                                    # Une apostrophe est nécessaire (s’en aller).
__[i]/tu__  va[ -]t[’' -]en guerres? <<- ->> va-t-en-guerre                             # Va-t-en-guerre (invariable) : des traits d’union sont nécessaires.
__[i]/tu__  y[’'-]({avoir_etre}) <<- morph(\1, ":V0", False) or \1 == "en" ->> y \1     # Ici, ni apostrophe, ni trait d’union.

### Traits d’union douteux
__[i]/tu__  (\w+)(?:--|—|–)(\w+) <<- spell(\1+"-"+\2) and analyse(\1+"-"+\2, ":", False) ->> \1-\2         # Trait d’union : un tiret simple suffit.

### ce / cet / cette / ces + nom + là
__[i]/tu__  c(?:e[st]?|ette) ((\w[\w-]+) là)(?! où) <<- morph(\2, ":[NB]", False) -1>> \2-là               # Il manque probablement un trait d’union.
__[i]/tu__  c(?:e[st]?|ette) ((\w[\w-]+) la) <<- morph(\2, ":[NB]", False) and not word(1) -1>> \2-là      # Il manque probablement un trait d’union.

### Préfixes
__[i]/tu__  ex (\w\w+) <<- morph(\1, ":N") and not re.match(u"(?i)(?:aequo|nihilo|cathedra|absurdo|abrupto)", \1)
    ->> ex-\1                                                                                # Il manque un trait d’union.
__[i]/tu__  mi (\w\w+) <<- morph(\1, ":[NAQ]", False) ->> mi-\1                              # Il manque un trait d’union.
__[i]/tu__  (?:l[ea]|ces?|cette|des?|ma|mon|[lmts]es) (quasi (\w+))
    <<- morphex(\2, ":N", ":[AGW]")
    -1>> quasi-\2                                              # Il manque un trait d’union : « quasi » s’accroche au mot qui le suit s’il s’agit d’un nom.
__[i]/tu__  semi (\w\w+) <<- morph(\1, ":[NAQ]", False) ->> semi-\1                          # Il manque un trait d’union.

__[i]/tu__  (franco|américano|anglo|belgo|électro|ferro|hydro|labio|macro|magnéto|médico|micro|nano|néo|neuro|paléo|physico|politico|pseudo|rétro|rhino|sino|socio|stéréo) (\w+)
    <<- spell(\1+"-"+\2) and analyse(\1+"-"+\2, ":", False)
    ->> \1-\2                                                                                # Il manque un trait d’union.

__[i]/tu__  (anti|auto|arrière|avant|demi|extra|intra|multi|non|post|sans|sous) (\w+)
    <<- spell(\1+"-"+\2) and analyse(\1+"-"+\2, ":", False) and morph(word(-1), ":D", False, not bool(re.match("(?i)s(?:ans|ous)$",\1)))
    ->> \1-\2                                                                                # Il manque probablement un trait d’union.

__[i]/tu__  (attrape|garde|porte|brise|cache|casse|chauffe|contre|coupe|cure|croque|entre|essuie|lance|lave|lève|marque|pare|passe|perce|pèse|porte|poste|pousse|presse|protège|ramasse|serre|taille|tire|tourne|traîne|vice|vide) (\w+)
    <<- spell(\1+"-"+\2) and analyse(\1+"-"+\2, ":N", False) and morph(word(-1), ":(?:D|V0e)", False, True)
    and not (morph(\1, ":G", False) and morph(\2, ":[GYB]", False))
    ->> \1-\2                                                                               # Il manque probablement un trait d’union.

### Tri 1
__[i]/tu__  [àa] tout vas? <<- ->> à tout-va                                                # « À tout-va » : locution invariable.
__[i]/tu__  allers? retours? <<- ->> =\0.replace(" ", "-")                                  # Il manque un trait d’union.
__[i]/tu__  arcs? en ciel <<- ->> =\0.replace(" ", "-")                                     # Il manque les traits d’union.
__[i]/tu__  après demain <<- ->> après-demain                                               # Il manque un trait d’union.
__[i]/tu__  au (delà|dehors|desso?us|devant) <<- ->> au-\1                                  # Il manque un trait d’union.
__[i]/tu__  avant hier <<- ->> avant-hier                                                   # Il manque un trait d’union.
__[i]/tu__  c’est [àa] dire <<- ->> c’est-à-dire                                            # Il manque les traits d’union.
__[i]/tu__  chef (lieu|d’œuvre) <<- ->> chef-\1                                             # Il manque un trait d’union.
__[i]/tu__  (celles?|celui|ceux) là <<- ->> \1-là                                           # Il manque un trait d’union.
__[i]/tu__  (celles?|celui|ceux) [cs]i <<- ->> \1-ci                                        # Il manque un trait d’union.
__[i]/tu__  centres? villes? <<- ->> centre-ville|centres-villes                            # Il manque un trait d’union.
__[i]/tu__  ci (desso?us|devant|contre) <<- ->> ci-\1                                       # Il manque un trait d’union.
__[i]/tu__  de ci,? de là <<- ->> de-ci de-là|de-ci, de-là                                  # Il manque les traits d’union.
__[i]/tu__  (?<![cCdDlL][’'])est ce <<- morph(word(-1), ":Cs", False, True) ->> est-ce      # Il manque un trait d’union.
__[i]/tu__  en contre (bas|partie) <<- ->> en contre\1|en contre-\1                         # Mettez un trait d’union ou soudez.
__[i]/tu__  en contre[- ]point <<- ->> en contrepoint                                       # Soudez.
__[i]/tu__  état major <<- ->> état-major                                                   # Il manque un trait d’union.
__[i]/tu__  grand chose <<- ->> grand-chose                                                 # Il manque un trait d’union.
__[i]/tu__  grands? (?:père|mère)s? <<- ->> =\0.replace(" ", "-")                           # Il manque un trait d’union.
__[i]/tu__  ici bas <<- ->> ici-bas                                                         # Il manque un trait d’union.
__[i]/tu__  jusque là <<- ->> jusque-là                                                     # Il manque un trait d’union.
__[i]/tu__  là (bas|haut|desso?us|dedans|devant|derrière) <<- ->> là-\1                     # Il manque un trait d’union.
__[i]/tu__  n’est( ce[ -]pas|-ce-pas) <<- ->> n’est-ce pas                                  # Un trait d’union.
__[i]/tu__  (nord|sud) ouest <<- ->> \1-ouest                                               # Il manque un trait d’union.
__[i]/tu__  (nord|sud) est <<- not word(1) ->> \1-est                                       # Il manque un trait d’union.
__[i]/tu__  outre mer <<- ->> outre-mer                                                     # Il manque un trait d’union.
__[i]/tu__  ou[iï] dire <<- morph(word(-1), ":G") ->> ouï-dire                              # Il manque un trait d’union.
__[i]/tu__  par (desso?us|devant|delà|derrière|dehors|dedans|devers)
    <<- ->> par-\1                                                                          # Il manque un trait d’union.
__[i]/tu__  par ci,? par là <<- ->> par-ci par-là|par-ci, par-là                            # Trait(s) d’union manquant(s).
__[i]/tu__  (prêts?) à porter
    <<- before("(?i)\\b(?:les?|du|des|un|ces?|[mts]on) +")
    ->> \1-à-porter                                                                         # Il manque les traits d’union.
__[i]/tu__  plate(s)? forme(?(1)s) <<- ->> plate-forme|plates-formes                        # Il manque un trait d’union.
__[i]/tu__  quelques (une?s) <<- ->> quelques-\1                                            # Il manque un trait d’union.
__[i]/tu__  (plus|moins) (values?) <<- ->> \1-\2                                            # Il manque un trait d’union.
__[i]/tu__  rez de chaussée <<- ->> rez-de-chaussée                                         # Il manque un trait d’union.
__[i]/tu__  (\w+) (sans gêne) <<- morph(\1, ":D", False) -2>> sans-gêne                     # Il manque un trait d’union.
__[i]/tu__  science fiction <<- ->> science-fiction                                         # Il manque un trait d’union.
__[i]/tu__  soi disant
    <<- not ( morph(word(-1), ":R", False) and after("^ +qu[e’]") )
    ->> soi-disant                                                                          # Il manque un trait d’union.
__[i]/tu__  sous (jacente?s?) <<- ->> sous-\1                                               # Il manque un trait d’union.
# sur-mesures
__[i]/tu__  vice (présidents?|rois?) <<- ->> vice-\1                                        # Il manque un trait d’union.
__[i]/tu__  vis [àa] vis <<- ->> vis-à-vis                                                  # Il manque les traits d’union.
__[i]/tu__  week (ends?) <<- ->> week-\1                                                    # Il manque un trait d’union.

### Tri 2
__[i]/tu__  (?:les|aux) (beaux arts) <<- -1>> beaux-arts                                    # Il manque un trait d’union.
__[i]/tu__  (basket|volley) ball <<- ->> \1-ball                                            # Il manque un trait d’union.
#(jusque|moment|celles?|celui|ceux|matins?|jours?|nuits?|deux) là
__[i]/tu__  (lui|elle|soi|vous) même <<- ->> \1-même                                        # Il manque un trait d’union.
__[i]/tu__  (nous|vous|eux|elles) mêmes <<- ->> \1-mêmes                                    # Il manque un trait d’union.
__[i]/tu__  (?:[lcd]es?|un|[mts]on|leurs?|[nv]os|quels?) (va et vient) <<- -1>> va-et-vient # Il manque les traits d’union.

### Noms propres
__[u]/tu__  Royaume Uni <<- ->> Royaume-Uni
    # Il manque un trait d’union (s’il s’agit de l’État englobant la Grande-Bretagne et l’Irlande du Nord).
__[u]/tu__  Grande Bretagne <<- ->> Grande-Bretagne
    # Il manque un trait d’union (s’il s’agit de l’État englobant l’Angleterre, l’Écosse et le pays de Galles).
__[u]/tu__  (?:les|aux) (Pays Bas) <<- -1>> Pays-Bas                                        # Il manque un trait d’union.
__[u]/tu__  Aix en Provence <<- ->> Aix-en-Provence                                         # Il manque un trait d’union.
__[u]/tu__  Bosnie Herzégovine <<- ->> Bosnie-Herzégovine                                   # Il manque un trait d’union.
__[u]/tu__  Charente Maritime <<- ->> Charente-Maritime                                     # Il manque un trait d’union.
__[u]/tu__  Clermont Ferran[dt] <<- ->> Clermont-Ferrand                                    # Il manque un trait d’union.
__[u]/tu__  Colombie Britannique <<- ->> Colombie-Britannique                               # Il manque un trait d’union.
__[u]/tu__  États Unis <<- ->> États-Unis                                                   # Il manque un trait d’union.
__[u]/tu__  Franche Comté <<- ->> Franche-Comté                                             # Il manque un trait d’union.
__[u]/tu__  Haute (Garonne|Loire|Marne|Normandie|Corse|Vienne) <<- ->> Haute-\1             # Il manque un trait d’union.
__[u]/tu__  [ÎI]le de France <<- ->> Île-de-France                                          # Il manque les traits d’union.
__[u]/tu__  Jean (Baptiste|Claude|François|Jacques|Louis|Luc|Marc|Marie|Michel|Paul|Philippe|Pierre)
    <<- ->> Jean-\1                                                                         # Il manque un trait d’union.
__[u]/tu__  Jésus Christ <<- ->> Jésus-Christ                                               # Il manque un trait d’union.
__[u]/tu__  Marie (Ange|Agnès|Anne|Antoinette|Cécile|Chantal|Charlotte|Christine|Claire|Claude|Dominique|France|Françoise|Hélène|Jeanne|José|Josèphe|Line|Louise|Madeleine|Noëlle|Odile|Paule|Pierre|Rose|Thérèse)
    <<- ->> Marie-\1                                                                        # Il manque un trait d’union.
__[u]/tu__  Maison Blanche <<- ->> Maison-Blanche                                           # Il manque un trait d’union.
__[u]/tu__  Moyen Orient <<- ->> Moyen-Orient                                               # Il manque un trait d’union.
__[u]/tu__  Nouveau Brunswick <<- ->> Nouveau-Brunswick                                     # Il manque un trait d’union.
__[u]/tu__  Nouvelle (Zélande|Calédonie|Orléans) <<- ->> Nouvelle-\1                        # Il manque un trait d’union.
__[u]/tu__  Pas de Calais <<- ->> Pas-de-Calais                                             # Il manque les traits d’union.
__[u]/tu__  Rhône Alpes <<- ->> Rhône-Alpes                                                 # Il manque les traits d’union.
__[u]/tu__  Saône et Loire <<- ->> Saône-et-Loire                                           # Il manque un trait d’union.

### nombres
__[i]/tu__  (?:dix|trente|quarante|cinquante|soixante|septante|octante|huitante|nonante) (?:(?:deux|trois|six|sept|huit)(?:ièmes?|)|quatre|quatrièmes?|cinq|cinquièmes?|neuf|neuvièmes?)
    <<- ->> =\0.replace(" ", "-")                                                           # Il manque un trait d’union.
__[i]/tu__  vingts? ((?:deux|trois|six|sept|huit)(?:ièmes?|)|quatre|quatrièmes?|cinq|cinquièmes?|neuf|neuvièmes?)
    <<- not before("(?i)quatre $") ->> =\0.replace(" ", "-").replace("vingts", "vingt")     # Il manque un trait d’union.
__[i]/tu__  soixante ((douz|treiz|quatorz|quinz|seiz)(e|ièmes?)|(dix|dix[- ]sept|dix[- ]huit)(ièmes?)?|dix[- ]neuf|dix[- ]neuvièmes?)
    <<- ->> =\0.replace(" ", "-")                                                           # Trait(s) d’union manquant(s).
__[i]/tu__  quatre[- ]vingts? (?:une|(?:un|deux|trois|six|sept|huit|dix|dix-sept|dix-huit)(?:ièmes?|)|(?:quatr|onz|douz|treiz|quatorz|quinz|seiz)(?:e|ièmes?)|cinq|cinquièmes?|neuf|neuvièmes?)
    <<- ->> =\0.replace(" ", "-").replace("vingts", "vingt")                                # Trait(s) d’union manquant(s).
#__tu__  (vingt|trente|quarante|cinquante|soixante|septante|octante|huitante|nonante)[- ](une?|unièmes?)
#   ->> \1 et \2|\1-et-\2                                      # Il manque « et ». (Si vous suivez la réforme orthographique, utilisez des traits d’union.)

### Pas de trait d’union
__[i]/tu__  deux-tiers <<- ->> deux tiers                                                           # Pas de trait d’union.
__[i]/tu__  en-(bas|haut|de(?:ssous|hors|çà)) <<- ->> en \1                                         # Pas de trait d’union.
__[i]/tu__  peu-[aà]-peu <<- ->> peu à peu                                                          # Pas de trait d’union.
__[i]/tu__  s’il-([tm]e|[vn]ous)-(pla[îi]t) <<- ->> s’il \1 \2                                      # Pas de traits d’union.
__[i]/tu__  tout-à-fait <<- ->> tout à fait                                                         # Pas de trait d’union.
__[i]/tu__  trois-quarts <<- not morph(word(-1), ":D", False, False) ->> trois quarts               # Pas de trait d’union.
__[i]/tu__  parce-(que?) <<- ->> parce \1                                                           # Pas de trait d’union.
__[i]/tu__  (y-)a[- ]t[-’ ](?:ils?|on|elles?) <<- -1>> "y "                                         # Pas de trait d’union.
__<i]/tu__  \b-(ç[aà]|aussi|donc) <<- ->> " \1"                                                     # Pas de trait d’union.
__[i]/tu__  d’entre-(nous|vous|eux|elles) <<- ->> d’entre \1                                        # Pas de trait d’union.




########## Redondances paragraphe par paragraphe


__[i]/redon1__   (\w[\w-]{3,})[  ,.;!?:].*[  ](\1)
    <<- not morph(\1, u":(?:G|V0)|>(?:t(?:antôt|emps|rès)|loin|souvent|parfois|quelquefois|côte|petit) ", False) and not \1[0].isupper()
    -2>> _           # Dans ce paragraphe, répétition de « \1 ».



#
# //////////////////////////////////////// PRÉPROCESSEUR ////////////////////////////////////////
#

# Trait d’union conditionnel (u00AD)
__<i>__  \w+‑\w+‑\w+ <<- ~>> =\0.replace(u"‑", "")
__<i>__  \w+‑\w+ <<- ~>> =\0.replace(u"‑", "")




####################################################################################################
####################################################################################################
## PASSE 1
## phrase par phrase
####################################################################################################
####################################################################################################
[++]


#
# //////////////////////////////////////// PRÉPROCESSEUR ////////////////////////////////////////
# épuration des signes inutiles
#

__<s>__  [«»“”„"`¹²³⁴⁵⁶⁷⁸⁹⁰]+ <<- ~>> *
__<s>__  ^ *[-–—] <<- ~>> *
__<s>__  [[({][\dIVXLCDM]+, \d+[])}] <<- ~>> *
__[i>__  (lorsqu|puisqu|quoiqu|jusqu|qu)’ <<- ~>> \1

# le, la ou les chose(s)
__[i>__  l[ea] ou les \w[\w-]+([(]s[)]) <<- ~1>> s

# les références aux notes
__[i]__  [a-zéèâàôîù][a-zéèâàôîù-]+(\d+) <<- not morph(\0, ":", False) ~1>> *

# faux positifs avec adverbes de négation
__[i]__  pas mal <<- not morph(word(-1), ":D", False) ~>> *
__[i]__  pas assez (\w[\w-]+) <<- morph(\1, ":A", False) and not morph(word(-1), ":D", False) ~>> *

# faux positifs avec «à chez»
__[i]__  de chez \w+ à chez (?:moi|toi|lui|elles?|eux|nous|vous) <<- ~>> * 
__[i]__  (jusqu à|de) chez <<- ~1>> *

# faux positifs
__[i]__  en tout et pour tout <<- ~>> *

# singletons entre parenthèses / crochets / accolades
__<s>__  [(]\w+[)] <<- ~>> *
__<s>__  [{]\w+[}] <<- ~>> *
__<s>__  [[]\w+[]] <<- ~>> *

# Avocats
__[s]__  (Me) [A-ZÉÂÔÈ][\w-]+ <<- ~1>> *

# Marques
__[i]__  Peugeot (\d0\d\d?) <<- ~1>> *


#
# //////////////////////////////////////// DÉSAMBIGUÏSATEUR ////////////////////////////////////////
#

__[i]__  ne +(?:l(?:es? |eurs? |ui |a |’)|[nv]ous |)(\w[\w-]*) <<- not morph(\1, ":(?:O[sp]|X)", False) =>> select(\1, ":V")

__[i]__  n’(\w[\w-]*) <<-  =>> select(\1, ":V")
__[i]__  d(e +|’)(\w[\w-]*) <<- not morph(\1, ":[YD]", False) =>> exclude(\1, ":V")
__[i]__  (?:des|chaque|quelques?|cet|cette) +(\w[\w-]*) <<-  =>> exclude(\1, ":V")
__[i]__  de la (\w[\w-]+) <<- not morph(\1, ":Y", False) =>> exclude(\1, ":V")



#
# //////////////////////////////////////// RÈGLES DE CONTRÔLE ////////////////////////////////////////
#


# Apostrophe manquante (voir règle à la passe précédente)
__<s>/typo__  ^([LDSNCJMTÇ] )[aeéiouhAEÉIOUHyîèêôûYÎÈÊÔÛ]
    <<- option("mapos")
    -1>> =\1[:-1]+"’"                                                                        # Il manque peut-être une apostrophe.


## A / À
# accentuation la préposition en début de phrase
__<s]/typo__  ^(A) (?!t[’-](?:ils?|elles?|on))(\w[\w-]*)
    <<- morphex(\2, ":[GNAY]", ":Q|>(?:priori|post[eé]riori|contrario|capella) ")
    -1>> À                                                                          # S’il s’agit de la préposition « à », il faut accentuer la majuscule.
__<s>/typo__  ^(A) [ldnms]’
    <<- -1>> À                                                                      # S’il s’agit de la préposition « à », il faut accentuer la majuscule.
__<s>/typo__  ^(A) t’(?!il|elle)
    <<- -1>> À                                                                      # S’il s’agit de la préposition « à », il faut accentuer la majuscule.


############################## OCR (expérimental) ##############################

__[s]/ocr__  Gomment
    <<- ->> Comment                             # Erreur de numérisation ?|https://fr.wikipedia.org/wiki/Reconnaissance_optique_de_caract%C3%A8res

__[i]/ocr__  (celte) (\w[\w-]+)
    <<- morph(\2, ":N.*:f:s") -1>> cette        # Erreur de numérisation ?|https://fr.wikipedia.org/wiki/Reconnaissance_optique_de_caract%C3%A8res

__[i]/ocr__  (tètes?) (\w[\w-]+)
    <<- morph(\2, ":A.*:f", False) -1>> \1.replace(u"è", u"ê").replace(u"È", u"Ê")
    # Erreur de numérisation ?|https://fr.wikipedia.org/wiki/Reconnaissance_optique_de_caract%C3%A8res


############################## RÈGLES DE BASE ##############################

### doublon avec casse identique
__[i]__  (\w+) \1
    <<- not re.match(u"(?i)([nv]ous|faire|en|la|lui|donnant|œuvre|h[éo]|olé|joli|Bora|couvent|dément|sapiens|très|vroum|[0-9]+)$", \1)
    and not (re.match("(?:est|une?)$", \1) and before(u"[’']$"))
    and not (\1 == "mieux" and before("(?i)qui +$"))
    ->> \1   # Doublon.

### double négation
__[i]__  pas (personne|aucune?|jamais)
    <<- ->> \1|pas, \1                          # Double négation : les mots « pas \1 » ne devraient pas se succéder.

### incohérences globales (attention à la casse du 2e mot, car beaucoup de sigles peuvent tromper)
__[s]__  ([cdlmtsCDLMTS]es|[nvNV]os|[cC]e(?:tte|t|)|[mtsMTS]a|[mM]on|[aA]ux?) ([cdlmst]es|[nv]os|cettes?|[mts]a|mon|je|tu|ils?|elle?|[vn]ous|on)
    <<- ->> _                                   # Incohérence : les mots “\1” et “\2” ne devraient pas se succéder.



################################################## STYLE ##################################################

########## Basique

#__bs__  Mr <<- ->> M.                          # M. est l’usage courant pour “Monsieur”. « Mr » est l’abréviation ancienne, française.

# à / en
__[i]/bs__  (en) A(?:gen|miens|ngers|jjacio|rles|vignon)
    <<- -1>> à       # On utilise la préposition “à” avant les villes (à Avignon, à Arles…), la préposition “en” avant les régions (en Amérique, en Afrique…).

# avoir été
__[i]/bs__  ({avoir}) été chez
    <<- not re.match("(?i)avoir$", \1) and morph(\1, ">avoir ", False)
    ->> _                                                                                           # Tournure familière. Utilisez « être allé ».

# abyme / abîme
__[i]/bs__  mis\w+ en (ab[îi]mes?) <<- -1>> abyme                                       # Classiquement, on écrit plutôt « abyme » dans cette expression.

# à date / jusqu’à date
__[i]/bs__  ({etre}|m\w+) ([aà] date) <<- morph(\1, ">(?:être|mettre) ", False) -2>> à jour         # Incompréhensible.
__[i]/bs__  jusqu [àa] date <<- ->> jusqu’ici|jusqu’à maintenant|jusqu’à ce jour|à ce jour          # Incompréhensible.

# pire
__[i]/bs__  (?:moins|aussi|plus) (pires?) <<- -1>> mauvais|mauvaise|mauvaises                       # Tournure familière. Utilisez « mauvais ».
__[i]/bs__  de mal en pire <<- ->> de mal en pis                                                    # Tournure familière. Utilisez « de mal en pis ».
__[i]/bs__  au pire aller <<- ->> au pis aller                                                      # Tournure familière. Utilisez « au pis aller ».

# très / trop
__[i]/bs__  tr(ès|op) (beaucoup|assez|mieux|pire|meilleur|délicieux) <<- ->> \2                     # « tr\1 » est superflu.

# novlangue
__[i]/bs__  vidéo-?protection(s|)
    <<- ->> vidéosurveillance\1|télésurveillance\1|surveillance\1 des populations
    # Novlangue. Double pensée. Utilisez un terme plus approprié.|http://fr.wikipedia.org/wiki/Doublepens%C3%A9e

#__[i]/bs__  (tomb\w+) dans les pommes <<- ->> \1 dans les pâmes                                     # « Tomber dans les pâmes » est l’ancienne tournure.



# malgré que
__[i]/bs__  malgré (que?)
    <<- not after_chk1(" \w[\w-]+ en ([aeo]\w*)", ":V0a")
    ->> bien \1                                                                              # Tournure populaire. Utilisez « bien que ».


######### Expressions impropres

#([mts]e|[nv]ous) (rappel\w+) (de) <<- word(1) != "ne" and not morph(word(1), ":V")
#   -3>> _                                                     # Expression impropre. « Se rappeler quelque chose » ou « Se souvenir de quelque chose ».
#Se rappelle de l’amour

#enjoindre à qqn de faire qqch


########## Pléonasmes

__[i]/pleo__  (abol\w+) entièrement <<- morph(\1, ">abolir ", False) ->> \1                                             # Pléonasme.
__[i]/pleo__  (accul\w+) aux? pieds? du mur <<- ->> \1                                                                  # Pléonasme.
__[i]/pleo__  (ach[eè]v\w+) compl[éè]tement <<- morph(\1, ">achever ", False) ->> \1                                    # Pléonasme.
__[i]/pleo__  actuellement en cours <<- not after(r" +de?\b") ->> en cours                                              # Pléonasme.
__[i]/pleo__  actuellement en train de <<- ->> en train de                                                              # Pléonasme.
__[i]/pleo__  (ajout\w+) en plus <<- ->> \1                                                                             # Pléonasme.
__[i]/pleo__  (apanages?) exclusifs? <<- ->> \1                                                                         # Pléonasme.
__[i]/pleo__  (applaudi\w+) des deux mains <<- ->> \1                                                                   # Pléonasme.
__[i]/pleo__  au jour d’aujourd’hui <<- ->> aujourd’hui                                                                 # Pléonasme.
__[i]/pleo__  (avan[cç]\w*) en avant <<- ->> \1                                                                         # Pléonasme.
__[i]/pleo__  s’av([éè]r\w+) vrai(e?s?) <<- ->> s’av\1 exact\2                                                          # Pléonasme.
__[i]/pleo__  (avérée?s?) vraie?s? <<- ->> \1                                                                           # Pléonasme.
__[i]/pleo__  avenir devant (?:lui|[mts]oi|eux|[nv]ous) <<- morph(word(-1), ":A|>un", False) ->> avenir                 # Pléonasme.
__[i]/pleo__  (bourrasques?) de vent <<- ->> \1                                                                         # Pléonasme.
__[i]/pleo__  car en effet <<- ->> car|en effet                                                                         # Pléonasme.
__[i]/pleo__  (cirrhoses?) du foie <<- ->> \1                                                                           # Pléonasme.
__[i]/pleo__  (collabor\w+) ensemble <<- ->> \1                                                                         # Pléonasme.
__[i]/pleo__  comme par exemple <<- ->> comme|par exemple                                                               # Pléonasme.
__[i]/pleo__  (compar\w+) entre eux <<- morph(\1, ">comparer ") ->> \1                                                  # Pléonasme.
__[i]/pleo__  (contrai\w+) malgré (?:soi|eux|lui|moi|elle|toi) <<- morph(\1, ">contraindre ", False) ->> \1             # Pléonasme.
__[i]/pleo__  de (d’autres?) <<- ->> \1                                                                                 # Pléonasme.
__[i]/pleo__  (descend\w+) en bas(?! de) <<- ->> \1                                                                     # Pléonasme.
__[i]/pleo__  (dessin\w+) un dessin <<- ->> \1                                                                          # Pléonasme.
__[i]/pleo__  donc par conséquent <<- ->> donc|par conséquent|c’est pourquoi                                            # Pléonasme.
__[i]/pleo__  (enchevêtr\w+) les uns dans les autres <<- ->> \1                                                         # Pléonasme.
__[i]/pleo__  (s’entraid\w+) (mutuellement|les uns les autres) <<- ->> \1                                               # Pléonasme.
__[i]/pleo__  (erreurs?) involontaires? <<- ->> \1                                                                      # Pléonasme.
__[i]/pleo__  (étapes?) intermédiaires? <<- ->> \1                                                                      # Pléonasme.
__[i]/pleo__  (hasards?) imprévus? <<- ->> \1                                                                           # Pléonasme.
__[i]/pleo__  (hémorragies?) de sang <<- ->> \1                                                                         # Pléonasme.
__[i]/pleo__  (join\w+) ensemble <<- morph(\1, ">joindre ") ->> \1|mettre ensemble                                      # Pléonasme.
__[i]/pleo__  lever debout <<- ->> lever                                                                                # Pléonasme.
__[i]/pleo__  mais (cependant|pourtant|toutefois) <<- ->> mais|cependant|pourtant|toutefois                             # Pléonasme.
__[i]/pleo__  (marches?) à pieds? <<- ->> \1                                                                            # Pléonasme.
__[i]/pleo__  (méandres?) sinueux <<- ->> \1                                                                            # Pléonasme.
__[i]/pleo__  (m[eé]dias?) d’informations? <<- ->> \1                                                                   # Pléonasme.
__[i]/pleo__  (monopoles?) exclusifs? <<- ->> \1                                                                        # Pléonasme.
__[i]/pleo__  (mont\w+) en haut(?! d[eu’]) <<- ->> \1                                                                   # Pléonasme.
__[i]/pleo__  (opportunités?) à saisir <<- ->> \1                                                                       # Pléonasme.
__[i]/pleo__  (orages? électriques?) <<- ->> \1                                                                         # Pléonasme.
__[i]/pleo__  paires? de jumelles <<- ->> jumelles                                                                      # Pléonasme.
__[i]/pleo__  (panacées?) universelles? <<- ->> \1|remède universel                                                     # Pléonasme.
__[i]/pleo__  (perspectives?) d’avenir <<- ->> \1                                                                       # Pléonasme.
__[i]/pleo__  premiers? (balbutiements?) <<- ->> \1                                                                     # Pléonasme.
__[i]/pleo__  premières? (priorités?) <<- ->> \1                                                                        # Pléonasme.
__[i]/pleo__  (projets?) futurs? <<- ->> \1                                                                             # Pléonasme.
__[i]/pleo__  futurs? (projets?) <<- ->> \1                                                                             # Pléonasme.
__[i]/pleo__  (prototypes?) expérimenta(?:l|ux) <<- ->> \1                                                              # Pléonasme.
__[i]/pleo__  (rénov\w+) à neuf <<- ->> \1                                                                              # Pléonasme.
__[i]/pleo__  puis (?:après|ensuite|alors) <<- ->> puis|après|ensuite|alors                                             # Pléonasme.
__[i]/pleo__  (se|[nv]ous) (réuni(?:r|\w+on[st]|\w+ez)) ensemble <<- ->> \1 \2                                          # Pléonasme.
__[i]/pleo__  (recul\w*) en arrière <<- ->> \1                                                                          # Pléonasme.
__[i]/pleo__  (risqu\w+) de menace[rs] <<- ->> \1                                                                       # Pléonasme.
__[i]/pleo__  (risques?) potentiels? <<- ->> \1                                                                         # Pléonasme.
__[i]/pleo__  (secousses?) sismiques? <<- ->> secousse tellurique|secousses telluriques|tremblement de terre            # Pléonasme.
__[i]/pleo__  (solidaires?) les uns des autres <<- ->> \1                                                               # Pléonasme.
__[i]/pleo__  (suffi\w+) simplement <<- morph(\1, ">suffire ") ->> \1                                                   # Pléonasme.
__[i]/pleo__  (talonn\w+) de près <<- morph(\1, ">talonner ") ->> \1                                                    # Pléonasme.
__[i]/pleo__  taux d’(alcoolémies?) <<- -1>> alcool                                             # Pléonasme. L’alcoolémie est le taux d’alcool dans le sang.
__[i]/pleo__  (tunnels?) souterrains? <<- ->> \1                                                                        # Pléonasme.
__[i]/pleo__  vieilles hardes <<- ->> hardes                                                                            # Pléonasme.
__[i]/pleo__  voire même <<- ->> voire|même                                                                             # Pléonasme.

# d’avance / à l’avance
__[i]/pleo__  ((pré[pvds]|pressent|pronostiqu|réserv|devan[cç]|avert)\w+) (d’avance|à l’avance)
    <<- morph(\1, u">(?:prévenir|prévoir|prédire|présager|préparer|pressentir|pronostiquer|avertir|devancer|réserver) ", False)
    ->> \1                                                                                                              # Pléonasme.

# plus tard / à une date ultérieure
__[i]/pleo__  ((diff|ajourn|report)\w+) à (plus tard|date ultérieure|une date ultérieure)
    <<- morph(\1, u">(?:ajourner|différer|reporter) ", False)
    ->> \1                                                                                                              # Pléonasme.




#### CONFUSIONS
__[i>/conf__  ne n’ <<- ->> _                                                                    # Incohérence. Double négation.
__[i>/conf__  [mts]e [nmst](?:’|e ) <<- ->> _                                                    # Incohérence.
__[i>/conf__  d[eu] d’ <<- ->> d’                                                                # Incohérence. 


#### Articles et prépositions + verbes

__[i]/conf__ (d(?:u|es)|ses|t(?:a|es)|m(?:on|a|es)|ce(?:s|t|tte)|quelques|avec|aux?(?:dites?|)) +(\w[\w-]+)
    <<- morph(\2, ":V.*:(?:Y|[123][sp])") and \2[0].islower() and not re.match(r"(?i)quelques? soi(?:ent|t|s)\b", \0)
    -2>> _                                                                                      # Incohérence avec « \1 » : « \2 » est un verbe.

__[i]/conf__  (sa) (\w[\w-]+)
    <<- morphex(\2, ":V.*:(?:Y|[123][sp])", ":N.*:[fe]|:[AW]") and \2[0].islower() or \2 == "va"
    -1>> ça                                                                             # Confusion : « \2 » est un verbe. Exemples : sa jambe, ça vient.

__[i]/conf__  [st]on (\w[\w-]+)
    <<- morph(\1, ":V.*:(?:Y|[123][sp])") and \1[0].islower() and not word(-1)
    -1>> _                                                                                      # Incohérence : « \1 » est un verbe.

__[i]/conf__  de l[ea] (\w[\w-]+)
    <<- morphex(\1, ":[123][sp]", ":[NAQ]")
    -1>> _                                                                                      # Incohérence : « \1 » est un verbe.

__[i]/conf__  (de le) (\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:[me]", ":[YG]") and \2[0].islower()
    -1>> du                                                                                     # Incohérence : « \2 » est un nom ou un adjectif.

__[i]/conf__  (?<!’)un (\w[\w-]+)
    <<- morph(\1, ":(?:Y|[123][sp])") and not before("(?i)(?:dont|sauf) +$")
    -1>> _                                                                                      # Incohérence : « \1 » est un verbe.

__[i]/conf__  (?:d(?:e|ès)|par) (\w[\w-]+)
    <<- \1[0].islower() and morph(\1, ":V.*:[123][sp]") 
    -1>> _                                                                                      # Incohérence : « \1 » est un verbe conjugué.
__[i]/conf__  d’(?:une? +|)(\w[\w-]+)
    <<- \1[0].islower() and morphex(\1, ":V.*:[123][sp]", ":[GNA]") -1>> _                      # Incohérence : « \1 » est un verbe conjugué.

__[i]/conf__  après (\w[\w-]+)
    <<- morph(\1, ":V.*:[123][sp]") and \1[0].islower()
    -1>> _                                                                                      # Incohérence : « \1 » est un verbe conjugué.



#### Participes présents

__[i]/conf__  [nmts]e (\w+ant) <<- not morph(\1, ":P", False) -1>> _                    # Incohérence : « \1 » n’est pas un participe présent.
__[i]/conf__  (?:[nv]ous|lui) (\w+ant) <<- morph(\1, ":[NAQ]") -1>> _                    # Incohérence : « \1 » n’est pas un participe présent.


#### Pronoms


__[i]/conf__  (ne) (\w[\w-]*)
    <<- not morph(\2, ":(?:[123][sp]|Y|P|O[on]|X)|>(?:[lmts]|surtout|guère) ", False) and not re.search("(?i)-(?:ils?|elles?|[nv]ous|je|tu|on|ce)$", \2)
    -2>> _                                                                              # Incohérence avec « \1 » : « \2 » devrait être un verbe.
__[i]/conf__  ([mts]e) (?!voi(?:là|ci))(\w[\w-]*)
    <<- not re.match("(?i)se que?", \0)
    and not morph(\2, ":(?:[123][sp]|Y|P|Oo)|>[lmts] ", False) and not re.search("(?i)-(?:ils?|elles?|[nv]ous|je|tu|on|ce)$", \2)
    -2>> _                                                                              # Incohérence avec « \1 » : « \2 » devrait être un verbe.
__[i]/conf__  ([mts]’(?:en|y)) (?!voilà)(\w[\w-]*)
    <<- not morph(\2, ":(?:[123][sp]|Y|P|Oo)", False) and not re.search("(?i)-(?:ils?|elles?|[nv]ous|je|tu|on|ce)$", \2)
    -2>> _                                                                              # Incohérence avec « \1 » : « \2 » devrait être un verbe.
__[i]/conf__  (n’(?:en|y)) (\w[\w-]*)
    <<- not morph(\2, ":(?:[123][sp]|Y|P|O[onw]|X)", False) and not re.search("(?i)-(?:ils?|elles?|[nv]ous|je|tu|on|ce)$", \2)
    -2>> _                                                                              # Incohérence avec « \1 » : « \2 » devrait être un verbe.
__[i]/conf__  ([nms]’)(\w[\w-]*)
    <<- not morph(\2, ":(?:[123][sp]|Y|P)|>(?:en|y|ils?) ", False) and not re.search("(?i)-(?:ils?|elles?|[nv]ous|je|tu|on|ce)$", \2)
    -2>> _                                                                              # Incohérence avec « \1 » : « \2 » devrait être un verbe.
__[i]/conf__  (t’)(\w[\w-]*)
    <<- not morph(\2, ":(?:[123][sp]|Y|P)|>(?:en|y|ils?|elles?) ", False) and not re.search("(?i)-(?:ils?|elles?|[nv]ous|je|tu|on|ce)$", \2)
    -2>> _                                                                              # Incohérence avec « \1 » : « \2 » devrait être un verbe.
__[i]/conf__  ([cç]’)(\w[\w-]*)
    <<- not morph(\2, ":[123][sp]|>(?:en|y) ", False) and not re.search("(?i)-(?:ils?|elles?|[nv]ous|je|tu|on|dire)$", \2)
    -2>> _                                                                              # Incohérence avec « \1 » : « \2 » devrait être un verbe.

# incohérences

__[i]/conf__  très +(bien|\w+ent) +(\w\w+)
    <<- morph(\1, ":W", False) and morphex(\2, ":[123][sp]", ":[GAQW]") -1>> _
    # Incohérence avec « très » : « \1 » n’est ni un adjectif, ni un participe passé, ni un adverbe.
  
__[i]/conf__  très +(?!envie)(\w\w+)
    <<- morphex(\1, ":(?:Y|[123][sp])", ":[GAQW]") -1>> _
    # Incohérence avec « très » : « \1 » n’est ni un adjectif, ni un participe passé, ni un adverbe.

__[i]/conf__  (?:presque|trop) +(\w\w+)
    <<- morphex(\1, ":[123][sp]", ":(?:G|N|A|Q|W|M[12])") -1>> _
    # Incohérence : « \1 » n’est ni un adjectif, ni un participe passé, ni un adverbe.

__[i]/conf__  si +(\w\w+)
    <<- morphex(\1, ":[123][sp]", ":(?:G|N|A|Q|W|M[12]|T)") -1>> _
    # Incohérence avec « si » : « \1 » n’est ni un adjectif, ni un participe passé, ni un adverbe.

__[i]/conf__  de plus en plus +(\w\w+)
    <<- morphex(\1, ":(?:Y|[123][sp])", ":[GAQW]") and not morph(word(-1), ":V[123].*:[123][sp]", False, False) -1>> _
    # Incohérence avec « de plus en plus » : « \1 » n’est ni un adjectif, ni un participe passé, ni un adverbe.


# a / à
__[i]/conf__  grâce (a) <<- morph(word(-1), ":[VN]", False, True) -1>> à                    # Confusion probable.
__[i]/conf__  (a) moins que <<- not word(-1) -1>> à moins que                               # Confusion probable : « à moins que » pour dire « sauf si ».
__[i]/conf__  tout a co[uû][pt]? <<- ->> tout à coup                                        # Confusion.
__[i]/conf__  a coup s[uû]r <<- ->> à coup sûr                                              # Confusion.
__[i]/conf__  face (a) <<- not before("(?i)\\b(?:[lmts]a|leur|une|en) +$") -1>> à           # Confusion.
__[i]/conf__  pas (a) pas <<- -1>> à                                                        # Confusion.
__[i]/conf__  ([seéê]\w+) (a)(?! priori| posteriori)
    <<- morph(\1, u">être ") and not before(r"(?i)\bce que? ")
    -2>> à                                                                                  # Confusion. Utilisez la préposition « à ».
__[i]/conf__  (a peu[tx]? (?:près|prés?|prêts?)|à peu[tx] (?:près|prés?|prêts?)|à peu (?:prés?|prêts?))
    <<- ->> à peu près                                                                      # Confusion.
    <<- ~>> *
__[i]/conf__  ne +l(?:es?|a) +(?:l(?:eur|ui) +|)(à)
    <<- -1>> a                                                                   # Confusion : “à” est une préposition. Pour le verbe avoir, écrivez :
__[i]/conf__  ne +[nv]ous +(?:les +|l’|)(à)
    <<- -1>> a                                                                   # Confusion : “à” est une préposition. Pour le verbe avoir, écrivez :
__[i]/conf__  [mtsn]e l(?:es +|’)(à)
    <<- -1>> a                                                                   # Confusion : “à” est une préposition. Pour le verbe avoir, écrivez :
__[i]/conf__  [mtsnl]’(?:en|y) +(à)
    <<- -1>> a                                                                   # Confusion : “à” est une préposition. Pour le verbe avoir, écrivez :
__[i]/conf__  les (?:en|y) +(à)
    <<- -1>> a                                                                   # Confusion : “à” est une préposition. Pour le verbe avoir, écrivez :
__[i]/conf__  [nv]ous +(?:en +|y +|les +|l’)(à)
    <<- -1>> a                                                                   # Confusion : “à” est une préposition. Pour le verbe avoir, écrivez :
__[i]/conf__  [mt]’(à) <<- -1>> a                                                # Confusion : “à” est une préposition. Pour le verbe avoir, écrivez :
__[i]/conf__  l’(à) (\w[\w-]+)
    <<- not re.match("(?i)(?:côtés?|coups?|peu(?:-près|)|pics?|propos|valoir|plat-ventrismes?)", \2)
    -1>> a                                                                       # Confusion : “à” est une préposition. Pour le verbe avoir, écrivez :
    <<- re.match("(?i)(?:côtés?|coups?|peu(?:-pr(?:ès|êts?|és?)|)|pics?|propos|valoir|plat-ventrismes?)", \2)
    ->> l’à-\2                                                                   # Il faut un trait d’union.
__[i]/conf__  (il|on) +(?:l(?:es +|’)|en +|y +(?:en +|)|[vn]ous +|)(à)
    <<- not morph(word(-1), ":3s", False, False)
    -2>> a                                                                   # Confusion probable : “à” est une préposition. Pour le verbe avoir, écrivez :
__[i]/conf__  elle +(?:l(?:es +|’)|en +|y +(?:en |)|[vn]ous +|)(à)
    <<- not morph(word(-1), ":(?:3s|R)", False, False) and not morph(word(1), ":Oo", False)
    -1>> a                                                                   # Confusion probable : “à” est une préposition. Pour le verbe avoir, écrivez :
__[i]/conf__  qui (?:l(?:ui|eur)(?: en|)|nous|vous|en|y) +(à)
    <<- -1>> a                                                               # Confusion : “à” est une préposition. Pour le verbe avoir, écrivez :
__[i]/conf__  qui (à) +(\w[\w-]+)
    <<- morphex(\2, ":Q", ":M[12P]")
    -1>> a                                                                   # Confusion : “à” est une préposition. Pour le verbe avoir, écrivez :
__[i]/conf__  (à le) (\w[\w-]+)
    <<- morphex(\2, ":[NAQ]", ":Y")
    -1>> a le|au
    # Confusion. Ou vous confondez “a” (préposition) avec “a” (avoir), ou vous devez employer “au”. Exemple : _à_ midi, il _a_ pris son déjeuner _au_ restaurant.
__[i]/conf__  (à les) (\w[\w-]+)
    <<- morphex(\2, ":[NAQ]", ":Y")
    -1>> a les|aux
    # Confusion. Ou vous confondez “a” (préposition) avec “a” (avoir), ou vous devez employer “au”. Exemple : Elle _a_ donné du travail _aux_ employés _à_ profusion.
__[i]/conf__  (a) (?:nouveau|présent|(?:bonne distance|bord|cause|contre-courant|côté|court|défaut|droite|gauche|l’(?:arrière|autre bout|écart|égard|extérieur|aune|avant|encontre|ins(?:u|tar)|intérieur|opposé)|la (?:portée|suite)|partir|portée|propos|rebours) d(?:es?|u))
    <<- -1>> à                                                                       # Confusion. Utilisez la préposition “à”.
__[i]/conf__  (à) aux?(?! (moins|plus)) <<- -1>> a                                   # Confusion : “à” est une préposition. Pour le verbe avoir, écrivez :
__[i]/conf__  (a) (?:base|cause) d(?:es?|u) <<- not before(r"(?i)\bce que?\b") -1>> *
__[i]/conf__  (à) +(?:faim|peur|honte|soif) <<- -1>> a                               # Confusion : “à” est une préposition. Pour le verbe avoir, écrivez : 
__[i]/conf__  (a) part (\w+) <<- morph(\2, ":(?:M[12]|D|Oo)") -1>> à                 # Confusion probable.
__[i]/conf__  (à) +(?:a(?:fin|lors|près|uprès|ux?|vant|vec)|au-de(?:dans|hors|là|sso?us|vant)|chez|d(?:ans|evant|ès|déjà|onc|urant)|lorsque?|malgré|par(?:ce|fois|mi|)|p(?:endant|our|uisque)|que?|sur|tandis)
    <<- -1>> a                                                  # Confusion probable : “à” est une préposition. Écrivez “a” pour la conjugaison de “avoir”.
__[i]/conf__  (à) +(\w\w+)
    <<- morph(\2, ":[123][sp]", True) and not \2[0:1].isupper()
    ->> _                                                                        # Incohérence : “\1” est une préposition. “\2” est un verbe conjugué.
__[s]/conf__  (a) (?:califourchon|contre(?:cœur|temps)|côté d(?:e|’\w[\w-]+)|demi-mot|nouveau|présent|rebrousse-poil|regret|travers|tout-va|l’(?:heure (?:actuelle|qu il est)|accoutumée|amiable|avance|aven(?:ir|ant)|air libre|aveuglette|emporte-pièce|évidence|exclusion de toute autre chose|improviste|inverse|ordre du jour|œil nu|en croire|un(?:animité| (?:d’entre eux|des leurs)|e (?:d’entre elles|des leurs)))|la (?:bonne franquette|con|dér(?:ive|obée)|diable|fois|limite du supportable|lumière de tout ce(?:ci|la)|mords-moi-le-nœud|papa|petite semaine|pointe du progrès|queue leu leu|rescousse|sauvette|surprise générale|virgule près|volée)|partir (?:de (?:demain|là|maintenant|rien)|d’(?:aujourd’hui|hier|ici))|au(?:cun prix|trui|tre chose)|bas co[ûu]t|bâ(?:bord|tons rompus)|beaucoup près|belles dents|bien (?:des égards|y (?:penser|réfléchir|songer))|bon (?:compte|escient|droit)|bout (?:de (?:bras|souffle|forces?)|portant|touchant)|bras (?:ouverts|le corps)|brève échéance|but non lucratif|cause d(?:e (?:ça|[mt]oi|lui|[nv]ous)|’e(?:lles?|ux))|ce (?:compte-là|moment-là|titre)|cet (?:égard|instant(?: précis|))|cette (?:époque(?: de l’année|)|heure de la (?:journée|nuit))|chaque (?:fois|instant)|chaudes larmes|cœur (?:joie|ouvert|perdu)|ciel ouvert|contre-cœur|corps perdu|cou(?:p sûr|per le souffle|rt terme|rte portée)|de nombreuses reprises|des kilomètres à la ronde|double (?:titre|tranchant)|durée limitée|en (?:juger par (?:[mts]on|[nv]otre|leur) expérience|perdre (?:haleine|la tête))|faible (?:allure|revenu)|feu et à sang|flanc de (?:colline|montagne)|fleur de peau|géométrie variable|grand(?:-peine|e échelle)|haut risque|hue et à dia|huis clos|intervalles (?:ir|)réguliers|juste (?:raison|titre)|long terme|longue(?: portée|ur (?:de (?:temps|journée))|d’année)|loyer modéré|main (?:armée|droite|gauche|levée)|maint(?:s égards|es reprises)|marche forcée|merveille|mi-(?:course|distance|temps)|mi(?:di|nuit)(?: pile|)|moindres frais|moyen terme|mots couverts|ne (?:jamais|pas|rien|guère)|n’en (pas douter|point douter|plus finir)|outrance|parler franc|part (?:entière|ça|ce(?:la|ci))|partir de là|part(?:ir de rien|s égales)|pas de (?:géant|loup|tortue|velours)|personne en danger|perte de vue|petit(?: feu|e (?:dose|échelle))|peu (?:de choses? |)près|pieds joints|pile ou face|plat(?: ventre|e couture)|plein(?: (?:régime|temps|nez)|s poumons)|plus (?:forte raison|d’un titre)|point nommé|portée de main|première vue|prix (?:cassé|modique)s?|proprement parler|qui (?:mieux mieux|que ce soit|de droit)|quelque distance|quelques exceptions près|ras bords?|rude épreuve|tel point|temps (?:plein|partiel|complet)|tête reposée|tire[ -]d’aile|titre (?:conservatoire|d’exemple|indicatif|informatif|grâcieux|personnel|posthume)|tombeau ouvert|tort (?:ou à raison|et à travers)|tour de (?:bras|rôle)|tous (?:crins|points de vue)|tout(?: (?:âge|bout de champ|crin|instant|jamais|le (?:moins|monde)|moment|point de vue|prix|un chacun)|e (?:allure|bride|épreuve|force|heure|vitesse|volée))|toutes (?:fins utiles|jambes)|tribord|un moment donné|usage interne|visage découvert|vive allure|voix (?:haute|basse)|vol d’oiseau|vrai dire|vue d’œil|y (?:regarder de plus près|réfléchir))
    <<- not before(u"(?i)[ln]’$|(?<!-)\\b(?:il|elle|on|y|n’en) +$")
    -1>> à                  # Confusion probable : “a” est la conjugaison du verbe “avoir”. Utilisez la préposition “à”.|http://fr.wiktionary.org/wiki/%C3%A0
__[s]/conf__  (a) (?:confesse|mi(?:di|nuit)|r(?:allonge|eculons|enverse|isque)|tâtons|la (?:manque|ramasse|re(?:dresse|nverse)))
    <<- not before(u"(?i)(\\bque?\\b|[ln]’$|(?<!-)\\b(?:il|elle|on|y|n’en) +$)")
    -1>> à                  # Confusion probable : “a” est la conjugaison du verbe “avoir”. Utilisez la préposition “à”.|http://fr.wiktionary.org/wiki/%C3%A0
__[s]/conf__  (a) (?:[mts](?:es|on|a)|[nv]o(?:s|tre)|leurs?) (?:avis|c(?:onnaissance|ôtés)|c(?:œur|orps) défendant|dé(?:pens|triment)|disposition|encontre|égard|grand(?: désarroi|e (?:surprise|tristesse))|guise|insu|portée|risques et périls|sujet|tour)
    <<- not before(u"(?i)(\\bque?\\b|[ln]’$|(?<!-)\\b(?:il|elle|on|y|n’en) +$)")
    -1>> à                  # Confusion probable : “a” est la conjugaison du verbe “avoir”. Utilisez la préposition “à”.|http://fr.wiktionary.org/wiki/%C3%A0
__[s]/conf__  (?<![mtn]’)(a) (\w[\w-]+(?:er|re|ir))
    <<- morph(\2, ":Y", False) and not before(u"(?i)\\bque? |(?:il|elle|on|n’(?:en|y)) +$") 
    -1>> à                  # Confusion probable : “a” est la conjugaison du verbe “avoir”. Utilisez la préposition “à”.|http://fr.wiktionary.org/wiki/%C3%A0
__[s]/conf__  m’a +(tuer) <<- -1>> tué|tuée
    # Cliché. Évitez cette erreur de grammaire délibérée, faite d’innombrables fois, pour mimer l’affaire Omar Raddad.|https://fr.wikipedia.org/wiki/Omar_m'a_tuer

# au temps / autant
__[i]/conf__  (autant) pour moi <<- not word(-1) -1>> (au temps)
    # Pour reconnaître son erreur, « au temps pour moi » est l’expression recommandée par l’Académie française.
__[i]/conf__  au (?:temps|tant?) que faire [sc]e peu[xt]? <<- ->> autant que faire se peut       # Locution adverbiale : « autant que faire se peut ».

# ça / çà / sa
__[i]/conf__  comme (sa) <<- not word(1) or after("(?i)^ +que? ") -1>> ça                        # Confusion.
__[i]/conf__  (sa) +(\w[\w-]+) <<- morphex(\2, ":G", u">(?:tr(?:ès|op)|peu|bien|plus|moins) |:[NAQ].*:f")
    -1>> ça                                                         # Confusion. « sa » (sa maison, sa voiture) ≠ « ça » (ça vient, ça heurte).
__[i]/conf__  (sa) +(?:d|l(?:orsqu|)|n|s|m|t|j|qu|puisqu)’\w+
    <<- -1>> ça                                                     # Confusion. « sa » (sa maison, sa voiture) ≠ « ça » (ça vient, ça heurte).
__[i]/conf__  (ça) (\w\w+) <<- morph(\2, ":[NAQ].*:f") and not re.match("seule?s?", \2)
    -1>> ça                                                         # Confusion. « sa » (sa maison, sa voiture) ≠ « ça » (ça vient, ça heurte).
__[i]/conf__  çà(?! et là) <<- not before("(?i)\\b(?:oh|ah) +$") ->> ça
    # Confusion : « çà » ne s’emploie plus guère que dans l’expression « çà et là ».
__[i]/conf__  ça et là <<- not morph(word(-1), ":R") ->> çà et là
    # Confusion : « ça » équivaut à « cela ». Dans l’expression « çà et là », « çà » équivaut à « ici ».

# ce / se / ceux
__[i]/conf__  (se) (\w+) <<- morphex(\2, ":[NAQ]", ":([123][sp]|Y|P|Q)|>l[ea]? ")
    -1>> ce                                                                     # Confusion. « se » (se lever, se demander) ≠ « ce » (ce chien, ce chat).
__[i]/conf__  (ce) (?!faire)(\w+(?:er|ir|re))
    <<- morph(\2, ":Y")  and \1 != "CE" -1>> se                                 # Confusion. « se » (se lever, se demander) ≠ « ce » (ce chien, ce chat).
__[i]/conf__  pour (se) faire(,? (\w+))
    <<- (\2.startswith(",") or morphex(\3, ":G", ":[AYD]"))
    -1>> ce                                     # Confusion probable. Dans cette locution, il faut employer “ce”.|http://fr.wiktionary.org/wiki/pour_ce_faire
__[i]/conf__  (ce) (?!faire)(\w[\w-]+)
    <<- morph(\2, ":V[123].*:(?:Y|[123][sp])") and not morph(\2, ">(?:devoir|pouvoir) ") and \2[0].islower() and \1 != "CE"
    -1>> se                                                                         # Confusion : « \2 » est un verbe. Exemples : ce bâtiment, se perdre.
__[i]/conf__  ne (ce) <<- -1>> se                                                   # Confusion. Ce chien, ce chat… Se demander, se croire…
__[i>/conf__  ne (c’) <<- -1>> s’                                                   # Confusion. Ce chien, ce chat… Se demander, se croire…
__[i]/conf__  (se) (?:qu[ei]?|dont|malgré|pourquoi|avec|pour) <<- -1>> ce
    # Confusion. Exemples : ce bâtiment, se perdre.|http://bdl.oqlf.gouv.qc.ca/bdl/gabarit_bdl.asp?id=2440
__[i]/conf__  qui (ce) (\w[\w-]+)
    <<- morph(\2, ":V", ":[NAQ].*:[me]") or before("(?i)\\b[cs]e +")
    -1>> se                                 # Confusion probable. Exemples : ce bâtiment, se perdre.|http://bdl.oqlf.gouv.qc.ca/bdl/gabarit_bdl.asp?id=2440
__[i]/conf__  (se) (?:sera(?:i(?:en|)t|)|sont|f[uû](?:ren|)t)
    <<- after("^ +[ldmtsc]es ") or
    ( morph(word(-1), ":Cs", False, True) and not before(", +$") and not after(r"^ +(?:ils?|elles?)\b") and not morph(word(1), ":Q", False, False) )
    -1>> ce                                                                     # Confusion probable.|http://bdl.oqlf.gouv.qc.ca/bdl/gabarit_bdl.asp?id=2440
__[i]/conf__  (ceux) (?:ne|sont|serait|f[uû]t|n’\w+) <<- -1>> ce
    # Confusion.|http://www.intellego.fr/soutien-scolaire-6eme/aide-scolaire-francais/ce-ceux-ou-se/3829
__[i]/conf__  (ceux) (?!l[aà] |qu[ie]? )(\w[\w-]+) <<- morphex(\2, ":N.*:s", ":A.*:[pi]")
    -1>> ce                             # Confusion probable.|http://www.intellego.fr/soutien-scolaire-6eme/aide-scolaire-francais/ce-ceux-ou-se/3829

# ces / ses / c’est
__[s]/conf__  ([scSC]es) (?:à|au-dessus|avec|aux?|comme|contre|derrière|devant|par|pour|sans|que) (?:l(?:es?|a|)|[cs]es?|cette|pour|contre|sans|de?s?|lui|elles?|eux|nous|vous)
    <<- -1>> c’est                                                                  # Confusion. Écrivez « c’est » pour dire « ceci est… ».
__[s>/conf__  ([scSC]es) [ld]’(?![A-Z])
    <<- -1>> c’est                                                                  # Confusion. Écrivez « c’est » pour dire « ceci est… ».
__[s]/conf__  ([scSC]es) que?
    <<- -1>> c’est                                                                  # Confusion. Écrivez « c’est » pour dire « ceci est… ».
__[i]/conf__  (c’est) (\w[\w-]+)
    <<- morphex(\2, ":N.*:p", ":(?:G|W|A.*:[si])") -1>> ces|ses
    # Confusion. Exemples : c’est facile ; ces chats (désignation) ; ses chats (possession)…

# d’en / dans
__[i]/conf__  (d’en|dan) (?:l(?:es?|a)|une?|d(?:es?|u)|[mts](?:on|a|es)|[nv]o(?:tre|s)|ce(?:tte|t|s|))
    <<- \1.endswith("en") or before("^ *$") -1>> dans                           # Confusion. Utilisez “dans” pour dire “à l’intérieur de quelque chose”.
__[i]/conf__  ^ *(dents?) (?:l(?:es?|a)|une?|[mts](?:on|a|es)|[nv]o(?:tre|s)|ce(?:tte|t|s|))
    <<- -1>> dans                                                               # Confusion. Utilisez “dans” pour dire “à l’intérieur de quelque chose”.

# eh bien, hé bien / et bien
__[i]/conf__  et bien(?! que?| sûr| d’autres | entendu| avant| souvent| longtemps| des)
    <<- not word(-1)
    ->> eh bien|hé bien                                     # Confusion probable.|http://bdl.oqlf.gouv.qc.ca/bdl/gabarit_bdl.asp?T1=h%C3%A9&T3.x=0&T3.y=0
__[i]/conf__  et (ben)
    <<- not \1.startswith("B")
    ->> eh ben|hé ben                                       # Confusion probable.|http://bdl.oqlf.gouv.qc.ca/bdl/gabarit_bdl.asp?T1=h%C3%A9&T3.x=0&T3.y=0

# haut delà / au-delà
__[i]/conf__  haut[- ]del[àa] <<- ->> au-delà                                       # Confusion. 

# là / la
__[s]/conf__  ([lL]a) (?:a(?:fin|lors|près|uprès|ux?|vant|vec)|au(?:-de(?:dans|hors|là|sso?us|vant)|x|)|c(?:e(?:t|te|s|)|hez)|d(?:ans|evant|es?|ès|onc|urant|’\w[\w-]*)|e(?:lles?|n|t)|ils?|je?|l(?:es?|a|orsque?|’\w[\w-]*)|m(?:algré|es|on|a)|n(?:e|ous)|o[uùn]|par(?:ce|fois|mi|)|p(?:endant|our|uisque)|que?|s(?:on|a|es|ouvent|ur)|t(?:andis|on|a|es|u)|un|vous)
    <<- not morph(word(-1), ":E|>le ", False, False)
    -1>> là                                                                         # Confusion probable. Écrivez “là” si vous voulez dire “ici”.

# leurs / leur
__[i]/conf__  (leurs) (\w[\w-]+)
    <<- morphex(\2, ":(?:[123][sp]|Y)", ":(?:G|N|A|M[12P])") and not before(r"(?i)\bles *$")
    -1>> leur                                                                       # Incohérence : “leurs” est un déterminant. “\2” est un verbe.

# min / mins
__[i]/conf__ \d+ (mins) <<- -1>> min                                                # Les unités de mesure abrégées ne prennent pas la marque du pluriel.

# on / ont
__[i]/conf__  (?<!’)(on) (\w[\w-])
    <<- morph(\2, ":W", False) and not morph(word(-1), ":V.*:3s", False, False)
    -1>> ont                                                        # Confusion probable : “avoir” à la 3ᵉ personne du pluriel du présent s’écrit “ont”.

# pale / pâle
__[i]/conf__  (?:bien|tr(?:ès|op)|si|vraiment|tellement) +(pales?)
    <<- -1>> =\1.replace("pal", u"pâl")
    # Utilisez “pâle” pour évoquer la pâleur… Une pale est, entre autres choses, un élément d’une hélice.|http://fr.wiktionary.org/wiki/pale
__[i]/conf__  (pales?) +(?:imitat(?:ion|eur|rice)|rayon)s?
    <<- -1>> =\1.replace("pal", u"pâl")
    # Utilisez “pâle” pour évoquer la pâleur… Une pale est, entre autres choses, un élément d’une hélice.|http://fr.wiktionary.org/wiki/pale

# peu / peut / peut-être
__[i]/conf__  (?<![dDuUnN][eEnN] )(peu) (?:pas|donc|jamais|rien|parfois|alors|enfin|rarement|éventuellement) <<- -1>> peut       # Confusion probable.
__[i]/conf__  ^ *(il|ce) (peut-être) <<- -2>> peut être                              # Confusion probable : « peut-être » signifie « possiblement ».
__[i]/conf__  ^ *(cela|ceci) (peut-être) (\w[\w-]+)
    <<- morph(\3, ":[AQ]", False)
    -2>> peut être                                                                   # Confusion probable : « peut-être » signifie « possiblement ».
__[i]/conf__  [ns]e (peu) <<- -1>> peut                                              # Confusion. Exemples : Il est peu habile, mais il peut y arriver. 

# qu’elle / quelle
__[i]/conf__  (qu elles?) +(?!seule?s?)(\w[\w-]+)
    <<- morphex(\2, ":[NAQ]", ":(?:G|[123][sp]|W)")
    -1>> =\1.replace(" ", "")                                                        # Confusion probable. Ex : Quelle femme ! Je crois qu’elle réussira. 

# savoir / ignorer
__[i]/conf__  ({etre}) pas sans (ignor(?:e[rz]|ée?s?))
    <<- morph(\1, ":V0e", False)
    -2>> savoir     # Confusion : vous écrivez l’inverse de ce que vous voulez dire.|http://fr.wiktionary.org/wiki/vous_n%E2%80%99%C3%AAtes_pas_sans_savoir

## s’en / sens / sans / cent / cens
__[i]/conf__  (?:ils?|on) (san[sg]|cen[st]|c’en) (\w[\w-]+)
    <<- not word(-1) and morph(\2, ":V", False)
    -1>> s’en                                                                    # Confusion probable.
__[i]/conf__  elles? (san[sg]|cen[st]|c’en) (\w[\w-]+)
    <<- not word(-1) and morph(\2, ":V", False)
    and not ( \1 == "sans" and morph(\2, ":[NY]", False) )
    -1>> s’en                                                                    # Confusion probable.

#### SGPL

## plus que prévu / mois que prévu
__[i]/sgpl__  (plus|moins|autant) +que (prévu(?:es?|s)) <<- -2>> prévu                              # Invariable. Implicitement, \1 que ce qui était prévu.
__[i]/sgpl__  (plus|moins|aussi) +(\w[\w-]+) +que (prévu(?:es?|s)) <<- -3>> prévu                   # Invariable. Implicitement, \1 \2 que ce qui était prévu.
__[i]/sgpl__  (plus|moins|autant) +d(?:e |’)(\w[\w-]+) +que (prévu(?:es?|s)) <<- -3>> prévu         # Invariable. Implicitement, \1 \2 que ce qui était prévu.
__[i]/sgpl__  comme ((annoncé|convenu|prévu)(?:es?|s)) <<- -1>> \2                                  # Invariable. Implicitement, comme ce qui était \2.


#### TOUT / TOUS / TOUTE / TOUTES

__[i]__  fai(?:tes|sons|s)-(?:les|[nv]ous) (tou(?:te|)s) <<- ~1>> *

__[i]__  (?:[ldmtsc]es|[nv]os|leurs) (tout) (\w[\w-]+)
    <<- morph(\2, ":[AQ].*:[pi]", False) ~1>> *


__[i]/gn__  tout(?= [cl]es\b) <<- not before(u"(?i)\\b(?:d[eu]|avant|après|sur|malgré) +$")
    ->> tous                                                                                         # Erreur d’accord probable.
__[i]/gn__  tout(?= ceux\b) <<- not before(u"(?i)\\b(?:d[eu]|avant|après|sur|malgré) +$")
    ->> tous                                                                                         # Erreur d’accord probable.
__[i]/gn__  toute(?= (celles|[cl]es)\b) <<- ->> toutes                                               # Erreur d’accord probable.
__[i]/gn__  toute(?= (ce|cet)\b) <<- ->> tout                                                        # Erreur d’accord probable.

__[i]/gn__  (tous) +(?:[lcmts]es) +(\w[\w-]+) <<- morph(\2, ":f") and not before(u"(?i)(?:à|pas|de|[nv]ous|eux) +$")
    -1>> toutes                                                                                      # Erreur d’accord probable. « \2 » est féminin.
__[i]/gn__  (toutes) +(?:[lcmts]es) +(\w[\w-]+) <<- morph(\2, ":m") and not before(u"(?i)(?:à|pas|de|[nv]ous|eux) +$")
    -1>> tous                                                                                        # Erreur d’accord probable. « \2 » est masculin.

__[i]/gn__  tout (\w\w\w+)
    <<- morphex(\1, ":N.*:[fp]", ":(?:A|W|G|M[12P]|Y|[me]:i)") and morph(word(-1), ":R|>de ", False, True)
    -1>> =suggMasSing(@)                                                                             # “\1” devrait être au masculin singulier.

__[i]/gn__  toute (\w\w\w+)
    <<- morph(\1, ":[NAQ].*:[mp]") and morph(word(-1), ":R|>de ", False, True)
    -1>> =suggFemSing(@)                                                                             # “\1” devrait être au féminin singulier.

__[i]/gn__  tous (\w\w\w+)
    <<- morph(\1, ":[NAQ].*:[fs]") and morph(word(-1), ":R|>de ", False, True)
    -1>> =suggMasPlur(@)                                                                             # “\1” devrait être au masculin pluriel.

__[i]/gn__  toutes (\w\w\w+)
    <<- morph(\1, ":[NAQ].*:[ms]") and morph(word(-1), ":R|>de ", False, True)
    -1>> =suggFemPlur(@)                                                                             # “\1” devrait être au féminin pluriel.




#### VERBES ET NÉGATION

__[i]/neg__  (je|tu|ils?|on|elles?) ([bcdfgjklmnpqrstvwxz][\w-]*) (pas|rien|jamais|guère)
    <<- morph(\2, ":[123][sp]", False) and not (re.match("(?i)(?:jamais|rien)$", \3) and before("\\b(?:que?|plus|moins)\\b"))
    -2>> ne \2                                                                                       # Ne … \3 : il manque l’adverbe de négation.

__[i]/neg__  (je|tu|ils?|on|elles?) ([aeéiouœ][\w-]*) (pas|rien|jamais|guère)
    <<- morph(\2, ":[123][sp]", False) and not (re.match("(?i)(?:jamais|rien)$", \3) and before("\\b(?:que?|plus|moins)\\b"))
    -2>> n’\2                                                                                        # Ne … \3 : il manque l’adverbe de négation.

__[i]/neg__  (je|tu|ils?|on|elles?) ([mts](?:e +|’)|[vn]ous +|l(?:e +|a +|eur +|ui +|l’))(\w[\w-]*) (pas|rien|jamais|guère)
    <<- morph(\3, ":[123][sp]", False) and not (re.match("(?i)(?:jamais|rien)$", \3) and before("\\b(?:que?|plus|moins)\\b"))
    -2>> ne \2                                                                                       # Ne … \4 : il manque l’adverbe de négation.

__[i]/neg__  (je|tu|ils?|on|elles?) (y|en) (\w[\w-]*) (pas|rien|jamais|guère)
    <<- morph(\3, ":[123][sp]", False) and not (re.match("(?i)(?:jamais|rien)$", \3) and before("\\b(?:que?|plus|moins)\\b"))
    -2>> n’\2                                                                                        # Ne … \4 : il manque l’adverbe de négation.


## INFINITIF

__[i]/infi__  ne (?:pas|rien|jamais(?: rien| plus|)|plus(?: jamais| rien|)|guère|point) (?:l(?:e(?:ur|s|)|a|ui) |nous |vous |)((\w[\w-]+)(ée?s?|ez))
    <<- morph(\1, ":V", False)
    -1>> \2er                                                                                        # Le verbe devrait être à l’infinitif.


####################################################################################################
####################################################################################################
## PASSE 2
####################################################################################################
####################################################################################################

#
# //////////////////////////////////////// PRÉPROCESSEUR ////////////////////////////////////////
# épuration des adverbes, locutions adverbiales, interjections et expressions usuelles
#

__[s]__  (?:[dD]epuis le|[lL]e|[dD]u|[aA]u|[jJ]usqu au|[àÀ] compter du) (?:1(?:er|ᵉʳ)|\d\d?) (?:janvier|février|mars|avril|mai|juin|juillet|ao[ûu]t|septembre|octobre|novembre|décembre|vendémiaire|brumaire|frimaire|nivôse|pluviôse|ventôse|germinal|floréal|prairial|messidor|thermidor|fructidor)(?: \d+| dernier|) <<- ~>> *
__[s]__  ([eE]n (?:janvier|février|mars|avril|mai|juin|juillet|ao[ûu]t|septembre|octobre|novembre|décembre|vendémiaire|brumaire|frimaire|nivôse|pluviôse|ventôse|germinal|floréal|prairial|messidor|thermidor|fructidor) +\d+) (\w+) <<- not morph(\2, ":[NAQ]", False) ~1>> *
__[s]__  [àÀ] la mi-(?:janvier|février|mars|avril|mai|juin|juillet|ao[ûu]t|septembre|octobre|novembre|décembre|vendémiaire|brumaire|frimaire|nivôse|pluviôse|ventôse|germinal|floréal|prairial|messidor|thermidor|fructidor)(?:\d{2,4}|) <<- ~>> *

## moi/toi/lui/elle/nous/vous/eux/elles seul-e-s
__[i]__  [mt]oi (seule?) <<- ~1>> *
__[i]__  lui (seul) <<- ~1>> *
__[i]__  elle (seule) <<- ~1>> *
__[i]__  [nv]ous (seule?s) <<- ~1>> *
__[i]__  eux (seuls) <<- ~1>> *
__[i]__  elles (seules) <<- ~1>> *

## Avant
__[i]__  et (?:ainsi de suite|tutti quanti) <<- ~>> *
__[i]__  et(/ou) <<- ~1>> *
__[i]__  ni (?:à|avec|contre|pour|chez|sur|sous|devant|derrière) *(?:[tm]oi|lui|elles?|eux|[nv]ous|),? ni (?:à|avec|contre|pour|chez|sur|sous|devant|derrière) (?:[mt]oi|lui|elles?|eux|[nv]ous) <<- ~>> *
__[i]__  quant à présent <<- ~>> *

## Inconditionnel
__[i]__  24 ?h(?:eures|) ?(?:sur |/ ?)24 <<- ~>> *
__[i]__  7 ?j(?:ours|) ?(?:sur |/ ?)7 <<- ~>> *
__[i]__  sept jours sur sept <<- ~>> *
__[i]__  vingt-quatre heures sur vingt-quatre <<- ~>> *
__<i]__  ^ *(?:et(?: puis|)|puis|car|mais|or donc|m’est avis que) <<- ~>> *
__[i]__  à (?:califourchon|confesse|contre(?:cœur|temps)|demi-mot|foison|grand-peine|loisir|merveille|moitié|nouveau|outrance|peine|perpétuité|présent|raison|rallonge|rebrousse-poil|reculons|regret|renverse|risque|tâtons|tort|tout-va) <<- ~>> *
__[i]__  à côté (?:de (?:ça|lui|[mt]oi|[nv]ous)|d’(?:elles|eux))(?! et) <<- ~>> *
__[i]__  à la (?:bo(?:nne franquette|urre)|con|dér(?:ive|obée)|diable|fois|leur|limite du supportable|longue|lumière de tout ce(?:ci|la)|manque|mords-moi-le-nœud|papa|petite semaine|pointe du progrès|queue leu leu|ramasse|re(?:nverse|dresse|scousse)|sauvette|surprise générale|virgule près|volée) <<- ~>> *
__[i]__  à \d\d? ?h(?: ?\d\d|)(?: (?:du (?:matin|soir)|de l’après-midi|ce (?:matin|soir)|cet après-midi|demain (?:matin|soir|après-midi)|)|) <<- ~>> *
__[i]__  à (?:au(?:cun prix|trui|tre chose)|bas (?:co[ûu]t|prix)|bâ(?:bord|tons rompus)|beaucoup près|belles dents|bien (?:des égards|pire|y (?:penser|réfléchir|songer))|bon (?:compte|escient|droit)|bout (?:de (?:bras|souffle|forces?)|portant|touchant)|bras (?:ouverts|le corps)|brève échéance|but (?:non |)lucratif|cause d(?:e (?:ça|[mt]oi|lui|[nv]ous)|’e(?:lles?|ux))|ce (?:compte-là|moment-là|titre)|cet (?:égard|instant(?: précis|))|cette (?:époque(?: de l’année|)|heure de la (?:journée|nuit)|occasion)|chaque (?:fois|instant)|chaudes larmes|cœur (?:joie|ouvert|perdu)|ciel ouvert|contre-cœur|corps perdu|cou(?:p sûr|per le souffle|rt terme|rte portée)|de (?:nombreuses|multiples) reprises|des kilomètres à la ronde|défaut d’autre chose|double (?:titre|tranchant)|durée limitée|en (?:juger par (?:[mts]on|[nv]otre|leur) expérience|perdre (?:haleine|la tête))|faible (?:allure|revenu)|feu et à sang|flanc de (?:colline|montagne)|fleur de peau|géométrie variable|grand(?:-peine|e échelle)|haut risque|hue et à dia|huis clos|intervalles (?:ir|)réguliers|juste (?:raison|titre)|long terme|longue(?: portée|ur (?:de (?:temps|journée))|d’année)|loyer modéré|main(?: (?:armée|droite|gauche|levée)|s nues)|maint(?:s égards|es reprises)|marche forcée|merveille|mi-(?:course|distance|temps)|mi(?:di|nuit)(?: pile|)|moindres frais|mots couverts|moyen terme|n’en (?:pas douter|point douter|plus finir)|outrance|parler franc|part (?:entière|ça|ce(?:la|ci))|partir de là|part(?:ir de rien|s égales)|pas de (?:géant|loup|tortue|velours)|personne en danger|perte de vue|petit(?: feu|e (?:dose|échelle))|peu (?:de (?:distance|choses près|frais)|près)|pieds joints|pile ou face|plat(?: ventre|e couture)|plein(?: (?:régime|temps|nez)|s poumons)|plus (?:forte raison|d’un titre)|point nommé|portée de (?:main|tir)|première vue|prix (?:cassé|modique)s?|proprement parler|qui (?:mieux mieux|que ce soit|de droit)|quelque(?: distance|s (?:exceptions|nuances) près)|ras bords?|rude épreuve|somme nulle|tel point|temps (?:plein|partiel|complet)|tête reposée|tire[ -]d’aile|titre (?:conservatoire|d’exemple|expérimental|indicatif|informatif|grâcieux|personnel|posthume)|tombeau ouvert|tort (?:ou à raison|et à travers)|tour de (?:bras|rôle)|tous (?:crins|points de vue)|toutes (?:fins utiles|jambes)|tribord|un moment donné|usage interne|visage (?:découvert|humain)|vive allure|voix (?:haute|basse)|vol d’oiseau|vrai dire|vue d’œil|y (?:regarder de plus près|réfléchir)) <<- ~>> *
__[i]__  à partir (?:de (?:demain(?: matin| midi| soir|)|là|maintenant|rien)|d’(?:aujourd’hui|hier(?: matin| midi| soir|)|ici)) <<- ~>> *
__[i]__  à quelques-un(?:s d’entre eux|es d’entre elles) <<- ~>> *
__[i]__  à tout(?: (?:âge|bout de champ|crin|instant|jamais|le (?:moins|monde)|moment|point de vue|prix|un chacun)|e (?:allure|bride|épreuve|force|heure(?: d(?:u jour|e la nuit)|)|vitesse|volée)) <<- ~>> *
__[i]__  à l’(?:heure (?:actuelle|qu il est)|accoutumée|amiable|avance|aven(?:ir|ant)|air libre|aveuglette|emporte-pièce|échelle (?:nationale|mondiale|régionale|départementale|cantonale|locale|galactique|universelle)|évidence|exclusion de toute autre chose|improviste|inverse|occasion|ordre du jour|œil nu|en croire|un(?:animité| (?:d’entre eux|des leurs)|e (?:d’entre elles|des leurs))) <<- ~>> *
__[i]__  à (?:[mts]es|[nv]os|leurs) (?:côtés|dépens|risques et périls|trousses) <<- ~>> *
__[i]__  à (?:[mts]a|[nv]otre|leur) (?:connaissance|disposition|grande (?:surprise|tristesse)|guise|portée) <<- ~>> *
__[i]__  à (?:[mts]on|[nv]otre|leur) (?:avis|c(?:œur|orps) défendant|détriment|encontre|égard|grand désarroi|insu|sujet|tour) <<- ~>> *
__[i]__  à mi(?:di|nuit)(?: pile|) <<- ~>> *
__[i]__  à cette heure(?: (?:du jour|de la nuit|tardive)|) <<- ~>> *
__[i]__  [aà] (?:priori|post[eé]riori|contrario|cappella) <<- ~>> *
__[i]__  ab (?:absurdo|initio) <<- ~>> *
__[i]__  ad (?:hoc|vitam æternam|hominem|infinitum|nauseam|valorem|patres) <<- ~>> *
__[i]__  advienne que pourra <<- ~>> *
__[i]__  après (?:[mts]oi|lui|eux|mûre réflexion|tout,|un certain temps|cette date(?: fatidique|)) <<- ~>> *
__[i]__  (heure|minute|seconde|jour|nuit|semaine|trimestre|semestre|mois|décennie|année|siècle|génération) après \1 <<- ~>> *
__[i]__  au-de(?:ssus (?:de (?:[mts]oi|lui|[nv]ous)|d’(?:eux|elles?))|là du descriptible) <<- ~>> *
__[i]__  au (?:[xXvViI]+[eᵉ] siècle|bas mot|beau fixe|bon moment|bout (?:du (?:compte|rouleau)|d’un moment)|cas par cas|commencement|contraire|coude à coude|coup par coup|déb(?:otté|but)|demeurant|doigt mouillé|fil (?:des ans|du temps)|grand complet|hasard|jour (?:et à l’heure dits|le jour)|jugé|leur|lieu de (?:ce(?:la|ci)|ça|quoi)|loin|même titre que n’importe l(?:aquelle|equel) d’entre (?:nous|vous|eux|elles)|milieu de nulle part|moment opportun|pas de (?:charge|course)|plus (?:haut point|pressé|vite|tôt|tard)|premier abord|préalable|propre comme au figuré|quotidien|ras des pâquerettes|sens (?:figuré|large|propre)|surplus) <<- ~>> *
__[i]__  au (?:dernier|même|bon|mauvais) (?:moment|instant) <<- ~>> *
__[i]__  au cours des (?:deux|trois|quatre|cinq|six|sept|huit|neux|dix|onze|douze|treize|quatorze|quinze|seize|dix-(?:sept|huit|neuf)|vingt|trente|quarante|cinquante|soixante|soixante-dix|quatre-vingt|quatre-vingt-dix|cent) (?:derni(?:ère|er)s|prochaine?s) (?:années|mois|siècles) <<- ~>> *
__[i]__  (?:tout |)au fond (?:de (?:[mts]oi|lui|[nv]ous)|d’(?:elles?|eux))(?:-mêmes?|) <<- ~>> *
__[i]__  aux (?:abois|leurs) <<- ~>> *
__[i]__  autant que (?:nécessaire|possible|faire se peut) <<- ~>> *
__[i]__  autour (?:d’(?:eux|elles?)|de (?:lui|[nv]ous|[mt]oi)) <<- ~>> *
__[i]__  autrement dit <<- ~>> *
__[i]__  av. J.-C. <<- ~>> *
__[i]__  avant (?:longtemps|terme|tout le monde|toute(?: chose|s choses)|d’aller plus loin|J.-C.|Jésus-Christ|d’en arriver là|de faire quoi que ce soit(?: de stupide|)|qu il ne soit trop tard) <<- ~>> *
__[i]__  avec (?:joie|légèreté|insistance|peine|autre chose|pertes et fracas|un peu de chance|tout le respect que (?:je (?:vous|te|l(?:eur|ui)) dois|nous (?:vous|te|l(?:eur|ui)) devons)|tout un chacun) <<- ~>> *
__[i]__  avec (?:autrui|[mts]oi|lui|e(?:ux|lles?)|[nv]ous|le plus grand soin|tout le monde|tout ça|on ne sait quo?i)(?! qui) <<- ~>> *
__[i]__  avec brio <<- ~>> *
__[i]__  beaucoup (?:plus|moins) <<- ~>> *
__[i]__  bel et bien <<- ~>> *
__[i]__  bien (?:assez tôt|des fois|souvent) <<- ~>> *
__[i]__  bon gré,? mal gré <<- ~>> *
__[i]__  bras dessus,? bras dessous <<- ~>> *
__[i]__  çà et là <<- ~>> *
__[i]__  ce faisant <<- ~>> *
__[i]__  ce(?:ci mis à part|la va sans dire) <<- ~>> *
__[i]__  ces derniers temps <<- ~>> *
__[i]__  ce(?:lui|lles?|ux) (d’entre (?:[nv]ous|eux|elles)) <<- ~1>> *
__[i]__  cette fois-(?:là|ci) <<- ~>> *
__[i]__  chacune? (d’entre (?:[nv]ous|eux|elles)) <<- ~1>> *
__[i]__  chez (?:[mt]oi|lui|e(?:ux|lles?)|[nv]ous|autrui|on ne sait qui) <<- ~>> *
__[i]__  comme (?:avant|autrefois|d’habitude|toujours|de juste|bon (?:me|te|l(?:ui|eur)|[nv]ous) semble|au bon vieux temps|cul et chemise|frappée?s? par la foudre|n’importe où(?: ailleurs|)|par (?:enchantement|magie|un fait exprès)|promis|si de rien n’était|tout un chacun) <<- ~>> *
__[i]__  comme tant d’autres (?:avant|après) (?:[mts]oi|lui|[nv]ous|eux|elles?)(?! qui) <<- ~>> *
__[i]__  contrairement aux apparences <<- ~>> *
__[i]__  contre (?:mauvaise fortune,? bon cœur|nature|toute (?:attente|vraisemblance)|vents et marées|[mts]oi|lui|elles?|[nv]ous|eux|(?:[mts]on|[nv]otre|leur) gré) <<- ~>> *
__[i]__  côte à côte <<- ~>> *
__[i]__  co[ûu]te que co[ûu]te <<- ~>> *
__[i]__  cro(?:yez|ois)-le ou (?:non|pas) <<- ~>> *
__[i]__  cul par-dessus tête <<- ~>> *
__[i]__  dans (?:ce cas(?: précis|-là|-ci| particulier|)|l’i(?:déal|mmédiat)|la mesure du possible|les années \d\d+|peu de temps|tout (?:ce(?:la|ci)|ça)|très peu de temps|un(?: cas comme dans l’autre|e (?:certaine|large|moindre) mesure)) <<- ~>> *
__[i]__  début (?:janvier|février|mars|avril|mai|juin|juillet|ao[ûu]t|septembre|octobre|novembre|décembre)(?: \d\d\d\d|) <<- ~>> *
__[i]__  d’(abord|affilée|ailleurs|année en année|aujourd’hui|antan|autant (?:plus|moins)|autre(?:s fois| part)|arrière en avant|avant en arrière|à côté|âge mûr|emblée|en face|entr(?:e (?:[nv]ous|eux|elles)|ée de jeu)|est en ouest|extrême[ -](?:droite|gauche)|habitude|hier(?: (?:matin|soir|après-midi)|)|ici(?: là| peu(?: de temps|)| très peu(?: de temps|)|)|ordinaire|origine (?:inconnue|douteuse)|ouest en est|ore?s et déjà|un (?:bout à|côté comme de) l’autre|un autre côté) <<- ~>> *
__[i]__  d’une (?:autre trempe|(?:façon|manière) ou d’une autre|certaine (?:façon|manière)|tout autre ampleur|(?:minute|seconde) à l’autre) <<- ~>> *
__[i]__  d’(?:heure en heure|année en année) <<- ~>> *
__[i]__  d’où qu (?:(?:il|elle|on) vienne|(?:ils|elles) viennent) <<- ~>> *
__[i]__  de-ci,? de-là <<- ~>> *
__[i]__  de \d\d? ?h(?: ?\d\d|)(?: (?:du (?:matin|soir)|de l’après-midi|ce (?:matin|soir)|cet après-midi|demain (?:matin|soir|après-midi)|)|) <<- ~>> *
__[i]__  de (?:\d+(?:,\d+|) ?%|cesse|conserve|facto|guingois|nouveau|permanence|partout|rechange|routine|surcro[îi]t|visu|A à Z|bas(?: (?:en haut|étage)|se (?:condition|extraction|))|bon (?:aloi|cœur|gré|matin|ton)|bonne (?:facture|famille|foi|heure|humeur|grâce|qualité)|bric et de broc|but en blanc|ce(?: (?:fait(?: même|)|point de vue)|tte sorte)|courte (?:durée|vue)|dernière minute|demain(?: (?:matin|soir|après-midi)|)|droite (?:à|comme de) gauche|fil en aiguille|fond en comble|fort (?:loin|près)|fra[iî]che date|ga[îi]e?té de cœur|gauche (?:à|comme de) droite|grande (?:taille|envergure)|gré ou de force|guerre lasse|haut(?: (?:en bas|rang|vol)|e (?:lutte|stature|volée))|jour comme de nuit|là-bas|la (?:meilleure (?:manière|façon) possible|même (?:façon|manière)|sorte|tête aux pieds|veille)|loin(?: en loin|)|longue (?:date|durée|haleine)|main de ma[îi]tre|mauvais(?: (?:aloi|go[ûu]t|gré)|e (?:foi|grâce|humeur))|nos jours|plein (?:droit|fouet)|mieux en mieux|nature (?:inconnue|indéterminée|insolite)|nombreuses (?:fois|années plus (?:tôt|tard))|nos jours|notoriété publique|nulle part|pire en pire|près(?: ou de loin|)|par(?: le monde(?: entier|)|t et d’autre)|petite taille|pied ferme|premi(?:er (?:ordre|plan)|ère main)|plein fouet|plus (?:belle|près)|première nécessité|prime abord|proche en proche|sang-froid|seconde (?:zone|importance|main)|si bon(?: matin|ne heure)|source sûre|taille moyenne|telle sorte|temps (?:en temps|à autre)|tr(?:ès|op) (?:loin|près)|vive voix) <<- ~>> *
__[i]__  de tou(?:t (?:poil|temps|à l’heure|premier (?:ordre|plan))|tes (?:parts|pièces|sortes|(?:[mts]es|leurs|[nv]os) forces)|te (?:éternité|évidence|façon|urgence)|s (?:côtés|bords)) <<- ~>> *
__[i]__  de ce(?:ux|lles)-(?:ci|là)(?! qui) <<- ~>> *
__[i]__  de (?:[mts]on|[nv]otre|leur) (?:mieux|plein gré|point de vue|propre (?:cru|chef)|vivant) <<- ~>> *
__[i]__  de (moins|plus|mieux|pire|jour|minute|semaine|mois|trimestre|semestre|siècle|millénaire|décennie) en \1 <<- ~>> *
__<i]__  ^ *de plus <<- ~>> *
__[i]__  de (?:ce(?:ux|lles?|lui)-(?:là|ci)|(?:[mts]a|[nv]otre|leur) part) <<- ~>> *
__[i]__  dès (?:aujourd’hui|à présent|demain(?: matin| après-midi| soir|)|lors|que possible|\d\d\d\d) <<- ~>> *
__[i]__  des (?:fois|pieds à la tête|uns et des autres|(?:années|mois|siècles|millénaires|décennies|semaines) plus t(?:ôt|ard)) <<- ~>> *
__[i]__  depuis (?:assez longtemps|belle lurette|bien longtemps|de (?:très |)longues années|des lustres|longtemps|lors|peu de temps|quelque temps|quelques (?:secondes|minutes|heures|jours|semaines|mois|trimestres|semestres|années|décennies|siècles|millénaires)|si longtemps|toujours|tout ce temps|très longtemps) <<- ~>> *
__[i]__  depuis (\d+ (?:ans|années|mois|semaines|jours|heures|minutes|secondes|)|les années \d\d+) <<- ~>> *
__[i]__  du moins <<- ~>> _
__[i]__  du (?:[xXvViI]+[eᵉ] siècle|bout des lèvres|début à la fin|fond du cœur|jour au lendemain|haut en bas|même (?:acabit|tonneau)|moins,? pas|(?:nord|sud) au (?:nord|sud)|tout au tout) <<- ~>> *
__[i]__  (après-|avant |)demain(?: matin| soir| après-midi|) <<- ~>> *
__[i]__  (don) Juan <<- ~1>> *
__[i]__  du (?:coup|même (?:ordre|coup)) <<- ~>> *
__[i]__  en \d\d+(?: ans| années|) <<- ~>> *
__[i]__  en cours(?! de| d) <<- ~>> *
__[i]__  en (?:aparté|apparence|arrière|avance|avant|cachette|ceci|cela|clair|commun|conséquence|continu|contrepartie|définitive|détail|douce|effet|émoi|filigrane|général|goguette|hâte|outre|pâmoison|parallèle|partie|particulier|permanence|personne|pratique|prime|privé|principe|priorité|public|réalité|retour|revanche|rien|rogne|route|secret|silence|somme|suspens|théorie|trompe-l’œil|vain|vérité|ville|vitesse) <<- ~>> *
__[i]__  en (?:[mt]oi|eux|elles?) <<- ~>> *
__[i]__  en (?:aucun(?: cas|e (?:circonstance|façon|manière))|bon(?: état|ne (?:compagnie|et due forme|posture|santé(?: physique| mentale|)|voie))|bout de course|cas d(?:e (?:besoin|doute)|’urgence)|chair et en os|chute libre|connaissance de cause|cours de route|d’autres (?:circonstances|termes|temps)|début d(:?e (?:journée|matinée|soirée)|’après-midi)|définitive|dehors de (?:tout|)(?:ça|cela|ceci)|dents de scie|dernier (?:lieu|recours|ressort)|désespoir de cause|détention provisoire|direction d(?:u (?:nord|sud)(?:-est|-ouest|)|e l’(?:est|ouest))|état (?:de (?:choc(?: circulatoire|)|marche)|d’ébriété(?: avancée|))|fin d(:?e (?:compte|journée|matinée|soirée)|’après-midi)|forte (?:baisse|hausse)|garde à vue(?: prolongée|)|grand(?: nombre|e (?:difficulté|majorité|partie|pompe))|haut lieu|l’occurrence|lieu sûr|ligne de (?:compte|mire)|mains propres|mauvais(?: état|e (?:posture|santé))|même temps|milieu d(:?e (?:journée|matinée|soirée)|’après-midi)|nombre (?:plus que |)suffisant|partant de zéro|plein(?: air| jour|e (?:gueule|figure|forme|nuit))|perte de vitesse|peu de temps|point de mire|position de force|premi(?:er lieu|ère (?:instance|ligne))|pure perte|quantité (?:plus que |)suffisante|quelque sorte|queue de peloton|rase campagne|règle générale|roue libre|sens inverse|si peu de temps|sous-main|tête à tête|temps (?:et en heure|normal|opportun|ordinaire|utile|voulu)|termes choisis|toile de fond|tous (?:les cas|sens)|tout (?:bien tout honneur|cas|genre|lieu|et pour tout|état de cause|premier lieu|sens|temps)|toute(?: (?:circonstance|connaissance de cause|confiance|discrétion|franchise|hâte|impartialité|impunité|innocence|légalité|liberté|logique|sécurité|simplicité)|s circonstances)|un (?:clin d’œil|rien de temps)|une autre occasion|vase clos|y réfléchissant bien) <<- ~>> *
__[i]__  en (?:janvier|février|mars|avril|mai|jui(?:n|llet)|ao[ûu]t|septembre|octobre|novembre|décembre) dernier <<- ~>> *
__[i]__  en (?:[mts]on|leur|[nv]otre) (?:âme et conscience|for intérieur) <<- ~>> *
__[i]__  en ce(?: (?:moment|temps-là|qui (?:[mt]e|l(?:es?|a)|[nv]ous) concern(?:e|ait))|t instant) <<- ~>> *
__[i]__  encore (?:une fois|et (?:encore|toujours)) <<- ~>> *
__[i]__  envers (?:autrui|et contre tout|les uns et les autres|tout le monde) <<- ~>> *
__[i]__  entre (?:(?:[mt]oi|lui|elles?|[nv]ous|eux) et (?:[mt]oi|lui|elles?|[nv]ous|eux)|autres choses|de (?:bonnes|mauvaises) mains|l’une? et l’autre|quat(?:re[- ]z-?yeux|’ z-?yeux)) <<- ~>> *
__[i]__  entre (?:janvier|février|mars|avril|mai|juin|juillet|ao[ûu]t|septembre|octobre|novembre|décembre) (?:\d\d{1,3} |)et (?:janvier|février|mars|avril|mai|juin|juillet|ao[ûu]t|septembre|octobre|novembre|décembre)(?: \d\d{1,3}|) <<- ~>> * 
__[i]__  épaule contre épaule <<- ~>> *
__[i]__  été comme hiver <<- ~>> *
__[i]__  (?:oh|ah|euh|eh bien) <<- ~>> *
__[i]__  ex (?:nihilo|cathedra|absurdo|abrupto) <<- ~>> *
__[i]__  face à face <<- ~>> *
__[i]__  (?:deux|trois|quatre|cinq|six|sept|huit|neuf|dix|onze|douze|treize|quatorze|quinze|seize|vingt|trente|quarante|cinquante|soixante|cent) fois de suite <<- ~>> *
__[i]__  grosso modo <<- ~>> *
# __[i]__  grand bien lui fasse
__[i]__  (?:avant-|)hier(?: matin| soir| après-midi|) <<- ~>> *
__[i]__  hors (?:de (?:contrôle|portée)|d’atteinte|du commun) <<- ~>> *
__[i]__  ici(?: comme ailleurs| ou ailleurs| et (?:là|maintenant)| même|-bas) <<- ~>> *
__[i]__  id est <<- ~>> *
__[i]__  il y a (longtemps|peu de temps|très (?:longtemps|peu de temps)|quelques (?:secondes|minutes|heures|jours|semaines|mois|années|siècles|millénaires)|quelque temps) <<- ~>> *
__[i]__  il n’y a pas (?:si |)longtemps <<- ~>> *
__[i]__  illico presto <<- ~>> *
__[i]__  in (?:abstracto|extenso|extremis|fine|petto|situ|utero|vitro|vivo) <<- ~>> *
__[i]__  ipso facto <<- ~>> *
__[i]__  j’en passe et des meilleurs <<- ~>> *
__[i]__  jour pour jour <<- ~>> *
__[i]__  jusque-là <<- ~>> *
__[i]__  jusqu (?:alors|ici|aujourd’hui|au bout des ongles) <<- ~>> *
__[i]__  jusqu à (?:aujourd’hui|bac ?[+] ?\d\d?|présent|maintenant|(?:demain|hier)(?: matin| soir| après-midi|)|nouvel ordre|plus (?:ample informé|soif)|preuve du contraire|la fin de (?:[mts]es|[nv]os|leurs) jours|(?:[mts]on|leur|[nv]otre) dernier souffle(?: de vie|)|ce que (?:mort s’ensuive|(?:j’en sache|tu en saches|(?:il|elle|on) en sache|nous en sachions|vous en sachiez|(?:ils|elles) en sachent) plus)|Noël|Pâques) <<- ~>> *
__[i]__  la (?:plupart du temps|main dans la main|mort dans l’âme) <<- ~>> *
__[i]__  le (?:cas échéant|moins (?:du monde|souvent)|plus (?:tôt|tard|souvent|de (?:temps|monde)) possible|plus souvent) <<- ~>> *
__[i]__  là(?:-bas|-haut|-de(?:dans|hors|rrière|sso?us|vant)| non plus) <<- ~>> *
__[i]__  l’une? (?:après|pour|de(?:rrière|)|avec|contre|sur|près de) l’autre <<- ~>> *
__[i]__  le pour et le contre <<- ~>> nmp
__[i]__  les une?s (?:des |(?:après |pour |avec |contre |sur |derrière |devant |)les) autres <<- ~>> *
__[i]__  non (?:loin (?:d’ici|de là)|plus|seulement) <<- ~>> *
__[i]__  loin (?:de (?:là|tout ça)|d’(?:être|ici)|s’en fa(?:ut|llait)) <<- ~>> *
__[i]__  (?:[lcd]es |)maintes fois <<- ~>> *
__[i]__  malgré (?:[mt]oi|lui|elles?|[nv]ous|eux)(?! qui) <<- ~>> *
__[i]__  malgré (?:ça|cela|tout) <<- ~>> *
__[i]__  manu militari <<- ~>> *
__[i]__  mieux va(?:u|lai)t tard que jamais <<- ~>> *
__[i]__  moins que nécessaire <<- ~>> *
__[i]__  moitié (\w\w+),? moitié (\w\w+) <<- ~>> *
__[i]__  mot pour mot <<- ~>> *
__[i]__  mutatis mutandis <<- ~>> *
__[i]__  ne (?:vous |l(?:ui|eur) |t’)en déplaise <<- ~>> *
__[i]__  nez à nez <<- ~>> *
__[i]__  ni (?:de près,? ni de loin|plus ni moins|vu,? ni connu) <<- ~>> *
__[i]__  non (?:plus|sans raison) <<- ~>> *
__[i]__  nulle part <<- ~>> * 
__[i]__  ou (bien) <<- ~1>> *
__[i]__  ou quelque chose d’approchant <<- ~>> *
__[i]__  où bon (?:me|te|lui|nous|vous|leur) semble <<- ~>> *
__[i]__  oui (?:ou|et) non <<- ~>> *
__[i]__  outre mesure <<- ~>> *
__[i]__  (une?|deux|trois|quatre|cinq|six|sept|huit|neuf|dix|onze|douze|treize|quatorze|quinze|seize|vingt|trente|quarante|cinquante|soixante|cent|mille|éta[pg]e|morceau|pièce) par \1 <<- ~>> *
__[i]__  par (?:à-coups|ailleurs|avance|chance|conséquent|curiosité|contre|défaut|définition|endroits|essence|ex(?:cellence|emple)|hasard|ici|inadvertance|là|moments|monts et par vaux|nature|principe|terre) <<- ~>> *
__[i]__  par (?:la (?:même occasion|suite)|(?:bien des|certains) (?:aspects|côtés)|acquit de conscience|ce biais|égard pour (?:moi|toi|lui|elles?|eux|nous|vous)(?! qui)|beau temps|bonté de cœur|lui-même|elle(?:-même|)|eux(?:-mêmes|)|elles(?:-mêmes|)|les temps qui courent|[nv]ous-mêmes?|[mt]oi(?:-même|)|tout le monde|voie (?:de (?:conséquence|mer|terre)|d’exception)) <<- ~>> *
__[i]__  par-(?:devant|derrière|dessus (?:le marché|tout)|ci,? par-là) <<- ~>> *
__[i]__  par-devers (?:moi|toi|lui|elles?|lui|eux|nous|vous) <<- ~>> *
__[i]__  par (deux|trois|quatre|cinq|six|sept|huit|neuf|dix|onze|douze|treize|quatorze|quinze|seize|vingt|trente|quarante|cinquante|soixante|cent) fois <<- ~>> *
__[i]__  parmi (?:[nv]ous(?: autres|)|eux|elles) <<- ~>> *
__[i]__  partant de là <<- ~>> *
__[i]__  pas (?:du tout|à pas|le moins du monde) <<- ~>> *
__[i]__  pendant (?:ce temps-là|(?:bien |si |assez |)longtemps|plusieurs (?:heures|minutes|secondes|mois|semaines|jours|années|siècles|millénaires|décennies)|quelque temps) <<- ~>> *
__[i]__  petit à petit <<- ~>> *
__[i]__  peu (?:à peu|de temps auparavant|ou prou) <<- ~>> *
__[i]__  pile poil <<- ~>> *
__[i]__  plein (?:nord|sud|ouest|de fois) <<- ~>> *
__[i]__  plus avant(?! de | que?) <<- ~>> *
__[i]__  plus (?:du tout|que (?:jamais|tout(?: au monde|e autre chose))|jamais|bas que terre) <<- ~>> *
__[i]__  plusieurs fois(?: de suite)? <<- ~>> *
__[i]__  pour (?:autrui|le (?:moment|moins|meilleur et pour le pire)|une fois|l’instant|l’heure|de bon|la suite|un oui ou pour un non|ainsi dire|ce faire|quelque (?:part|temps)|tout (?:le monde|un chacun|dire)|faire bonne mesure|y parvenir|couronner le tout|ce que (?:(?:j’|tu )en sais)|ça va(?:ut|lait)) <<- ~>> *
__[i]__  pour (?:[mt]oi|elles?|eux|ça|cela|ceci|ceux-(?:là|ci)|celles?-(?:là|ci))(?! qui) <<- ~>> *
__[i]__  pour la (?:première|seconde|\w[\w-]+ième|dernière) fois(?: de suite| de ma vie|) <<- ~>> *
__[i]__  pour (?:[mts]a|[nv]otre|leur) (?:gouverne|part) <<- ~>> *
__[i]__  pour (?:[mts]on|[nv]otre|leur) propre (?:compte|bien) <<- ~>> *
__[i]__  pour ce(?:lles?|ux|lui) (?:et ce(?:lles?|ux|lui) |)que (?:ça|ce(?:la|ci)) intéresse <<- ~>> *
__[i]__  quand b(?:ien même|on (?:[mt]e|l(?:ui|eur)|[nv]ous) semble) <<- ~>> *
__[i]__  quant à (?:[mt]oi|lui|elles?|[nv]ous|eux)(?! qui) <<- ~>> *
__[i]__  que ça (?:me|te|l(?:ui|eur)|[nv]ous) plaise ou non <<- ~>> *
__[i]__  que (?:je le veuille|tu le veuilles|vous le vouliez|nous le voulions) ou non <<- ~>> *
__[i]__  qu (?:à cela ne tienne|(?:(?:il|elle|on) le veuille|(?:ils|elles) le veuillent) ou non) <<- ~>> *
__[i]__  quel qu en soit le (?:moyen|prix|risque(?: financier|)|danger) <<- ~>> *
__[i]__  quelle qu en soit la (?:cause|raison) <<- ~>> *
__[i]__  quelque(?: (?:part|temps)|s fois) <<- ~>> *
__[i]__  quelques (?:instants|secondes|minutes|heures|jours|semaines|mois|années|siècles|millénaires|trimestres|semestres) (?:auparavant|plus (?:tard|tôt))
    <<- ~>> *
__[i]__  qui plus est <<- ~>> *
__[i]__  qui (ce (?:jour|matin|après-midi|soir)-là|cette (?:nuit|matinée|soirée)-là) <<- ~1>> *
__[i]__  quoi qu il (?:(?:arriv|en co[ûu]t)(?:e|ât)|adv(?:ienne|înt)) <<- ~>> *
__[i]__  sans (?:ambages|arrêt|au(?:cun doute|tre forme de procès)|cesse|commune mesure|conteste|coup férir|crier gare|dire mot|doute|encombres?|états d’âme|fin|foi,? ni loi|le (?:faire exprès|vouloir)|mot dire|nul doute|queue ni tête|raison apparente|relâche|(?:grand|) succès|trêve|(?:pour autant |)y (?:prendre g(?:arde|o[ûu]t)|faire attention|parvenir|réussir|réfléchir|songer|penser)|faire de vagues|s’en (?:rendre compte|apercevoir)|l’aide de personne) <<- ~>> *
__[i]__  séance tenante <<- ~>> *
__[i]__  selon (?:toute vraisemblance|(?:[mt]oi|lui|elles?|eux|nous|vous)(?! qui)) <<- ~>> *
__[i]__  sembl(?:e-t-il|ait-il) <<- ~>> *
__[i]__  sens dessus dessous <<- ~>> *
__[i]__  seule?s? à seule?s? <<- ~>> *
__[i]__  s’il (?:te|vous) pla[îi]t <<- ~>> *
__[i]__  si (?:bas|besoin est|haut|longtemps|possible|soudain|(?:cela|ça) ne tenait qu à (?:moi|toi|lui|eux|elles?|nous|vous)) <<- ~>> *
__[i]__  six pieds sous terre <<- ~>> *
__[i]__  sine (?:die|qua non) <<- ~>> *
__[i]__  soi(?:t dit en passant|-disant) <<- ~>> *
__[i]__  sous (?:bonne (?:escorte|garde)|haute surveillance) <<- ~>> *
__[i]__  stricto sensu <<- ~>> *
__[i]__  sur (?:ce,|le (?:(?:long|moyen|court) terme|qui-vive)|la (?:forme comme sur le fond|même longueur d’onde)|(?:leur|[mts]on|[nv]otre) trente[ -]et[ -]un) <<- ~>> *
__[i]__  tant (?:bien que mal|s’en faut) <<- ~>> *
__[i]__  tôt ou tard <<- ~>> *
__[i]__  tour à tour <<- ~>> *
__[i]__  tous comptes faits <<- ~>> *
__[i]__  tout (?:à (?:fait|coup|l’heure)|le temps|de (?:même|suite|go)|au plus|aussi bien|simplement|bonnement|compte fait|feu, ? tout flammes?|bien (?:considéré|réfléchi)|du long) <<- ~>> *
__[i]__  toutes (?:affaires cessantes|choses égales par ailleurs|griffes dehors|proportions gardées) <<- ~>> *
__[i]__  trait pour trait <<- ~>> *
__[i]__  très (?:bas|haut) <<- ~>> *
__[i]__  (une?) à \1 <<- ~>> *
__[i]__  un (?:à un|jour ou l’autre|instant plus (?:tôt|tard)|moment plus (?:tôt|tard)|peu (?:mieux|moins bien|partout|plus t(?:ôt|ard) que prévu)|tant soit peu) <<- ~>> *
__[i]__  plus t(?:ôt|ard) que prévu <<- ~>> *
__[i]__  une (?:à une|autre fois|bonne fois pour toutes|fois(?: pour toutes| de plus| n’est pas coutume)) <<- ~>> *
__[i]__  une fois <<- ~>> _
__[i]__  urbi et orbi <<- ~>> *
__[i]__  v(?:aille que vaille|entre à terre|ers nulle part) <<- ~>> *

# je / tu / il / elles / nous / vous / ils / elles 
__[i]__  je (?:t’en|vous en) (?:prie|supplie) <<- ~>> *
__[i]__  nous (?:t’en|vous en) (?:prions|supplions) <<- ~>> *

# mot-là
__[i]__  (\w+)(-là) <<- morphex(\1, ":[NAQ]", ":G") ~2>> *

# Après
__[i]__  (?:bien|si|assez) longtemps <<- ~>> *
__[i]__  plus (?:près|loin|tôt|tard|ou moins|que (?:nécessaire|jamais)|d’une fois) <<- ~>> *

## Simplification partielle
__[i]__  (tout au long) d(?:es?|u) <<- not morph(word(-1), ":R", False, False) ~1>> au
__[i]__  à (bonne distance|bord|cause|contre-courant|côté|court|défaut|droite|gauche|hauteur|l’(?:aff[ûu]t|arrière|autre bout|aune|avant|écart|égard|extérieur|encontre|ins(?:u|tar)|intérieur|opposé|orée|approche)|la (?:hauteur|portée|suite)|partir|portée|pro(?:ximité|pos)|quelques (?:mètres|kilomètres|lieues|pas|centaines de mètres|minutes|heures)|rebours) d(?:es?|u) <<- ~1>> *
__[i]__  à (base|grand(?: renfort|s coups)|raison) de? <<- ~1>> *
__[i]__  au (bout|beau milieu|courant|cours|détriment|fin fond|grand dam|fur et à mesure|gré|l(?:ieu|ong|arge)|milieu|nez et à la barbe|plus profond|profit|s(?:ein|ortir|ujet)|vu(?: et au su|)) d(?:es?|u) <<- ~1>> *
__[i]__  aux (abords|dépens) d(?:es?|u) <<- ~1>> *
__[i]__  (compte tenu) d(?:es?|u) <<- ~1>> avec
__[i]__  (de mes yeux) vue?s? <<-  ~1>> *
__[i]__  en (arrière|attente|amont|aval|cas|cours|dehors|dépit|direction|faveur|guise|l’(?:absence|honneur)|lieu et place|plein milieu|présence|raison|sus|termes|vertu) d(?:es?|u) <<- ~1>> *
__[i]__  en (flagrant délit|matière) de? <<- ~1>> *
__[i]__  (en proie) à <<- ~1>> *
__[i]__  (eu égard) (?:à|aux?) <<- ~1>> *
__[i]__  ([dmts]es|nos|vos|le(?:ur|)s) (\d+) (\w[\w-]+)
    <<- not re.match(u"(?i)(?:janvier|février|mars|avril|mai|juin|juillet|ao[ûu]t|septembre|octobre|novembre|décembre|vendémiaire|brumaire|frimaire|nivôse|pluviôse|ventôse|germinal|floréal|prairial|messidor|thermidor|fructidor)s?$", \3) ~2>> *
__[i]__  la (une) d(?:es?|u) <<- ~1>> _
__[i]__  le (long) d(?:es?|u) <<- ~1>> _
__[i]__  par (le biais|l’entremise) d(?:es?|u) <<- ~1>> * 
__[i]__  pour (ou contre) <<- ~1>> *
__[i]__  (vent debout) contre <<- ~1>> *

## Simplifications spécifiques
__[i]__  armées? (de (?:l’air|terre)|jusqu aux dents) <<- ~1>> *
__[i]__  armés? (jusqu aux dents) <<- ~1>> *
__[i]__  armes? (à feu|de (?:poing|guerre|destruction massive)) <<- ~1>> *
__[i]__  (?:attestation|déclaration)s? (sur l’honneur) <<- ~1>> *
__[i]__  ayants (droit) <<- ~1>> *
__[i]__  bo[îi]tes? (aux lettres) <<- ~1>> *
__[i]__  bisph[ée]nol (A) <<- ~1>> *
__[i]__  blanc(?:he|)s? (comme neige|comme de la craie) <<- ~1>> *
__[i]__  chairs? (à (?:pâté|canons?)) <<- ~1>> *
__[i]__  chambres? (d’hôtes|de (?:commerce|compensation)) <<- ~1>> *
__[i]__  chefs?(-d’œuvre) <<- ~1>> *
__[i]__  claire?s? (comme de l’eau de roche) <<- ~1>> *
__[i]__  commise?s? (d’office) <<- ~1>> *
__[i]__  conventions? (récepteur|générateur) <<- ~1>> *
__[i]__  coups? (de (?:cœur|foudre|fil|grâce|jarnac|théâtre|coude|genou|main|p(?:ied|oing|ouce)|tête)|d’(?:avance|éclat|État|œil|épaule)|du sort) <<- ~1>> *
__[i]__  courses? (contre la montre) <<- ~1>> *
__[i]__  (?:co[uû]t|prix) (de revient) <<- ~1>> *
__[i]__  délais? (d’attente|de (?:carence|connexion|prescription|préavis|rétraction|rigueur)) <<- ~1>> *
__[i]__  d[îi]ners? (aux chandelles) <<- ~1>> *
__[i]__  dignes? (de (?:confiance|foi)) <<- ~1>> *
__[i]__  (droit) (?:au but|dans les yeux) <<- ~1>> *
__[i]__  espérances? (de vie) <<- ~1>> *
__[i]__  états? (d’(?:âme|e(?:sprit|xtrême urgence)|urgence)|de (?:conservation|fait|l’art)) <<- ~1>> *
__[i]__  (f[aiîeo]\w*) +(tous(?: deux| trois|)) +(?:allusion|assaut|confiance|chaud|débat|demi-tour|froid|gr(?:ise mine|and cas)|h(?:alte|onte)|ma(?:chine|rche) arrière|p(?:art(?:ie)|eur|rofil bas)|rage|sens|table rase|volte-face) <<- morph(\1, ">faire ", False) ~2>> *
__[i]__  (f[aiîeo]\w*) +(allusion|assaut|confiance|chaud|débat|demi-tour|froid|grise mine|h(?:alte|onte)|ma(?:chine|rche) arrière|p(?:art(?:ie(?: intégrante|)|)|eur|rofil bas)|rage|salle comble|sens|table rase|volte-face|ce que bon (?:me|te|lui|leur|nous|vous) semble) <<- morph(\1, ">faire ", False) ~2>> *
__[i]__  filles? (au pair|à (?:papa|maman)) <<- ~1>> *
__[i]__  fils (à (?:papa|maman)) <<- ~1>> *
__[s]__  [fF]emmes? (de (?:chambre|lettres|loi|ménage)|d’(?:âge mûr|affaires|exception|É(?:tat|glise)|honneur)) <<- ~1>> *
__[s]__  [hH]ommes? (de (?:lettres|loi|main|paille)|d’(?:âge mûr|affaires|armes|exception|É(?:tat|glise)|honneur)) <<- ~1>> *
__[i]__  gardes? (à vue|du corps) <<- ~1>> *
__[i]__  (?:infirmières?|médecins?) (de garde) <<- ~1>> *
__[i]__  (l(?:a (?:nette|bizarre) +|’étrange +|’)impression) +que? <<- ~1>> *
__[i]__  (le (?:pres|)sentiment) +que? <<- ~1>> *
__[i]__  listes? (d’attente) <<- ~1>> *
__[i]__  invitée?s? (d’honneur|surprise) <<- ~1>> *
__[i]__  journa(?:l|ux) (de bord) <<- ~1>> *
__[i]__  mains? (d’œuvre) <<- ~1>> *
__[i]__  ma(?:l|ux) (de (?:tête|ventre)) <<- ~1>> *
__[i]__  marchés? (aux puces) <<- ~1>> *
__[i]__  metteu(?:r|se)s? (en scène) <<- ~1>> *
__[i]__  mineure?s? (de moins de (\w+) ans) <<- \2.isdigit() or morph(\2, ":B", False) ~1>> *
__[i]__  mis(?:es?|) (à (?:jour|niveau|plat|l’écart)|au p(?:oint|as)|en (?:avant|bouche|demeure|garde|œuvre|scène|terre)) <<- ~1>> *
__[i]__  modes? (de (?:paiement|scrutin|vie)) <<- ~1>> *
__[i]__  mots? (de passe) <<- ~1>> *
__[i]__  numéro (un|deux|trois|quatre|cinq|six|sept|huit|neuf|dix(?:-sept|-huit|-neuf|)|onze|douze|treize|quatorze|quinze|seize|vingt|trente|quarante|cinquante|soixante(?:-dix|)|quatre-vingt(?:-dix|)|cent|mille|\d+) <<- ~1>> *
__[i]__  oiseaux? (de (?:malheur|nuit|proie)) <<- ~1>> * 
__[i]__  ondes? (de choc) <<- ~1>> *
__[i]__  orge (perlé|mondé|carré) <<- ~1>> *
__[i]__  noire?s? (comme (?:la nuit|une nuit sans lune)) <<- ~1>> *
__[i]__  pièces? (de (?:théâtre|monnaie|\d+ (?:euros?|centimes?|cents?|livres? sterling|shillings?))) <<- ~1>> *
__[i]__  portes? (de service) <<- ~1>> *
__[i]__  poudres? (aux yeux) <<- ~1>> *
__[i]__  (pr[eiî]\w+) +(à la légère|au dépourvu|de court|en charge|pour argent comptant|par surprise) <<- morph(\1, ">prendre ", False) ~2>> *
__[i]__  quelqu un (d’autre) <<- ~1>> *
__[i]__  remise?s? (à plat) <<- ~1>> *
__[i]__  requêtes? (en (?:nullité|non (?:conciliation|inscription|lieu|révocation de sursis))) <<- ~1>> *
__[i]__  rouges? (à lèvres) <<- ~1>> *
__[i]__  sacs? (à (?:dos|main|langer)) <<- ~1>> *
__[i]__  salles? (à manger|d’attente|de (?:bains?|conférence)) <<- ~1>> *
__[i]__  saine?s? (d(?:e corps et d|)’esprit) <<- ~1>> *
__[i]__  (sembl\w+|par[au]\w+) +(être|avoir été) +(\w[\w-]+) <<- morph(\1, u">(?:sembler|para[îi]tre) ") and morphex(\3, ":A", ":G") ~2>> * 
__[i]__  systèmes? (d’exploitation) <<- ~1>> *
__[i]__  taille (\d+) <<- ~1>> *
__[i]__  (t[eiî]\w+) (compte) d(?:es?|u) <<- morph(\1, ">tenir ", False) ~2>> *
__[i]__  (tout un) chacun <<- ~1>> *
__[i]__  (tri\w+) (sur le volet) <<- morph(\1, ">trier ", False) ~2>> *
__[i]__  tueu(?:r|se)s? (à gages) <<- ~1>> *
__[i]__  (v[eiî]n\w+) (on ne sait d’où) <<- morph(\1, ">venir ", False) ~2>> *
__[i]__  vernis (à ongles) <<- ~1>> *
__[i]__  vols? (à l(?:’étalage|a (?:sauvette|tire))) <<- ~1>> *
__[i]__  voies? (de recours) <<- ~1>> *
__[i]__  usines? (à gaz) <<- ~1>> *

# simplification des nombres
__<i]__  dix-(?:sept|huit|neuf) <<- ~>> dix
__[i]__  (?:vingt|trente|quarante|cinquante)(-(?:deux|trois|quatre|cinq|six|sept|huit|neuf|et-un)| et un) <<- ~1>> *
__[i]__  soixante-(?:d(?:eux|ix|ouze)|tr(?:ois|eize)|quat(?:re|orze)|cinq|six|sept|huit|neuf|quinze|seize| et (?:un|onze)|-et-(?:un|onze))
    <<- ~>> soixante
__[i]__  quatre-vingt-(?:un|d(?:eux|ix|ouze)|tr(?:ois|eize)|quat(?:re|orze)|cinq|six|sept|huit|neuf|onze|quinze|seize)
    <<- ~>> quatre-vingts

__[i]__  ((?:d(?:eux|ouze)|tr(?:ois|eize)|quat(?:re|orze)|cinq|s(?:ix|seize)|sept|huit|neuf|onze|quinze) cents) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:[pi]", ":(?:G|3p)") ~1>> cent
__[i]__  (?:deux|trois|quatre|cinq|six|sept|huit|neuf|cent) (?:cent |)mille
    <<- ~>> mille

__[i]__  (?:le(?:ur|)s|des|ses|ces|mes|tes|nos|vos|leurs) +((?:quelque +|)(?:d(?:eux|ix|ouze)|tr(?:ois|eize|ente)|qua(?:t(?:re(?:-vingts|)|orze)|rante)|cinq(?:uante|)|s(?:ix|eize|oixante)|sept|huit|neuf|onze|quinze|vingt|cent|mille)) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:[pi]", ":(?:G|3p)") ~1>> *

__[i]__  (?:à |d(?:e +|’))une +heure(?: (?:d(?:eu|i)x|tr(?:ois|eize|ente)|qu(?:a(?:t(?:re|orze)|rante)|inze)|cinq(?:uante|)|s(?:ix|ept|eize)|huit|neuf|onze|douze|vingt)|) <<- ~>> *
__[i]__  (?:à|de) (?:d(?:eu|i)x|tr(?:ois|eize)|qu(?:at(?:re|orze)|inze)|cinq|s(?:ix|ept|eize)|huit|neuf|onze|douze|vingt) +heures(?: (?:d(?:eu|i)x|tr(?:ois|eize|ente)|qu(?:a(?:t(?:re|orze)|rante)|inze)|cinq(?:uante|)|s(?:ix|ept|eize)|huit|neuf|onze|douze|vingt)|) <<- ~>> *

## Conditionnel
__[i]__  à (\w[\w-]+) pour cent <<- morph(\1, ":B", False) ~>> *
__[i]__  au moins <<- morph(word(-1), ":V0", False) or not morph(word(1), ":A", False) ~>> *
__[i]__  au hasard <<- isEndOfNG() ->> *
__[i]__  aussi (\w[\w-]+) que (?:nécessaire|possible) <<- morph(\1, ":W", False) ~>> *
__[i]__  au sens (?:le (?:plus|moins) |)(\w[\w-]+) du terme <<- morph(\1, ":A .*:m:s", False) ~>> *
#__[i]__  aussi (\w[\w-]+) que ce soit
__[i]__  (nombre) des? <<- morph(word(-1), ":(?:R|C[sc])", False, True) ~1>> *
__[i]__  à (\w[\w-]+) reprises <<- morph(\1, ":B", False) or re.match("(?i)(?:plusieurs|maintes)", \1) ~>> *
__[i]__  bien entendu <<- morph(word(1), ":[NAQ]", False, True) ~>> *
__[i]__  (\w[\w-]+) (comme (?:eux|elles?|lui|ça|celui-(?:ci|là)|celles?-(?:ci|là)|ceux(?:ci|là)|l[ea] [nv]ôtre|le [mts]ien|la [mts]ienne|les ([nv]ôtres|sien(?:ne|)s)))
    <<- morphex(\1, ":[NAQ]", ":V0") ~2>> *
__[i]__  (\w[\w-]+) (pêle-mêle) <<- not morph(\1, ":D", False) ~2>> *
__[i]__  (\w[\w-]+) (droit) devant <<- not morph(\1, ":D.*:[me]:[si]", False) ~2>> *
__[i]__  (d[eouû]\w+|cr[ouû]\w+|pens\w+|imagin\w+|estim\w+) (l(?:eur|ui)|nous|vous) être <<- morph(\1, ">(?:croire|devoir|estimer|imaginer|penser) ") ~2>> *
__[i]__  (en partie) (\w[\w-]+) <<- morph(\1, ":(?:R|D|[123]s|X)", False) ~1>> *
__[i]__  haut et fort <<- not morph(word(-1), ":D", False, False) ~>> *
__[i]__  hélas <<- not before(u"(?i)\\bt(?:u|oi qui)\\b") ~>> *
__[i]__  nécessité fait loi <<- not morph(word(-1), ":D", False, False) ~>> *
__[i]__  (non|par trop) (\w[\w-]+) <<- morph(\2, ":A", False) ~1>> *
__[i]__  plein est <<- not morph(word(-1), ":D", False, False) ~>> *
__[i]__  (?:plus|moins|aussi) (\w\w\w+) que prévu <<- morph(\1, ":W", False) ~>> *
__[i]__  (?:plus|moins|aussi) (\w\w\w+) (que (?:les autres|l’autre)) <<- morphex(\1, ":[AW]", ":G") ~2>> *
__[i]__  plus (\w\w\w+) (les une?s que les autres) <<- morph(\1, ":[AW]", False) ~2>> *
__[i]__  (pour autant (?:que (?:je sache|tu saches|nous sachions|vous sachiez)|qu (?:il|elle)(?: sache|s sachent))) (\w[\w-]*)
    <<- not morph(\2, ":Y", False) ~1>> *
#__[i]__  avec (\w+) <<- morph(\1, ":N") and not re.match("(?i)(force|air)$", \1) and not morph(word(1), ":A", False) ~>> *
__[i]__  (\w[\w-]+) +(tête baissée) <<- morphex(\1, ":[NV]", ":D") ~2>> *
__[i]__  ((?:pas |)tant que ça) (\w+) <<- not morph(\2, ":(?:3s|X)", False) ~1>> *
__[i]__  (le|un|ce|[mts]on) (putain d(?:e +|’))(\w[\w-]+) <<- morph(\3, ":[me]", False) ~2>> *

# Noms propres
__[s]__  Amérique (centrale|du (?:Nord|Sud)) <<- ~1>> *
__[s]__  ([A-ZÉÈÂ][\w-]+) ([A-ZÉÈÂ][\w-]+) <<- morph(\1, ":M[12]", False) and (morph(\2, ":(?:M[12]|V)", False) or not spell(\2)) ~2>> * 
__[s]__  (?:de |d’)([A-ZÉÈÂ][\w-]+) +(?:et|ou) +(?:de |d’)([A-ZÉÈÂ][\w-]+) <<- morph(\1, ":M", False) and morph(\2, ":M", False) ~>> *
__[s]__  (?:de |d’)([A-ZÉÈÂ][\w-]+) <<- morph(\1, ":M", False) ~>> *
__[s]__  entre ([A-ZÉÈÂ][\w-]*) +et ([A-ZÉÈÂ][\w-]*) <<- morph(\1, ":(?:M[12]|N)") and morph(\2, ":(?:M[12]|N)") ~>> *
__[s]__  en ([A-ZÉ][\w-]+) <<- morph(\1, ":(?:N|MP)") and \1 != u"République" ~>> *
__[s]__  [lcLC]e (?:baron|docteur|député|duc|frère|prince|professeur|roi|sénateur) ([A-ZÉÈÂ][\w-]+) <<- morph(\1, ":M[12]", False) ~1>> *
__[s]__  (?:[lL]a|[cC]ette) (?:baronne|docteure?|députée|duchesse|sœur|princesse|professeure?|reine|sénatrice) ([A-ZÉÈÂ][\w-]+)
    <<- morph(\1, ":M[12]", False) ~1>> *
__[s]__  M(?:r|lle|me|gr|iss) ([A-ZÉÈÂ][\w-]+) <<- ~1>> *
__[s]__  ([A-ZÉÈÊ][\w-]+) +et (lui|elles?|eux|[nv]ous|[mt]oi)
    <<- morph(\1, ":[MT]", False) and morph(word(-1), ":Cs", False, True) and not before(u"\\b(?:plus|moins|aussi) .* que +$")
    ~>> =rewriteSubject(\1,\2)

# après être, après avoir
__[i]__  ({etre}) +(à jamais|un jour|sous peu|du moins|avant tout|de passage|frère et sœur|mari et femme|père et mère|papa et maman)
    <<- morph(\1, ":V0e", False) ~2>> *
__[i]__  ([ésf]\w+)-(?:ils|[nv]ous|elles) +(frère et sœur|mari et femme|père et mère|papa et maman|bon marché|meilleur marché)
    <<- morph(\1, ":V0e", False) ~2>> *
__[i]__  (\w+) +(on ne peut (?:pas |)(?:plus|moins)|plus que) +(\w\w+) <<- morph(\1, ":(?:V0e|N)", False) and morph(\3, ":[AQ]", False) ~2>> *
__[i]__  ({avoir_etre}) +(pas|jamais|plus|en partie|point|tous (?:deux|trois)) <<- morph(\1, ":V0", False) ~2>> *
__[i]__  ({avoir_etre}) +(beaucoup|bien entendu|dans (?:leur |son |l’)ensemble|à ce(?:t (?:instant|endroit)| moment)|sans peine|un (?:moment|peu|minimum|petit peu|tout petit peu)) +(\w[\w-]+)
    <<- morph(\1, ":V0", False) and morph(\3, ":[QY]", False) ~2>> *
__[i]__  ({avoir}) +(besoin|bon (?:dos|pied,? bon œil)|confiance|crainte|faim|honte|partie gagnée|peur|soif|voix au chapitre)
    <<- morph(\1, ":V0a", False) ~2>> *
__[i]__  ({avoir}) +(tou(?:te|)s les (\w[\w-]+)) +(\w[\w-]+)
    <<- morph(\1, ":V0a", False) and morph(\3, ":B", False) and morph(\4, ":(?:Q|V1.*:Y)", False) ~2>> *

# après verbe
__[i]__  (\w+) (?:pas |)(jour et nuit|quand même(?: pas|)) <<- morph(\1, ":V", False) ~2>> *
__[i]__  (\w[\w-]+) (bien entendu|juste|ensemble) <<- morph(\1, ":V[123]") ~2>> *
__[i]__  (\w[\w-]+) ((?:fort|très|super) (?:bien|mal)|bien|mal) <<- morph(\1, ":V[123]", False) ~2>> *
__[i]__  (\w[\w-]*) ((?:[mt]oi|[nv]ous|elles?|lui|eux) aussi) <<- morph(\1, ":V", False) ~2>> *
__[i]__  (?:tout |)aussi <<- ~>> *
__[i]__  aussi(?:tôt|) <<- ~>> *
__[i]__  (\w[\w-]*) (même) <<- morphex(\1, ":V", ":G") ~2>> *

# avant adjectifs, avant adverbes
__[i]__  le (\w[\w-]+) (le plus) (\w[\w-]+)
    <<- morphex(\1, ":[NAQ].*:[me]", ":G") and morph(\3, ":[AQ].*:[me]", False) ~2>> *
__[i]__  la (\w[\w-]+) (la plus) (\w[\w-]+)
    <<- morphex(\1, ":[NAQ].*:[fe]", ":G") and morph(\3, ":[AQ].*:[fe]", False) ~2>> *
__[i]__  [ld]es (\w[\w-]+) (les plus) (\w[\w-]+)
    <<- morphex(\1, ":[NAQ].*:[pi]", ":[123][sp]") and morph(\3, ":[AQ].*:[pi]", False) ~2>> * 
__[i]__  bien sûr(?! de) <<- ~>> *
__[i]__  (bien|mal|(?:fort|super) (?:bien|mal)|fort) +(\w[\w-]+)
    <<- morph(\2, ":[AW]") ~1>> *
__[i]__  (à (?:demi|peine|peu près)|depuis peu|quelque peu|pas très|un (?:petit |)peu(?: plus| moins|)|un minimum|peu|plus|moins|si) +(\w[\w-]+)
    <<- morph(\2, ":[AW]", False) ~1>> *
__[i]__  (un (?:brin|chou[iï]a|tantinet|soupçon)) (\w[\w-]+) <<- morph(\2, ":[AQ]", False) ~1>> *
__[i]__  (assez|trop) +(\w+ment)
    <<- morphex(\2, ":W", ":3p") ~>> *
__[i]__  (assez|trop) +(\w[\w-]+)
    <<- morphex(\2, ":[AW]", ":[123][sp]") ~1>> *


# adverbes en -ment
__[i]__  (\w[\w-]+) ((?:le|la) (?:plus|moins) (\w+ment)) (\w[\w-]+)
    <<- morph(\1, ":[NAQ]", False) and morph(\3, ":W", False) and morph(\4, ":[AQ]", False) ~2>> *
__[i]__  complètement <<- not morph(word(-1), ":D", False, True) ~>> *
__[i]__  (\w+ment)(?: parlant|) <<- morph(\1, r":W\b") ~>> *

# couleurs invariables
__[i]__  (\w[\w-]+) +((?:beige|blanc|bleu|brun|châtain|cyan|gris|jaune|magenta|marron|orange|pourpre|rose|rouge|vert|violet) (?:clair|fluo|foncé|irisé|pâle|pastel|sombre|vif))
    <<- morph(\1, ":[NAQ]", False) ~2>> *

# locutions adjectivales & couleurs
__[i]__  (\w[\w-]+) +(bas(?: de gamme|se consommation)|bon (?:enfant|marché|teint|chic,? bon genre)|dernier cri|fleur bleue|grand (?:public|luxe)|grandeur nature|haut(?: de gamme|e résolution)|longue (?:portée|durée)|meilleur marché|numéro (?:un|deux|trois|quatre|cinq|six|sept|huit|neuf|dix(?:-sept|-huit|-neuf)|onze|douze|treize|quatorze|quinze|seize|vingt)|plein cadre|top secret|vieux jeu|open source|Créative Commons|pur jus|terre à terre|bleu (?:saphir|turquoise)|vert (?:émeraude|olive|pomme)|rouge (?:brique|rubis|sang)|jaune sable|blond platine|gris (?:acier|anthracite|perle)|noir (d(?:’encre|e jais)|et blanc))
    <<- morph(\1, ":(?:N|A|Q|V0e)", False) ~2>> *

# tous / tout / toute / toutes
__[i]__  (tout) (?:le|cet?|[mts]on) <<- ~1>> *
__[i]__  (toute) (?:la|cette|[mts]a) <<- ~1>> *
__[i]__  (tou(?:te|)s) (?:[ldscsmt]es) <<- ~1>> *


## 1 mot
__[i]__  ai(?:lleurs|nsi) <<- ~>> *
__[i]__  al(?:entour|ors) <<- ~>> *
__[i]__  au(?:jourd’hui|paravant) <<- ~>> *
__[i]__  bientôt <<- ~>> *
__[i]__  ce(?:pendant|rtes) <<- ~>> *
__[i]__  ci-desso?us <<- ~>> *
__[i]__  de(?:bout|rechef) <<- ~>> *
__[i]__  (depuis), <<- ~1>> *
__[i]__  dé(?:jà|sormais) <<- ~>> *
__[i]__  do(?:nc|rénavant) <<- ~>> *
__[i]__  en(?:fin|suite|core) <<- ~>> *
__[i]__  guère <<- ~>> *
__[i]__  jadis <<- ~>> *
__[i]__  lo(?:in|ngtemps) <<- ~>> *
__[i]__  mouais <<- ~>> *
__[i]__  n(?:aguère|éanmoins) <<- ~>> *
__[i]__  par(?:fois|tout) <<- ~>> *
__[i]__  p(?:eut-être|lutôt|ourtant|resque|rimo) <<- ~>> *
__[i]__  quelquefois <<- ~>> *
__[i]__  sou(?:dain|vent) <<- ~>> *
__[i]__  tou(?:jours|tefois) <<- ~>> *
__[i]__  secondo <<- ~>> *
__[i]__  sur(?:-le-champ|tout) <<- ~>> *
__[i]__  t(?:ôt|ard|antôt|ertio) <<- ~>> *
__[i]__  très <<- ~>> *
__[i]__  volontiers <<- ~>> *

# après
__[i]__  au fur et à mesure <<- ~>> *
__<i>__  , +(?:oui|non|entre autres), <<- ~>> *
__<s>__  , +, <<- ~>> *
__<s>__  ^ *, <<- ~>> *
__<s>__  , *$ <<- ~>> *
__<s>__  [—–-] +[—–-] <<- ~>> *
__<s>__  [<] +[>] <<- ~>> *
__<s>__  [(] +[)] <<- ~>> *


#### DÉSAMBIGUÏSATION

__[i]__  ({avoir}) +(\w[\w-]*[eiuts])
    <<- morph(\1, ":V0a", False) and morphex(\1, ":Q", ":G")
    =>> exclude(\2, ":A")


### Désambiguïsation par séparation de le/la/les avec la suite s’il s’agit de COD dans les syntagmes verbaux
__[i>__  [nmts]e l(?:es?|a)( ) <<- ~1>> @
__[i>__  je l(?:es?|a)( ) <<- not morph(word(-1), ":1s", False, False) ~1>> @
__[i>__  tu l(?:es?|a)( ) <<- not morph(word(-1), ":2s", False, False) ~1>> @
__[i>__  (il|elle|on) l(?:es?|a)( ) <<- not morph(word(-1), ":3s", False, False) ~2>> @
__[i>__  nous l(?:es?|a)( ) <<- not morph(word(-1), ":1p", False, False) ~1>> @
__[i>__  vous l(?:es?|a)( ) <<- not morph(word(-1), ":2p", False, False) ~1>> @
__[i>__  (ils|elles) l(?:es?|a)( ) <<- not morph(word(-1), ":3p", False, False) ~2>> @ 
__[i]__  l(?:es?|a)( )(\w[\w-]+) <<- morph(\2, ":[123][sp]") ~1>> @


### DPP: Désambiguïsation par distinction des mots qui sont à la fois (verbes conjugués ET (noms ET/OU adjectifs))
# Cette distinction est nécessaire seulement pour les mots suivant un groupe nominal.
# Exemples : finis, donne(s), avance(s), bavarde(s)
__[i]__  (?<![lL]’)une? (\w[\w-]+)( ) *(\w[\w-]+) 
    <<- isAmbiguousNAV(\3) and morph(\1, ":[NAQ]", False)
    ~2>> ~
__[i]__  (?:d(?:es? |’)|[mts](?:es|on|a) |ce(?:s|t(?:te|)|rtaine?s|) |[nv](?:otre|os) |leurs |quelques ) *(\w[\w-]+)( ) *(\w[\w-]+)
    <<- isAmbiguousNAV(\3) and morph(\1, ":[NAQ]", False) and not re.match("[dD](?:’une?|e la) ", \0)
    ~2>> ~
__[i]__  l(?:es? |a |’|eur ) *(\w[\w-]+)( ) *(\w[\w-]+)
    <<- isAmbiguousNAV(\3) and ( morphex(\1, ":[NAQ]", ":3[sp]") or (morph(\1, ":[NAQ]", False) and not word(-1)) )
    ~2>> ~



#
# //////////////////////////////////////// RÈGLES DE CONTRÔLE ////////////////////////////////////////
#


#### Redondances
 
__[i]/redon2__   (\w[\w-]{3,})[ ,].* (\1) <<- not morph(\1, ":(?:G|V0)", False) -2>> _                  # Dans cette phrase, répétition de « \1 ».


############################## GROUPE NOMINAL ##############################

#### 1 mot

## Usage impropre

__[i]__  (au le) (\w[\w-]+) <<- morph(\2, ":[NAQ]", False) -1>> au
    # Usage impropre. Après “au”, l’article “le” est inapproprié. (Ex : Je vais à la gare, je vais au stade.)
__[i]__  (au les) (\w[\w-]+) <<- morph(\2, ":[NAQ]", False) -1>> aux
    # Usage impropre. Après “au”, l’article “les” n’est pas nécessaire.
__[i]__  (au) la (\w[\w-]+) <<- morph(\2, ":[NAQ].*:f", False) -1>> à
    # Usage impropre. Avec un nom féminin, utilisez la préposition “à”. (Ex : Je vais à la gare, je vais au stade.)
__[i]__  (au) l’\w[\w-]+ <<- -1>> à
    # Usage impropre.


## Genre

__<i]/gn__  , (le) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:f", ":(?:e|m|P|G|W|[123][sp]|Y)")
    -1>> la                                                                 # Accord de genre erroné : « \2 » est féminin.
__[i]/gn__  (\w[\w-]*) (le) +(\w[\w-]+)
    <<- morphex(\3, ":[NAQ].*:f", ":(?:e|m|P|G|W|[123][sp]|Y)")
    or ( morphex(\3, ":[NAQ].*:f", ":[me]") and morphex(\1, ":R", ">(?:e[tn]|ou) ") and not (morph(\1, ":Rv", False) and morph(\3, ":Y", False)) )
    -2>> la                                                                 # Accord de genre erroné : « \3 » est féminin.
__[i]/gn__  ^ *(le) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:f", ":(?:e|m|P|G|W|Y)")
    -1>> la                                                                 # Accord de genre erroné : « \2 » est féminin.

__[i]/gn__  (ledit) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:f", ":[GWme]")
    -1>> ladite                                                             # Accord de genre erroné : « \2 » est féminin.
__[i]/gn__  (un) +(?:des |)(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:f", ":(?:e|m|G|W|V0|3s)")
    -1>> une                                                                # Accord de genre erroné : « \2 » est féminin.
__[i]/gn__  (certains) +(?:des |)(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:f", ":(?:e|m|G|W|P)")
    -1>> certaines                                                          # Accord de genre erroné : « \2 » est féminin.
__[i]/gn__  (du) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:f", ":[GWme]")
    -1>> de la                                                              # Accord de genre erroné : « \2 » est féminin.
__[i]/gn__  (cet?) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:f", ":[GWme]")
    -1>> cette                                                              # Accord de genre erroné : « \2 » est féminin.
__[i]/gn__  (au) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:f:s", ":[GWme]")
    -1>> à la                                                               # Accord de genre erroné : « \2 » est féminin.

__<i]/gn__  , +(la) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:m", ":(?:e|f|P|G|W|[1-3][sp]|Y)")
    -1>> le                                                                 # Accord de genre erroné : « \2 » est masculin.
__[i]/gn__  (\w[\w-]*) (la) +(\w[\w-]+)
    <<- morphex(\3, ":[NAQ].*:m", ":(?:e|f|P|G|W|[1-3][sp]|Y)")
    or ( morphex(\3, ":[NAQ].*:m", ":[fe]") and morphex(\1, ":[RC]", ">(?:e[tn]|ou) ") and not (morph(\1, ":(?:Rv|C)", False) and morph(\3, ":Y", False)) )
    -2>> le                                                                 # Accord de genre erroné : « \3 » est masculin.
__[i]/gn__  ^ *(la) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:m", ":[efPGWY]")
    -1>> le                                                                 # Accord de genre erroné : « \2 » est masculin.

__[i]/gn__  (ladite) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:m", ":[efGW]")
    -1>> ledit                                                              # Accord de genre erroné : « \2 » est masculin.
__[i]/gn__  (une) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:m", ":(?:e|f|G|W|V0|3s|P)") and not ( \2 == "demi" and morph(word(1), ":N.*:f") )
    -1>> un                                                                 # Accord de genre erroné : « \2 » est masculin.
__[i]/gn__  (une) +des +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:m", ":(?:e|f|G|W|V0|3s)")
    -1>> un                                                                 # Accord de genre erroné : « \2 » est masculin.
__[i]/gn__  (certaines) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:m", ":[efGWP]")
    -1>> certains                                                           # Accord de genre erroné : « \2 » est masculin.
__[i]/gn__  (certaines) +des (\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:m", ":[efGW]")
    -1>> certains                                                           # Accord de genre erroné : « \2 » est masculin.
__[i]/gn__  (cette) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:m", ":[efGW]")
    -1>> =ceOrCet(\2)                                                       # Accord de genre erroné : « \2 » est masculin.
    
__[i]/gn__  (([mts])on) +([^aâeéèêiîoôuûyœæhAÂEÉÈÊIÎOÔUÛYŒÆH\s][\w-]+)
    <<- morphex(\3, ":[NAQ].*:f", ":[GWme]")
    -1>> \2a                                                                # Accord de genre erroné : « \3 » est féminin.
__[i]/gn__  (([mst])a) ([aâeéèêiîoôuûyœæAÂEÉÈÊIÎOÔUÛYŒÆ]\w+)
    <<- morphex(\3, ":[NAQ].*:f", ":[eGW]")
    -1>> \2on                                                               # Même si « \3 » est féminin, on utilise « \2on » pour faire la liaison.
__[i]/gn__  (([mts])a) +(\w[\w-]+)
    <<- morphex(\3, ":[NAQ].*:m", ":[efGW]")
    -1>> \2on                                                               # Accord de genre erroné : « \3 » est masculin.

## Euphonie
__[i]/gn__  (cet) +([bcçdfgjklmnpqrstvwxz][\w-]+)
    <<- morphex(\2, ":[NAQ].*:m", ":[efGW]")
    -1>> ce                                                 # Accord de genre correct, mais euphonie non respectée.|http://fr.wikipedia.org/wiki/Euphonie

## Nombre

__<i]/gn__  , les +(\w[\w-]+)
    <<- (morph(\1, ":[NAQ].*:s")
    and not (after(" +(?:et|ou) ") and morph(word(2), ":[NAQ]", True, False)))
    or \1 in aREGULARPLURAL
    -1>> =suggPlur(@)                                                                        # Accord de nombre erroné : « \1 » devrait être au pluriel.
__[i]/gn__  (\w[\w-]*) les +(\w[\w-]+)
    <<- (morph(\2, ":[NAQ].*:s") or (morphex(\2, ":[NAQ].*:s", ":[pi]|>avoir") and morphex(\1, ":[RC]", ">(?:e[tn]|ou) ") and not (morph(\1, ":Rv", False) and morph(\2, ":Y", False))))
    and not (after(" +(?:et|ou) ") and morph(word(2), ":[NAQ]", True, False))
    -2>> =suggPlur(@)                                                                        # Accord de nombre erroné : « \2 » devrait être au pluriel.
__[i]/gn__  ^ *les +(\w[\w-]+)
    <<- (morphex(\1, ":[NAQ].*:s", ":[ipYPGW]")
    and not (after(" +(?:et|ou) ") and morph(word(2), ":[NAQ]", True, False)))
    or \1 in aREGULARPLURAL
    -1>> =suggPlur(@)                                                                        # Accord de nombre erroné : « \1 » devrait être au pluriel.
__[i]/gn__  ([dcmts]es|[nv]os|leurs|quelques|plusieurs|lesdits|aux|moult) +(\w[\w-]+)
    <<- (morphex(\2, ":[NAQ].*:s", ":[ipGW]")
    and not (after(" +(?:et|ou) ") and morph(word(2), ":[NAQ]", True, False)))
    or \2 in aREGULARPLURAL
    -2>> =suggPlur(@)                                                                        # Accord de nombre erroné : « \2 » devrait être au pluriel.
__[i]/gn__  certaine?s +(\w[\w-]+)
    <<- (morphex(\1, ":[NAQ].*:s", ":[ipPGW]")
    and not (after(" +(?:et|ou) ") and morph(word(2), ":[NAQ]", True, False)))
    or \1 in aREGULARPLURAL
    -1>> =suggPlur(@)                                                                        # Accord de nombre erroné : « \1 » devrait être au pluriel.

__[i]/gn__  nombre d(?:e +|’)(\w[\w-]+)
    <<- (morphex(\1, ":[NAQ].*:s", ":[ip]") and morphex(word(-1), ":(?:G|[123][sp])", ":[AD]", True))
    or \1 in aREGULARPLURAL
    -1>> =suggPlur(@)                                                                        # Ici, « nombre de » devrait être suivi d’un pluriel.

__[i]/gn__  ([ldcsmt]es|leurs|nos|vos) (?:centaine|milli(?:er|ion|iard)|d(?:ix|ouz)aine|multitude|horde)s d(?:e +|’)(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:s", ":[ip]") or \2 in aREGULARPLURAL
    -2>> =suggPlur(@)                                                                        # Mettre au pluriel.

__[i]/gn__  (une?|l[ea]|ce(?:tte|)|s(?:on|a)|m(?:on|a)|t(?:on|a)) (?:centaine|milli(?:er|ion|iard)|d(?:ix|ouz)aine|multitude|horde) d(?:e +|’)(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:s", ":[ip]") or \2 in aREGULARPLURAL
    -2>> =suggPlur(@)                                                                        # Mettre au pluriel.

__[i]/gn__ l’(\w[\w-]+)
    <<- morphex(\1, ":[NAQ].*:p", ":[123][sp]|:[si]")
    -1>> =suggSing(@)                                                                        # Accord de nombre erroné :  « \1 » devrait être au singulier.

__<i]/gn__  , +l(?:e|a|eur) +(\w[\w-]+)
    <<- morph(\1, ":[NAQ].*:p")
    -1>> =suggSing(@)                                                                        # Accord de nombre erroné : « \1 » devrait être au singulier.
__[i]/gn__  (\w[\w-]*) +l(?:e|a|eur) +(\w[\w-]+)
    <<- morph(\2, ":[NAQ].*:p")
    or ( morphex(\2, ":[NAQ].*:p", ":[si]") and morphex(\1, ":[RC]", ">(?:e[tn]|ou)") and not (morph(\1, ":Rv", False) and morph(\2, ":Y", False)) )
    -2>> =suggSing(@)                                                                        # Accord de nombre erroné : « \2 » devrait être au singulier.
__<i]/gn__  ^ *l(?:e|a|eur) +(\w[\w-]+)
    <<- morphex(\1, ":[NAQ].*:p", ":[siGW]")
    -1>> =suggSing(@)                                                                        # Accord de nombre erroné : « \1 » devrait être au singulier.

__[i]/gn__  (ce(?:t|tte|)|du|[mts](?:on|a)|[nv]otre|ledit|ladite|au|chaque) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:p", ":[siGW]")
    -2>> =suggSing(@)                                                                        # Accord de nombre erroné : « \2 » devrait être au singulier.

__[i]/gn__  (au) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:p", ":[siGW]")
    -1>> aux                                                                                 # Accord de nombre erroné : « \2 » est au pluriel.

__[i]/gn__  (quelque) +(\w[\w-]+)(?! que?)
    <<- morphex(\2, ":[NAQ].*:p", ":[siG]")
    -1>> quelques                                                                       # Il manque un “s” à « quelque » ou « \2 » doit être au singulier.

__[i]/gn__  une? +(\w[\w-]+)
    <<- morphex(\1, ":[NAQ].*:p", ":[siGW]") and not morph(word(-2), ":B", False)
    -1>> =suggSing(@)                                                                        # Accord de nombre erroné : « \1 » devrait être au singulier.

__[i]/gn__  (d(?:eux|ix|ouze)|tr(?:ois|eize)|qua(?:tre(?:-vingt(?:s|-dix)|)|torze|rante)|cinq(?:uante|)|six|sept(?:ante|)|huit(?:ante|)|onze|quinze|seize|vingt|trente|soixante(?:-dix|)|cents?|octante|nonante) +(\w[\w-]+)
    <<- (morph(\2, ":[NAQ].*:s")
    and not re.match(u"(?i)(janvier|février|mars|avril|mai|juin|juillet|ao[ûu]t|septembre|octobre|novembre|décembre|rue|route|ruelle|place|boulevard|avenue|allée|chemin|sentier|square|impasse|cour|quai|chaussée|côte|vendémiaire|brumaire|frimaire|nivôse|pluviôse|ventôse|germinal|floréal|prairial|messidor|thermidor|fructidor)$", \2))
    or \2 in aREGULARPLURAL
    -2>> =suggPlur(@)                                                    # Accord de nombre erroné avec « \1 » : « \2 » devrait être au pluriel.

__[i]/gn__  (neuf) +(\w[\w-]+)
    <<- (morph(\2, ":[NAQ].*:s") and not morph(word(-1), ":N", False)
    and not re.match(u"(?i)(janvier|février|mars|avril|mai|juin|juillet|ao[ûu]t|septembre|octobre|novembre|décembre|rue|route|ruelle|place|boulevard|avenue|allée|chemin|sentier|square|impasse|cour|quai|chaussée|côte|vendémiaire|brumaire|frimaire|nivôse|pluviôse|ventôse|germinal|floréal|prairial|messidor|thermidor|fructidor)$", \2))
    or \2 in aREGULARPLURAL
    -2>> =suggPlur(@)                                                    # Accord de nombre erroné avec « \1 » : « \2 » devrait être au pluriel.

__[i]/gn__  mille +(\w[\w-]+)
    <<- (morph(\1, ":[NAQ].*:s") or \1 in aREGULARPLURAL) and not before("(?i)\\b(?:le|un|ce|du) +$")
    -1>> =suggPlur(@)                                                    # Accord de nombre erroné avec « mille » : « \1 » devrait être au pluriel.

__[i]/gn__  [01] (\w[\w-]+)
    <<- morph(\1, ":[NAQ].*:p")
    and not re.match(u"(?i)(janvier|février|mars|avril|mai|juin|juillet|ao[ûu]t|septembre|octobre|novembre|décembre|rue|route|ruelle|place|boulevard|avenue|allée|chemin|sentier|square|impasse|cour|quai|chaussée|côte|vendémiaire|brumaire|frimaire|nivôse|pluviôse|ventôse|germinal|floréal|prairial|messidor|thermidor|fructidor|Rois|Corinthiens|Thessaloniciens)$", \1)
    -1>> =suggSing(@)                                                    # Accord de nombre erroné : « \1 » devrait être au singulier.
__[i]/gn__  (?<!/)(\d+) (\w[\w-]+)
    <<- (\1 != "1" and \1 != "0" and morph(\2, ":[NAQ].*:s")
    and not re.match(u"(?i)(janvier|février|mars|avril|mai|juin|juillet|ao[ûu]t|septembre|octobre|novembre|décembre|rue|route|ruelle|place|boulevard|avenue|allée|chemin|sentier|square|impasse|cour|quai|chaussée|côte|vendémiaire|brumaire|frimaire|nivôse|pluviôse|ventôse|germinal|floréal|prairial|messidor|thermidor|fructidor)$", \2))
    or \1 in aREGULARPLURAL
    -2>> =suggPlur(@)                                                    # Accord de nombre erroné : « \2 » devrait être au pluriel.


## quel / quels / quelle / quelles
__[i]/gn__  (quel) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:f:p", ":V0e")        -1>> quelles       # Accord de genre et de nombre erroné : « \2 » est féminin et au pluriel.
    <<- morphex(\2, ":[NAQ].*:m:p", ":V0e")        -1>> quels         # Accord de nombre erroné : « \2 » est au pluriel.
    <<- morphex(\2, ":[NAQ].*:f:[si]", ":V0e")     -1>> quelle        # Accord de nombre erroné : « \2 » est féminin.
__[i]/gn__  (quels) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:f:s", ":V0e")        -1>> quelle        # Accord de genre et de nombre erroné : « \2 » est féminin et au singulier.
    <<- morphex(\2, ":[NAQ].*:s", ":V0e")          -1>> quel          # Accord de nombre erroné : « \2 » est au singulier.
    <<- morphex(\2, ":[NAQ].*:f", ":V0e")          -1>> quelles       # Accord de nombre erroné : « \2 » est féminin.
__[i]/gn__  (quelle) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:m:p", ":V0e")        -1>> quels         # Accord de genre et de nombre erroné : « \2 » est masculin et au pluriel.
    <<- morphex(\2, ":[NAQ].*:f:p", ":V0e")        -1>> quelles       # Accord de nombre erroné : « \2 » est au pluriel.
    <<- morphex(\2, ":[NAQ].*:m:[si]", ":V0e")     -1>> quel          # Accord de nombre erroné : « \2 » est masculin.
__[i]/gn__  (quelles) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:m:s", ":V0e")        -1>> quel          # Accord de genre et de nombre erroné. « \2 » est masculin et au singulier.
    <<- morphex(\2, ":[NAQ].*:s", ":V0e")          -1>> quelle        # Accord de nombre erroné : « \2 » est au singulier.
    <<- morphex(\2, ":[NAQ].*:m", ":V0e")          -1>> quels         # Accord de nombre erroné : « \2 » est masculin.

__[i]/gn__  (quel(?:le|)) (sont|étaient|ser(?:o|aie)nt|fu(?:r|ss)ent)
    <<- not before(r"\btel(?:le|)s? +$")
    -1>> \1s                                                            # Accord de nombre erroné avec “\2”.
__[i]/gn__  (quel(?:le|)s) (est|était|serai?t|fut|fût)
    <<- not before(r"\btel(?:le|)s? +$")
    -1>> =\1[:-1]                                                       # Accord de nombre erroné avec “\2”.

__[i]/gn__  (quel) (?:est|était|sera(?:it|)|fut|fût) (la|cette|[mts](?:a|on)|[vn]otre) +(\w[\w-]+)
    <<- not before(r"\btel(?:le|)s? +$") and morphex(\3, ":[NAQ].*:f", ":[mi]")
    -1>> quelle                                                         # Accord de genre erroné avec « \2 \3 ».

__[i]/gn__  (quelle) (?:est|était|sera(?:it|)|fut|fût) (le|cet?|[mts]on|[vn]otre) +(\w[\w-]+)
    <<- not before(r"\btel(?:le|)s? +$") and morphex(\3, ":[NAQ].*:m", ":[fi]")
    -1>> quel                                                           # Accord de genre erroné avec « \2 \3 ».

__[i]/gn__  (quels) (?:sont|étaient|ser(?:o|aie)nt|fu(?:r|ss)ent) (les|ces|[mts]es|[vn]os) +(\w[\w-]+)
    <<- not before(r"\btel(?:le|)s? +$") and morphex(\3, ":[NAQ].*:f", ":[mi]")
    -1>> quelles                                                        # Accord de genre erroné avec « \2 \3 ».

__[i]/gn__  (quelles) (?:sont|étaient|ser(?:o|aie)nt|fu(?:r|ss)ent) (les|ces|[mts]es|[vn]os) +(\w[\w-]+)
    <<- not before(r"\btel(?:le|)s? +$") and morphex(\3, ":[NAQ].*:m", ":[fi]")
    -1>> quels                                                          # Accord de genre erroné avec « \2 \3 ».


## Cas particuliers
__[i]/gn__  [cdmts]es (même|point|pire|son|ton) <<- -1>> \1s            # Accord de nombre erroné : mettez au pluriel.
__[i]/gn__  (trouv\w+) +(ça|ce(?:ci|la)) +(\w[\w-]+)
    <<- morph(\1, ">trouver ", False) and morphex(\3, ":A.*:(?:f|m:p)", ":(?:G|3[sp]|M[12P])")
    -3>> =suggMasSing(@)                                                # Trouver \2 + [adjectif] : l’adjectif s’accorde avec “\2” (au masculin singulier).


#### 2 mots

## Sans article

__[i]/gn__  ^ *(\w[\w-]+) +(\w[\w-]+)
    <<- ((morph(\1, ":[NAQ].*:m") and morph(\2, ":[NAQ].*:f")) or (morph(\1, ":[NAQ].*:f") and morph(\2, ":[NAQ].*:m"))) and not apposition(\1, \2)
    -2>> =switchGender(@)                                                   # Accord de genre erroné avec « \1 ».
    <<- ((morph(\1, ":[NAQ].*:s") and morph(\2, ":[NAQ].*:p")) or (morph(\1, ":[NAQ].*:p") and morph(\2, ":[NAQ].*:s"))) and not apposition(\1, \2)
    -2>> =switchPlural(@)                                                   # Accord de nombre erroné avec « \1 ».

## Prépositions

__[i]/gn__  en +(\w[\w-]+) +(\w[\w-]+)
    <<- ((morph(\1, ":[NAQ].*:m") and morph(\2, ":[NAQ].*:f"))
    or (morph(\1, ":[NAQ].*:f") and morph(\2, ":[NAQ].*:m")))
    and not apposition(\1, \2)
    and morph(word(-1), ":[VRX]", True, True)
    -2>> =switchGender(@)                                                   # Accord de genre erroné avec « \1 ».
    <<- ((morph(\1, ":[NAQ].*:p") and morph(\2, ":[NAQ].*:s"))
    or (morph(\1, ":[NAQ].*:s") and morph(\2, ":[NAQ].*:p")))
    and not apposition(\1, \2)
    and morph(word(-1), ":[VRX]", True, True)
    -2>> =switchPlural(@)                                                   # Accord de nombre erroné avec « \1 ».

__[i]/gn__  (?:à|par|pour|sans) +(\w[\w-]+) +(\w[\w-]+)
    <<- ((morphex(\1, ":[NAQ].*:m", ":[GYfe]") and morph(\2, ":[NAQ].*:f"))
    or (morphex(\1, ":[NAQ].*:f", ":[GYme]") and morph(\2, ":[NAQ].*:m")))
    and not apposition(\1, \2)
    and morph(word(-1), ":[VRX]", True, True)
    -2>> =switchGender(@)                                                   # Accord de genre erroné avec « \1 ».
    <<- ((morphex(\1, ":[NAQ].*:p", ":[GYsi]") and morph(\2, ":[NAQ].*:s"))
    or (morphex(\1, ":[NAQ].*:s", ":[GYpi]") and morph(\2, ":[NAQ].*:p")))
    and not apposition(\1, \2)
    and morph(word(-1), ":[VRX]", True, True)
    -2>> =switchPlural(@)                                                   # Accord de nombre erroné avec « \1 ».

__[i]/gn__  (?:de|sur|avec|après) +(\w[\w-]+) +(\w[\w-]+)
    <<- ((morphex(\1, ":[NAQ].*:m", ":[Gfe]") and morph(\2, ":[NAQ].*:f"))
    or (morphex(\1, ":[NAQ].*:f", ":[Gme]") and morph(\2, ":[NAQ].*:m")))
    and not apposition(\1, \2)
    and morph(word(-1), ":[VRX]", True, True)
    -2>> =switchGender(@)                                                   # Accord de genre erroné avec « \1 ».
    <<- ((morphex(\1, ":[NAQ].*:p", ":[Gsi]") and morph(\2, ":[NAQ].*:s"))
    or (morphex(\1, ":[NAQ].*:s", ":[Gpi]") and morph(\2, ":[NAQ].*:p")))
    and not apposition(\1, \2)
    and morph(word(-1), ":[VRX]", True, True)
    -2>> =switchPlural(@)                                                   # Accord de nombre erroné avec « \1 ».


## l’

__[i]/gn__  (?<!et |ou |de )l’(\w[\w-]+) +(\w[\w-]+)
    <<- not re.match("(?i)air$", \1) and not \2.startswith("seul")
    and ((morph(\1, ":m") and morph(\2, ":[NAQ].*:f")) or (morph(\1, ":f") and morph(\2, ":[NAQ].*:m")))
    and not apposition(\1, \2) and not before(r"\b(et|ou|de) +$")
    -2>> =switchGender(@, False)                                            # Accord de genre erroné entre « \1 » et « \2 ».
    <<- not re.match("(?i)air$", \1) and not \2.startswith("seul")
    and morph(\1, ":[si]") and morph(\2, ":[NAQ].*:p")
    and not apposition(\1, \2) and not before(r"\b(?:et|ou|de) +$")
    -2>> =suggSing(@)                                                       # Accord de nombre erroné avec « \1 » : « \2 » devrait être au singulier.
__[i]/gn__  (?:et|ou|de) +l’(\w[\w-]+) +(\w[\w-]+)
    <<- not \2.startswith("seul")
    and ((morph(\1, ":m") and morph(\2, ":[NAQ].*:f")) or (morph(\1, ":f") and morph(\2, ":[NAQ].*:m")))
    and not morph(word(-1), ":[NAQ]", False, False)
    and not apposition(\1, \2)
    -2>> =switchGender(@, False)                                            # Accord de genre erroné entre « \1 » et « \2 ».
    <<- not re.match("(?i)air$", \1) and not \2.startswith("seul")
    and morph(\1, ":[si]") and morph(\2, ":[NAQ].*:p")
    and not morph(word(-1), ":[NAQ]", False, False)
    and not apposition(\1, \2)
    -2>> =suggSing(@)                                                       # Accord de nombre erroné avec « \1 » : « \2 » devrait être au singulier.
    

## des

__[i]/gn__  des +(\w[\w-]+) +(\w[\w-]+)
    <<- \1 != "fois" and not \2.startswith("seul")
    and ((morphex(\1, ":[NAQ].*:m", ":[fe]") and morph(\2, ":[NAQ].*:f")) or (morphex(\1, ":[NAQ].*:f", ":[me]") and morph(\2, ":[NAQ].*:m")))
    and morph(word(-1), ":[VRBX]", True, True)
    and not apposition(\1, \2)
    -2>> =switchGender(@, True)                                             # Accord de genre erroné avec « \1 ».
    <<- morph(\1, ":[NAQ].*:[pi]", False) and morph(\2, ":[NAQ].*:s")
    and morph(word(-1), ":[VRBX]", True, True)
    and not apposition(\1, \2)
    -2>> =suggPlur(@)                                                       # Accord de nombre erroné avec « \1 » : « \2 » devrait être au pluriel.


## un / une

__[i]/gn__  (?<!et |ou | d’)une? +(\w[\w-]+) +(\w[\w-]+)
    <<- \1 != "fois" and morph(\1, ":[NAQ].*:[si]", False) and morph(\2, ":[NAQ].*:p") and not \2.startswith("seul")
    and not apposition(\1, \2) and not before(u"\\b(?:et|ou|d’) *$")
    -2>> =suggSing(@)                                                       # Accord de nombre erroné avec « \1 » : « \2 » devrait être au singulier.
__[i]/gn__  (?:et|ou) +(?:d’|)une? +(\w[\w-]+) +(\w[\w-]+)
    <<- \1 != "fois" and morph(\1, ":[NAQ].*:[si]", False) and morph(\2, ":[NAQ].*:p") and not \2.startswith("seul")
    and not apposition(\1, \2)
    and not morph(word(-1), ":[NAQB]", False, False)
    -2>> =suggSing(@)                                                       # Accord de nombre erroné avec « \1 » : « \2 » devrait être au singulier.


## articles divers

# Genre
__[i]/gn__  (?<!et |ou |de )(le|un|cet?|certains|quels?) +(\w[\w-]+) +(\w[\w-]+)
    <<- not \3.startswith("seul")
    and morphex(\2, ":[NAQ].*:[me]", ":(?:B|G|V0|f)") and morph(\3, ":[NAQ].*:f")
    and not apposition(\2, \3) and not before(r"\b(?:et|ou|de) +$")
    -3>> =suggMasPlur(@)  if \1=="certains"  else suggMasSing(@)            # Accord de genre erroné : « \2 » est masculin, « \3 » est féminin.
__[i]/gn__  (?:et|ou|de) +(le|un|cet?|certains|quels) +(\w[\w-]+) +(\w[\w-]+)
    <<- not \3.startswith("seul")
    and morphex(\2, ":[NAQ].*:[me]", ":(?:B|G|V0|f)") and morph(\3, ":[NAQ].*:f")
    and not apposition(\2, \3)
    and not morph(word(-1), ":[NAQ]|>(?:et|ou) ", False, False)
    -3>> =suggMasPlur(@)  if \1=="certains"  else suggMasSing(@)            # Accord de genre erroné : « \2 » est masculin, « \3 » est féminin.

__[i]/gn__  (?<!et |ou |de )([mts]on) +(\w[\w-]+) +(\w[\w-]+)
    <<- not \3.startswith("seul")
    and morphex(\2, ":[NAQ].*:m", ":(?:B|G|e|V0|f)") and morph(\3, ":[NAQ].*:f")
    and not apposition(\2, \3) and not before(r"\b(?:et|ou|de) +$")
    -3>> =suggMasSing(@)                                                    # Accord de genre erroné : « \2 » est masculin, « \3 » est féminin.
__[i]/gn__  (?:et|ou|de) +([mts]on) +(\w[\w-]+) +(\w[\w-]+)
    <<- not \3.startswith("seul")
    and morphex(\2, ":[NAQ].*:m", ":(?:B|G|e|V0|f)") and morph(\3, ":[NAQ].*:f")
    and not apposition(\2, \3)
    and not morph(word(-1), ":[NAQ]|>(?:et|ou) ", False, False)
    -3>> =suggMasSing(@)                                                    # Accord de genre erroné : « \2 » est masculin, « \3 » est féminin.

__[i]/gn__  (?<!et |ou |de )(la|une|[mts]a|cette|certaines|quelles?) +(\w[\w-]+) +(\w[\w-]+)
    <<- \2 != "fois" and not \3.startswith("seul")
    and morphex(\2, ":[NAQ].*:[fe]", ":(?:B|G|V0|m)") and morph(\3, ":[NAQ].*:m")
    and not apposition(\2, \3) and not before(r"\b(?:et|ou|de) +$")
    -3>> =suggFemPlur(@)  if \1=="certaines"  else suggFemSing(@)           # Accord de genre erroné : « \2 » est féminin, « \3 » est masculin.
__[i]/gn__  (?:et|ou|de) +(la|une|[mts]a|cette|certaines|quelles) +(\w[\w-]+) +(\w[\w-]+)
    <<- \2 != "fois" and not \3.startswith("seul")
    and morphex(\2, ":[NAQ].*:[fe]", ":(?:B|G|V0|m)") and morph(\3, ":[NAQ].*:m")
    and not apposition(\2, \3)
    and not morph(word(-1), ":[NAQ]|>(?:et|ou) ", False, False)
    -3>> =suggFemPlur(@)  if \1=="certaines"  else suggFemSing(@)           # Accord de genre erroné : « \2 » est féminin, « \3 » est masculin.

__[i]/gn__  (?<!et |ou |de )([lcmts]es|[nv]os|leurs?|chaque|quelques?) +(\w[\w-]+) +(\w[\w-]+)
    <<- \2 != "fois" and not \3.startswith("seul") and not re.match("(?i)quelque chose", \0)
    and ((morphex(\2, ":[NAQ].*:m", ":(?:B|e|G|V0|f)") and morph(\3, ":[NAQ].*:f")) or (morphex(\2, ":[NAQ].*:f", ":(?:B|e|G|V0|m)") and morph(\3, ":[NAQ].*:m")))
    and not apposition(\2, \3) and not before(r"\b(?:et|ou|de) +$")
    -3>> =switchGender(@, \1.endswith("s"))                                 # Accord de genre erroné entre « \2 » et « \3 ».
__[i]/gn__  (?:et|ou|de) +([lcmts]es|[nv]os|leurs?|chaque|quelques?) +(\w[\w-]+) +(\w[\w-]+)
    <<- \2 != "fois" and not \3.startswith("seul") and not re.match("(?i)quelque chose", \0)
    and ((morphex(\2, ":[NAQ].*:m", ":(?:B|e|G|V0|f)") and morph(\3, ":[NAQ].*:f")) or (morphex(\2, ":[NAQ].*:f", ":(?:B|e|G|V0|m)") and morph(\3, ":[NAQ].*:m")))
    and not apposition(\2, \3)
    and not morph(word(-1), r":[NAQ]|>(?:et|ou) ", False, False)
    -3>> =switchGender(@, \1.endswith("s"))                                 # Accord de genre erroné entre « \2 » et « \3 ».


# Nombre
__[i]/gn__  (?<!et |ou |de )(le|la|leur) +(\w[\w-]+) +(\w[\w-]+)
    <<- not \3.startswith("seul")
    and morph(\2, ":[NAQ].*:[si]", False) and morph(\3, ":[NAQ].*:p")
    and not apposition(\2, \3) and not before(r"\b(?:et|ou|de) +$")
    -3>> =suggSing(@)                                                       # Accord de nombre erroné avec « \2 » : « \3 » devrait être au singulier.
__[i]/gn__  (?:et|ou|de) +(le|la|leur) +(\w[\w-]+) +(\w[\w-]+)
    <<- not \3.startswith("seul")
    and morph(\2, ":[NAQ].*:[si]", False) and morph(\3, ":[NAQ].*:p")
    and not apposition(\2, \3)
    and not morph(word(-1), ":[NAQ]|>(?:et|ou) ", False, False)
    -3>> =suggSing(@)                                                       # Accord de nombre erroné avec « \2 » : « \3 » devrait être au singulier.

__[i]/gn__  (?<!et |ou |de )(ce|[mts]on|cette|[nv]otre|ledit|ladite|au|quel(?:le|)) +(\w[\w-]+) +(\w[\w-]+)
    <<- not \3.startswith("seul") 
    and morph(\2, ":[NAQ].*:[si]", False) and morphex(\3, ":[NAQ].*:p", ":[GWi]")
    and not apposition(\2, \3) and not before(r"\b(?:et|ou|de) +$")
    -3>> =suggSing(@)                                                       # Accord de nombre erroné avec « \2 » : « \3 » devrait être au singulier.
__[i]/gn__  (?:et|ou|de) +(ce|[mts]on|cette|[nv]otre|ledit|ladite|au|quel(?:le|)) +(\w[\w-]+) +(\w[\w-]+)
    <<- not \3.startswith("seul")
    and morph(\2, ":[NAQ].*:[si]", False) and morphex(\3, ":[NAQ].*:p", ":[GWi]")
    and not apposition(\2, \3)
    and not morph(word(-1), ":[NAQ]|>(?:et|ou) ", False, False)
    -3>> =suggSing(@)                                                       # Accord de nombre erroné avec « \2 » : « \3 » devrait être au singulier.

__[i]/gn__  les +(\w[\w-]+) +(\w[\w-]+)(?! +et)
    <<- not \2.startswith("seul")
    and morph(\1, ":[NAQ].*:[pi]") and morph(\2, ":[NAQ].*:s")
    and not apposition(\1, \2)
    -2>> =suggPlur(@)                                                       # Accord de nombre erroné avec « \1 » : « \2 » devrait être au pluriel.
__[i]/gn__  les +(\w[\w-]+) +(\w[\w-]+) +et +(\w[\w-]+)
    <<- not \2.startswith("seul")
    and morph(\1, ":[NAQ].*:[pi]") and morph(\2, ":[NAQ].*:s") and not morph(\3, ":A", False)
    and not apposition(\1, \2)
    -2>> =suggPlur(@)                                                       # Accord de nombre erroné avec « \1 » : « \2 » devrait être au pluriel.

__[i]/gn__  ([cmts]es|[nv]os|leurs|quel(?:que|le|)s|plusieurs|certaine?s|lesdite?s|aux|moult) +(\w[\w-]+) +(\w[\w-]+)
    <<- not \3.startswith("seul")
    and morph(\2, ":[NAQ].*:[pi]", False) and morph(\3, ":[NAQ].*:s")
    and not apposition(\2, \3)
    and not before(r"(?i)\bune? de ")
    -3>> =suggPlur(@)                                                       # Accord de nombre erroné avec « \2 » : « \3 » devrait être au pluriel.


#### 3 mots

## nombre

__[i]/gn__  ^ *(\w\w[\w-]+\w) +(\w[\w-]+) +(\w\w[\w-]+)
    <<- (morph(\1, ":[NAQ].*:p") and morph(\2, ":[NAQ].*:[pi]") and morph(\3, ":[NAQ].*:s"))
    or (morph(\1, ":[NAQ].*:s") and morph(\2, ":[NAQ].*:[si]") and morph(\3, ":[NAQ].*:p"))
    -3>> =switchPlural(@)                                                   # Accord de nombre erroné avec « \1 \2 » : « \3 » devrait être au pluriel.

__[i]/gn__  les +(\w[\w-]+) +(\w[\w-]+) +(\w\w[\w-]+)
    <<- morph(\1, ":[NAQ].*:[pi]") and morph(\2, ":[NAQ].*:[pi]") and morph(\3, ":[NAQ].*:s")
    -3>> =suggPlur(@)                                                       # Accord de nombre erroné avec « \1 \2 » : « \3 » devrait être au pluriel.

__[i]/gn__  ([cmts]es|[nv]os|leurs|quel(?:que|le|)s|plusieurs|certaine?s|lesdite?s|aux|moult) +(\w[\w-]+) +(\w[\w-]+) +(\w\w[\w-]+)
    <<- morph(\2, ":[NAQ].*:[pi]", False) and morphex(\3, ":[NAQ].*:[pi]", ":G") and morph(\4, ":[NAQ].*:s")
    and not before(r"(?i)\bune? de ")
    -4>> =suggPlur(@)                                                       # Accord de nombre erroné avec « \1 \2 \3 » : « \4 » devrait être au pluriel.

__[i]/gn__  ^ *(l(?:e(?:ur|dit|)|a(?:dite))|ce(?:t|tte|)|[mts](?:on|a)|[nv]otre|au|quel(?:le|)) +(\w[\w-]+) +(\w[\w-]+) +(\w\w[\w-]+)
    <<- morph(\2, ":[NAQ].*:[si]", False) and morphex(\3, ":[NAQ].*:[si]", ":G") and morph(\4, ":[NAQ].*:p")
    -4>> =suggSing(@)                                                       # Accord de nombre erroné avec « \1 \2 \3 » : « \4 » devrait être au singulier.


#### Accords avec de / des / du

__[i]/gn__  (?:[lmts]a|une|cette) +\w[\w-]+ +d(?:e (?:[lmts]a|cette)|’une) +(?!des )(\w[\w-]+) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:(?:m|f:p)", ":(?:G|P|f:[is]|V0)") and not apposition(\1, \2)
    -2>> =suggFemSing(@)                                                                    # Accord erroné : « \2 » devrait être au féminin singulier.

__[i]/gn__  (?:le|un|cet?) +\w[\w-]+ +d(?:e cet?|u|’un) +(?!des )(\w[\w-]+) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:(?:f|m:p)", ":(?:G|P|m:[is]|V0)") and not apposition(\1, \2)
    -2>> =suggMasSing(@)                                                                    # Accord erroné : « \2 » devrait être au masculin singulier.

__[i]/gn__  (?:le|un|cet?) +\w[\w-]+ +de [mts]on +(\w[\w-]+) +(\w[\w-]+)
    <<- not morph(\1, ":[NAQ].*:f|>[aéeiou].*:e", False) and morphex(\2, ":[NAQ].*:(?:f|m:p)", ":(?:G|P|m:[is]|V0)") and not apposition(\1, \2)
    -2>> =suggMasSing(@)                                                                    # Accord erroné : « \2 » devrait être au masculin singulier.

__[i]/gn__  [mts]on +(\w[\w-]+) +d(?:e cet?|u|’un) +(?!des )(\w[\w-]+) +(\w[\w-]+)
    <<- morphex(\1, ":[NAQ].*:m", ":G|>[aéeiou].*:[ef]")
    and morphex(\3, ":[NAQ].*:(?:f|m:p)", ":(?:G|P|m:[is]|V0)") and not apposition(\2, \3)
    -3>> =suggMasSing(@)                                                                    # Accord erroné : « \3 » devrait être au masculin singulier.

__[i]/gn__  [mts]on +(\w[\w-]+) +de [mts]on +(\w[\w-]+) +(\w[\w-]+)
    <<- morphex(\1, ":[NAQ].*:m", ":G|>[aéeiou].*:[ef]")
    and not morph(\2, ":[NAQ].*:f|>[aéeiou].*:e", False) and morphex(\3, ":[NAQ].*:(?:f|m:p)", ":(?:G|P|m:[is]|V0)") and not apposition(\2, \3)
    -3>> =suggMasSing(@)                                                                    # Accord erroné : « \3 » devrait être au masculin singulier.

__[i]/gn__  (?:[lmtsc]es|[nv]os|leurs|quelques) +\w[\w-]+ +de(?: (?:[mtsc]es|[nv]os|leurs)|s) +(\w[\w-]+) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:s", ":(?:G|P|m:[ip]|V0)") and not apposition(\1, \2)
    -2>> =suggPlur(@)                                                                       # Accord erroné : « \2 » devrait être au pluriels.



#### Quel(le) que soit …

## masculin requis

__[i]/gn__  (quelle) que ([sf]\w+) +(le|cet?) +(\w[\w-]+)
    <<- morph(\2, ":V0e", False)
    -1>> quel                                                                                # Accord de genre avec « \3 \4 ». Utilisez le masculin.
__[i]/gn__  (quelles?) que ([sf]\w+) +(ces|[mts](?:on|ses)|[nv]o(?:tre|s)|leurs?) +(\w[\w-]+)
    <<- morph(\2, ":V0e", False) and morphex(\4, ":[NAQ].*:m", ":[fe]")
    -1>> =\1.replace("lle", "l")                                                             # Accord de genre avec « \3 \4 ». Utilisez le masculin.

## féminin requis

__[i]/gn__  (quel) que ([sf]\w+) +(la|cette|[mts]a) +(\w[\w-]+)
    <<- morph(\2, ":V0e", False)
    -1>> quelle                                                                              # Accord de genre avec « \3 \4 ». Utilisez le féminin.
__[i]/gn__  (quels?) que ([sf]\w+) +(ces|[mts](?:on|ses)|[nv]o(?:tre|s)|leurs?) +(\w[\w-]+)
    <<- morph(\2, ":V0e", False) and morphex(\4, ":[NAQ].*:f", ":[me]")
    -1>> =\1.replace("l", "lle")                                                             # Accord de genre avec « \3 \4 ». Utilisez le féminin.


#### Divers

# L’accord par syllepse est obligatoire après /la plupart/, ainsi qu’après /nombre/ et /quantité/ employés sans déterminant. L’accord se fait avec le « pseudo-complément ».

## quelque adverbe
__[i]/gn__  quelques(?= \d+) <<- ->> quelque                                                 # Devant un nombre, « quelque » est un adverbe, donc invariable.
__[i]/gn__  (quelques) +(\w+) <<- morph(\2, ":B.*:p", False) -1>> quelque                    # Devant un nombre, « quelque » est un adverbe, donc invariable.

## divers
__[i]/gn__  de tel(s|les|) sorte(s|nt|) <<- ->> de telle sorte                               # Accord erroné.



############################## SINGULIERS & PLURIELS ##############################

### Prépositions

# Similaires à prépositions : http://www.synapse-fr.com/manuels/PP_ATTENDU.htm
# attendu, compris, non-compris, y compris, entendu, excepté, ôté, ouï, passé, supposé, vu
# ! problème avec l’ouïe, ouï retiré de la liste
__<s]/sgpl__  ^ *((Compris|Non[- ]compris)es?) +(?:[lc]es?|la|cette|leurs?)
    <<- -1>> \2                                                                                 # Considéré comme préposition, invariable.
__<s]/sgpl__  ^ *((Entendu|Excepté|Ôté|Supposé|Passé)(?:es?|s)) +(?:[lc]es?|la|cette|leurs?)
    <<- -1>> \2                                                                                 # Considéré comme préposition, invariable.
__[i]/sgpl__  (attendu(?:es?|s)) que? <<- not word(-1) -1>> attendu                             # Considéré comme préposition, invariable.
__[i]/sgpl__  étant donné(?:es?|s) <<- not word(-1) ->> étant donné                             # Considéré comme préposition, invariable.
__[i]/sgpl__  (vu(?:es?|s)) (?:[lc]es?|la|cette|leurs?|que?) <<- not word(-1) -1>> vu           # Considéré comme préposition, invariable.


### Nombres cardinaux

# vingt
__[i]/sgpl__  vingts <<- not before(r"(?i)\bquatre $")
    ->> vingt                                                   # “Vingt” ne prend la marque du pluriel que dans “quatre-vingts”.
__[i]/sgpl__  quatre[- ]vingt
    <<- not morph(word(1), ":B") and not before(u"(?i)\\b(?:numéro|page|chapitre|référence|année|test|série)s? +$")
    ->> quatre-vingts                                           # Mettre « vingt » au pluriel, excepté s’il s’agit d’une référence (page, chapitre, année…).
__[i]/sgpl__  quatre-(vingts)-(?:deux|trois|quatre|cinq|six|sept|huit|neufs?|dix|onze|douze|treize|quatorze|quinze|seize)
    <<- -1>> vingt                                              # Mettez « vingt » au singulier.

# neuf
__[i]/sgpl__  (dix|vingt|trente|quarante|cinquante|soixante|soixante-dix|quatre-vingt|quatre-vingt-dix)-neufs
    <<- ->> \1-neuf                                             # Pas de “s”.

# cent
__[i]/sgpl__  (deux|trois|quatre|cinq|six|sept|huit|neuf) (cent)
    <<- not morph(word(1), ":B|>une?", False, True) and not before(u"(?i)\\b(?:numéro|page|chapitre|référence|année|test|série)s? +$")
    -2>> cents
    # Mettre « cent » au pluriel (centaines entières), excepté s’il s’agit d’une référence (page, chapitre, année…).|http://fr.wiktionary.org/wiki/cent
__[i]/sgpl__  (deux|trois|quatre|cinq|six|sept|huit|neuf|mille) (cents)
    <<- morph(word(1), ":B|>une?", False, False)
    -2>> cent                       # Nombre cardinal : pas de “s” à “cent” (hormis sur les centaines entières).|http://fr.wiktionary.org/wiki/cent
__[i]/sgpl__   (cents) (\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:[pi]", ":G") and morphex(word(-1), ":[VR]", ":B", True)
    -1>> cent                       # Nombre cardinal : pas de “s” à “cent” (hormis sur les centaines entières).|http://fr.wiktionary.org/wiki/cent

# mille
__[i]/sgpl__  milles <<- morph(word(1), ":B") or (morph(word(-1), ":B") and morph(word(1), ":[NAQ]", False))
    ->> mille                       # « Mille » est invariable s’il s’agit d’un nombre (et non de l’unité de mesure maritime).


### Locutions

# affaires
__[i]/sgpl__  chiffres? d’(affaire) <<- -1>> affaires                               # Le chiffre d’affaires. Toujours un “s” final.
__[i]/sgpl__  (f[aieî]\w+) (affaires) avec <<- morph(\1, ">faire ", False)
    -2>> affaire                                                                    # « Faire affaire avec ». Pas de “s”.
__[u]/sgpl__  (f[aieî]\w+) (affaire) (?:à|en) ([A-ZÉÈÂ][\w-]+) <<- morph(\1, ">faire ", False) and morph(\3, ":(?:N|MP)")
    -2>> affaires                                                                   # Ajoutez un “s” à « affaire ».

# ayants droit
__[i]/sgpl__  [ldc]es (ayant[- ]droits?) <<- -1>> ayants droit                      # Au singulier : « un ayant droit ». Au pluriel : « des ayants droit ».

# boisson
__[i]/sgpl__  débits? de (boisson) <<- -1>> boissons                                # Il manque un “s” à « boisson ».

# carnet
__[i]/sgpl__  carnet de (chèque|note|timbre|ticket|vacance) <<- -1>> \1s            # Il manque un “s”.

# cor / cri
__[i]/sgpl__  à cors? et à cris <<- ->> à cor et à cri                              # Locution adverbiale invariable.

# demi-heure, heure et demie
__[i]/sgpl__  demi(?:e[- ]| )heure(s|) <<- ->> demi-heure\1                         # « Une demi-heure ».
__[i]/sgpl__  heures? et (demi(?:s|es|)) <<- -1>> demie                             # « Une heure et demie », « deux heures et demie », etc.

# dévolu
__[i]/sgpl__  jet\w+ +(leurs dévolus) <<- -1>> leur dévolu                          # « Jeter son dévolu » : au singulier.

# escalier
__[i]/sgpl__  cages? d’(escaliers) <<- -1>> escalier                                # Pas de “s” à escalier.

# collet monté
__[i]/sgpl__  (\w+) (collets[- ]montés) <<- morph(\1, u":(?:V0e|W)|>très", False) -2>> collet monté
    # « Être collet monté » : dans cette locution, « collet monté » est invariable.

# coûter cher
__[i]/sgpl__  ((?:co[uû]t|pa)\w+) +(chers|chères?|chaire?s?) <<- morph(\1, u">(?:co[ûu]ter|payer) ", False)
    -2>> cher                                                                       # Ici, « cher » est un adverbe, invariable.

# en générale
__[i]/sgpl__  en générale <<- ->> en général                                        # Cette locution s’écrit : « en général ».

# par intermittence
__[i]/sgpl__  par (intermittences) <<- -1>> intermittence                           # « Par intermittence ».

# par intervalles
__[i]/sgpl__  par (intervalle) <<- -1>> intervalles                                 # « Par intervalles ».

# donner lieu
__[i]/sgpl__  (donn\w+) +(lieux) <<- morph(\1, ">donner ", False)
    -2>> lieu                                                                       # « Donner lieu » : lieu est invariable dans cette locution verbale.

# eux-mêmes, elles-mêmes
__[i]/sgpl__  (?:eux|elles)-(même) <<- -1>> mêmes                                   # Il manque un “s” à même.

# nu
__[i]/sgpl__  (m\w+) +([aà] nu(e|s|es)) <<- morph(\1, u">(?:mettre|mise) ", False)
    -2>> à nu                                                                       # « nu » est invariable dans cette locution.

# à parts égales
__[i]/sgpl__  à part? égale? <<- ->> à parts égales                                 # Il y a plusieurs parts.
__[i]/sgpl__  [àa] moindre frais? <<- ->> à moindres frais                          # Lorsqu’on parle des dépenses, “frais” est un pluriel.

# pied
__[i]/sgpl__  ([aeop]\w*) (?:pas |)(pieds) <<- morph(\1, u">(?:avoir|perdre) ", False)
    -2>> pied                                                                       # Pas de “s” final.
__[i]/sgpl__  à (pieds) <<- not before(u"(?i)\\b(?:lit|fauteuil|armoire|commode|guéridon|tabouret|chaise)s?\\b")
    -1>> pied                                                                       # Pas de “s” final.
__[i]/sgpl__  (?:à|aux) pieds? levée?s? <<- ->> au pied levé                        # Locution adverbiale invariable.

# plein
__[i]/sgpl__  (pleins) de?
    <<- morphex(word(-1), ":(?:V|[NAQ].*:s)", ":[pi]", True)
    -1>> plein                                                                      # Au singulier.

# pleines dents
__[i]/sgpl__  [àa] pleine(?: dents?|s? dent) <<- ->> à pleines dents                # Toujours au pluriel.

# possible
__[i]/sgpl__  autant (?:(?:de |d’)\w[\w-]+ |)que (possibles) <<- -1>> possible      # Invariable. Implicitement, autant que ce qui est possible.

# quelque
__[i]/sgpl__  (quelques) temps <<- -1>> quelque                                     # « Quelque temps » : un temps indéterminé, pas de « s ».

# rafales
__[i]/sgpl__  (?:par|en) (rafale) <<- -1>> rafales                                  # Par rafales, en rafales.

#sans (crainte|défense)s <<- ->> sans \1                                            # En général, pas de pluriel.

# par souci de
__[i]/sgpl__  par (soucis) (?:de|d) <<- -1>> souci                                  # Invariable dans cette locution.

# termes
__[i]/sgpl__  en (terme) (?:de|d) <<- -1>> termes                                   # Au pluriel.

# tous / tout / toutes
__[i]/sgpl__  tout azimuts? <<- ->> tous azimuts                                    # « Tous azimuts » signifie « dans toutes les directions ».
__[i]/sgpl__  une (?:bonne |)fois pour (toute) <<- -1>> toutes                      # Il manque un “s”. Sous-entendu : une fois pour toutes les autres fois.

# vacances
__[i]/sgpl__  bonne vacance <<- ->> bonnes vacances                                 # Au pluriel.
__[i]/sgpl__  (\w+) +en (vacance) <<- morph(\1, u">(?:aller|partir) ", False)
    -2>> vacances                                                                   # Si vous parlez des congés, « vacance » doit être au pluriel.

# vu / vue
__[i]/sgpl__  points? de (vu(?:s|es)) <<- -1>> vue                                  # Au singulier.



############################## CONFUSIONS, HOMONYMES ET FAUX-AMIS ###############################

__[i]/conf__  (?<![dDt]’)(je|tu|il|elle|on|ils|elles) (\w[\w-]+)
    <<- not re.match(u"(?i)([lmtsn]|soussignée?s?|seule?s?)$", \2) and morph(\2, ":[NAQ]") and not morph(word(-1), ":V0") -2>> _
    # Incohérence avec « \1 » : « \2 » est un nom, un adjectif ou un participe passé.

# accro / accroc
__[i]/conf__  ({etre}|dev\w+|sembl\w+|par\w+|rend\w+) +(accrocs?)
    <<- morph(\1, ">(?:être|devenir|para[îi]tre|rendre|sembler) ", False) -2>> =\2.replace("oc", "o")
    # Confusion : “accroc” signifie “déchirure”, “incident”, etc. tandis que “accro” est un terme familier qui signifie “dépendant”.
__[i]/conf__  +(accrocs?) (?:[àa] (?:la (?:bouffe|cocaïne|cod[ée]ine|course|drogue|coke|meth|méthamphétamine|morphine|nicotine|nourriture|télé(?:vision|)|clope|cigarette|came|poudre|baise|musique)|cette (?:came|émission|merde|poudre|femme|meuf|gonzesse|conne|salope|garce)|ce (?:mec|keum|type|con(?:nard|)|fils de pute)|cet (?:homme|enculé|imbécile|enfoiré)|l’(?:alcool|amour|ecstasy|herbe|héro(?:ïne|)|opium|ordi(?:nateur|))|Facebook|Internet|Twitter|lui|elle)|[ad]u (?:chocolat|cul|jeu|poker|sexe|shopping|smartphone|sport|sucre|tabac|téléphone|travail|LSD|crack)|aux (?:anti-?dépresseurs|bonbons|mecs|femmes|médicaments|jeux|séries|sucreries))
    <<-  -1>> \1.replace("oc", "o")
    # Confusion : “accroc” signifie “déchirure”, “incident”, etc. tandis que “accro” est un terme familier qui signifie “dépendant”.

# acquis / acquit
__[i]/conf__  par (acquis) de conscience
    <<- -1>> acquit                                                                             # Confusion. On écrit « par acquit de conscience ».
    <<- ~>> *
__[i]/conf__  (t\w+) +pour (acquit) <<- morph(\1, ">tenir ") -2>> acquis                        # Confusion. On écrit « tenir pour acquis ».

# affilée / affilé
__[i]/conf__  d’(affilé) <<- -1>> affilée                                                       # Locution.

# à faire / affaire
#__[i]/conf__  à faire (à|avec) <<- morph(word(-1), ":V0a") ->> affaire \1                       # Confusion.

# amende / amande
__[i]/conf__  yeux en (amendes?) <<- -1>> amande                            # Confusion. Une amende est une peine.|http://www.cnrtl.fr/lexicographie/amende
__[i]/conf__  (m\w+) à (l’amande) <<- morph(\1, ">mettre ", False) -2>> l’amende                        # Confusion. L’amande est un fruit.
__[i]/conf__  (f\w+) (amandes? honorables?) <<- morph(\1, ">faire ", False) -2>> amende honorable       # Confusion. L’amande est un fruit.

# annales / anal-e-s
__[i]/conf__  (anale?s?) (?:littéraires?|politiques?|ecclésiastiques?|du (?:bac(?:calauréat|)|brevet)|de (?:physique|chimie|mathématiques|biologie|géographie)|d’histoire)
    <<- -1>> annales                                                 # Confusion : “\1” est l’adjectif relatif à l’anus.|http://fr.wiktionary.org/wiki/annales 
__[i]/conf__  [lcdmts]es (anale?s?)
    <<- -1>> annales                                                 # Confusion : “\1” est l’adjectif relatif à l’anus.|http://fr.wiktionary.org/wiki/annales

# autel / hôtel
__[i]/conf__  sacrifi\w+ +sur l’(hôtel) <<- -1>> autel
    # Confusion. L’hôtel est un établissement offrant un service d’hébergement. L’autel est une table ou un monument destiné aux sacrifices ou à la messe.|https://fr.wiktionary.org/wiki/autel

# avion / avions
__[i]/conf__  nous (avion) <<- -1>> avions                           # Confusion probable : l’avion est un appareil volant.

# bât / bas
__[i]/conf__  le (ba[st]) bless\w+ <<- -1>> bât                      # Confusion : là où le bât blesse.|http://fr.wiktionary.org/wiki/b%C3%A2t

# bel et bien
__[i]/conf__  (belle) et bien (?!que?|sûr) <<- not morph(word(1), ":[AQ]") -1>> bel
    # Confusion. « Bel et bien » est équivalent à « vraiment ».

# bite / bitte
__[i]/conf__  (bite) (?:d’amarrage|du quai|sur le quai) <<- -1>> bitte                  # Bitte d’amarrage.

# en butte à / but / bute
__[i]/conf__  en (bute?s?) +(?:à|aux?) <<- -1>> butte                                   # Confusion. Écrivez « en butte \1 ».

# chair / chère
__[i]/conf__  (f[aioîe]\w+) +(bonnes? ch(?:ai|e)re?) <<- morph(\1, ">faire ", False)
    -2>> bonne chères                                                                   # Confusion. « Faire bonne chère » signifie bien manger, ripailler.

# compte / comte / conte
__[i]/conf__  (co[mn]tes?) (?:à rebours|bancaires?) <<- -1>> compte|comptes                         # Confusion.

# content / comptant
__[i]/conf__  ({avoir}) (?:tout |)(?:[mts]on|[nv]otre|leur) (comptant) <<- morph(\1, ":V0a", False)
    -2>> content                                                                                    # Confusion. Avoir (tout) son content…

# cor / corps
__[i]/conf__  [àa] corp?s et [àa] cris? <<- ->> à cor et à cri                                      # Locution adverbiale invariable.

# cou / coût / coup
__[i]/conf__  (tord\w*) +le (co[uû][pt]s?) <<- morph(\1, ">tordre ", False) -2>> cou
    # Confusion. Le coût indique ce que ça coûte. Un coup, c’est quelque chose qui frappe. La partie séparant la tête du corps s’écrit “cou”.
__[i]/conf__  (rend\w*) +(co[uû]t?s? pour co[uû]t?s?)
    <<- morph(\1, ">rendre ", False) -2>> coup pour coup
    # Confusion. Le coût indique ce que ça coûte. Un cou est la partie séparant la tête du corps. Pour ce qui frappe, écrivez “coup”.

# cour / cours / court
__[i]/conf__  au (court?) (?:des?|du|d) <<- -1>> cours                                      # Confusion probable. Une cour… Un cours… Court(e) : adjectif.
__[i]/conf__  en cour(?! martiale?) <<- ->> en cours                                        # Confusion probable. Une cour… Un cours… Court(e) : adjectif.
__[i]/conf__  (coup\w+) (cours?) <<- morph(\1, ">couper ") -2>> court                       # « Couper court ». Écourter. Une cour… Un cours… Court(e) : adjectif.
__[i]/conf__  (\w+) +libre (court?) <<- morph(\1, u">(?:avoir|donner) ", False) -2>> cours  # Confusion probable. Une cour… Un cours… Court(e) : adjectif.
__[i]/conf__  à (cours?) de? <<- -1>> court
    # Confusion probable : écrivez « à court de … » pour « manquer de … »
__[i]/conf__  à cour(?:s|ts|) termes? <<- ->> à court terme                                 # Confusion. Une cour… Un cours… Court(e) : adjectif.

# davantage / d’avantage
__[i]/conf__  (?:peu|plein|beaucoup|trop|plus|moins|assez|suffisamment|tellement|obtentions?|régimes?) (davantage)
    <<- -1>> d’avantages                                                                            # Confusion probable.
__[i]/conf__  (\w+) (d’avantages?) <<- morph(\1, ":V.\w+:(?!Q)") -2>> davantage                     # Confusion probable.
__[i]/conf__  (?:[\w-]+)-(?:je|tu|ils?|elles?|[nv]ous|on) (d’avantages) <<- -1>> davantage          # Confusion probable.
__[i]/conf__  (d’avantages?) (?:de|du|d) <<- -1>> davantage                                         # Confusion possible.
#__[i]/conf__  ({etre}) d’avantages? <<- morph(\1, ":V0e", False) ->> \1 davantage                  # Confusion possible.

# dés / dès
__[i]/conf__  (dés) (les?|la|que?|lors|avant|toujours|demain) <<- not before("(?i)\\b(?:[lmts]es|des?|[nv]os|leurs) +$") -1>> dès     # Confusion.

# différend / différent
__[i]/conf__  (?:[mts]on|[vn]otre|leur) +(différent) <<- morphex(word(1), ":[GV]", ":[NAQ]", True)
    -1>> différend                                          # Confusion : « différent » est un adjectif, « différend » est le nom qui signifie désaccord.
__[i]/conf__  un différent <<- morphex(word(1), ":[GV]", ":[NAQ]")
    ->> un différend                                        # Confusion : « différent » est un adjectif, « différend » est le nom qui signifie désaccord.
__[i]/conf__  (?:leurs|[mts]es|[nv]os) (différents) <<- morphex(word(1), ":[GV]", ":[NAQ]", True)
    -1>> différends                                         # Confusion : « différent » est un adjectif, « différend » est le nom qui signifie désaccord.
__[i]/conf__  (?:[ld]es) (différents) <<- morphex(word(1), ":G", ":[NAQ]")
    -1>> différends                                         # Confusion : « différent » est un adjectif, « différend » est le nom qui signifie désaccord.
__[i]/conf__  ({etre}) +(?:pas +|)(?:si +|)(différend(s|)) <<- morph(\1, ":V0e", False)
    -2>> différent\3                                        # Confusion : « différent » est un adjectif, « différend » est le nom qui signifie désaccord.

# en train / entrain
__[i]/conf__  entrain <<- morph(word(-1), ":V0e", False) ->> en train                               # Confusion.

# envi / envie
__[i]/conf__  à l’(envie)
    <<- not morph(word(-1), u">(?:abandonner|céder|résister) ", False) -1>> envi
    # Locution adverbiale « à l’envi », signifiant « autant que possible ».

# aire / ère
__[i]/conf__  aire (?:glacière|glaciaire) <<- ->> ère glaciaire                                     # Confusion : « ère » est une époque, « aire » une surface.
__[i]/conf__  (aire) (?:baroque|numérique) <<- -1>> ère                                             # Confusion : « ère » est une époque, « aire » une surface.

# chant / champ
__[i]/conf__  la (cha(?:nt|mp)s? de l’heure?) <<- -1>> Chandeleur
    # Confusion : la Chandeleur est une fête.|http://fr.wikipedia.org/wiki/Chandeleur
__[i]/conf__  (chants?) de (?:blé|betteraves?|fleurs|maïs|tournesols?|tulipes|force)
    <<- -1>> =\1.replace("nt", "mp")
    # Confusion probable. Un chant est ce qui se chante.|http://fr.wiktionary.org/wiki/champ

# colon / côlon
__[i]/conf__  cancer du (colon) <<- -1>> côlon                                  # Confusion : le côlon est un segment du gros intestin, le colon colonise.

# censé / sensé
__[i]/conf__  ({etre}) +(sensée?s?) +(?:y |en |leur |[nv]ous |[mts](?:e |’)|l(?:es?|a) )(\w[\w-]+)
    <<- morph(\1, ":V0e", False) and morph(\3, ":Y", False)
    -2>> =\2.replace("sens", "cens")                                            # Confusion : « sensé » se dit de quelqu’un de « bon sens ».

# côté / coté
__[i]/conf__  (?:à|au|autres?|bon|mauvais|les?|de|ce|du|[mts](?:on|es)|[nv]otre|chaque|un|leurs?) (cotés?)
    <<- -1>> =\1.replace("o", u"ô")                                             # Confusion : « coté » est le participe passé du verbe « coter ».

# cote / côte
__[i]/conf__  (cote) d(?:e (?:bœuf|porc|veau)[sx]?|’agneaux?) <<- -1>> côte
    # Confusion : « cote » est un terme servant à chiffrer.|http://fr.wiktionary.org/wiki/cote
__[i]/conf__  (côte) (?:mobilière|foncière|de (?:niveau|popularité|confiance)|d’(?:alerte|altitude|amour))
    <<- -1>> cote                                                           # Confusion : utilisez « cote » pour chiffrer.|http://fr.wiktionary.org/wiki/cote
__[i]/conf__  ({avoir}) +la (côte) <<- morph(\1, ":V0a", False) -2>> cote   # Confusion probable : utilisez « cote ».|http://fr.wiktionary.org/wiki/cote

# desceller / déceler / desseller
__[i]/conf__  (erreur|faute|incohérence|problème|bug|bogue|faille)s? .*(des[cs]ell\w+)
    <<- morph(\2, u">(?:desceller|desseller) ", False)
    -2>> =\2.replace("descell", u"décel").replace("dessell", u"décel")
    # Confusion probable si ce mot se rapporte à « \1 ». Desceller signifie briser un sceau, un cachet… Desseller signifie ôter une selle.|http://fr.wiktionary.org/wiki/déceler
__[i]/conf__  (des[cs]ell\w+) +(?:\w+ +|[ld]’)(erreur|faute|incohérence|problème|bug|bogue|faille)s?
    <<- morph(\1, u">(?:desceller|desseller) ", False)
    -1>> =\1.replace("descell", u"décel").replace("dessell", u"décel")
    # Confusion probable si ce mot se rapporte à « \2 ». Desceller signifie briser un sceau, un cachet… Desseller signifie ôter une selle.|http://fr.wiktionary.org/wiki/déceler

# faite / faîte / fait
__[i]/conf__  vous +(?:ne |leur |lui |nous |vous |)(faîtes?) <<- -1>> faites        # Confusion. Le faîte (≠ faire) est le point culminant de quelque chose.
__[i]/conf__  faîtes?[- ]vous <<- ->> faites-vous                                   # Confusion. Le faîte (≠ faire) est le point culminant de quelque chose.
__[i]/conf__  ({avoir_etre}) +(faîte(s|))
    <<- morph(\1, ":V0", False)
    -2>> faite\3                                                                    # Confusion. Le faîte (≠ faire) est le point culminant de quelque chose.
__[i]/conf__  en fa[iî]tes? <<- not before("\\b(?:vous|et toi) +$") ->> en fait     # Confusion probable : « en fait » = « en réalité ».

# flamant rose
__[i]/conf__  (flamands?) roses? <<- -1>> =\1.replace("and", "ant")                 # Confusion. Flamand = habitant des Flandres. Flamant = oiseau.

# foi / fois
__[i]/conf__  (mauvaise|bonne) (fois)
    <<- not ( \1 == "bonne" and before("(?i)\\bune +$") and after("(?i)^ +pour toute") ) 
    -2>> foi                                                                                # Confusion probable.|http://fr.wiktionary.org/wiki/foi
__[i]/conf__  ((?:f|perd)\w+) (fois) <<- morph(\1, ">(?:faire|perdre) ") -2>> foi           # Confusion probable.|http://fr.wiktionary.org/wiki/foi

# fond / fonds
__[i]/conf__  collecte de (fon[dt]) <<- -1>> fonds
    # Confusion : fonds (ce qui constitue une richesse) ≠ fond (partie la plus basse/profonde).
__[i]/conf__  à (fond) perdus? <<- -1>> fonds
    # Confusion : fonds (ce qui constitue une richesse) ≠ fond (partie la plus basse/profonde).
__[i]/conf__  (fond) (?:monétaires?|spéculatifs?|de (?:commerce|garantie|roulement|pension|placement|roulement|solidarité)|d’(?:aide|investissement))
    <<- -1>> fonds
    # Confusion : fonds (ce qui constitue une richesse) ≠ fond (partie la plus basse/profonde).
__[i]/conf__  (fonds) baptismaux <<- -1>> fonts
    # Confusion. Écrivez “fonts”, qui vient du latin “fons” et signifie « fontaine, source ».

# glaciaire / glacière
__[i]/conf__  (\w+) (glaciaires?) <<- morph(\1, ":D") -2>> glacière                # Confusion : « glaciaire » est un adjectif.
__[i]/conf__  ère (glacière) <<- -1>> glaciaire                                    # Confusion : une glacière est un contenant préservant le froid.

# en son for intérieur / fort
__[i]/conf__  (?:en|dans) (?:[mts]on|leur|[nv]otre) (forts? intérieurs?) <<- -1>> for intérieur
    # Confusion : “for” vient du latin “forum” et le “for intérieur” évoque la conscience individuelle.

# gène / gêne
__[i]/conf__  sans[- ]gènes? <<- ->> sans-gêne                                      # Confusion. Gène = élément des chromosomes. Gêne = embarras.
__[i]/conf__  (?:[dmtsc]es|[nv]os) (gênes) <<- -1>> gènes                           # Confusion probable. Gène = élément des chromosomes. Gêne = embarras.

# gent [nf] / gent(e)(s) [adj]
__[i]/conf__  la (gente) (?:féminine|masculine) <<- -1>> gent
    # Confusion. « Gente » est un adjectif vieilli. Utiliser « gent » pour désigner un groupe de personnes.

# golf / golf
__[i]/conf__  (champion(?:ne|nat|)s?|clubs?|joueu(?:r|se)s?|parcours|sacs?|balles?|terrains?|tournois?|compétitions?|passionnée?s?|écoles?|professeurs?|parties?|professionel(?:le|)s?|amateure?s?|stages?|journées?|après-midi|matinées?|heures?|fédérations?|fans?) de (golfe)
    <<- -2>> golf
    # Confusion. Le golfe est une zone de mer ou d’un lac avancée dans les terres. Ex : Le golfe Persique.
__[i]/conf__  (golf) (persique|d[ue] (?:Bengale|Botnie|Gascogne|Gabès|Guinée|Lion|Morbihan|Mexique|Porto|Saint-Laurent|Thaïlande|Tonkin|Tunis|Winam)|d’(?:Aden|Ajaccio|Alaska|Hammamet))
    <<- -1>> golfe                                                                                       # Confusion. Le golf est un sport.
__[i]/conf__  (?:guerre|émir|monarchie)s? du (golf) <<- -1>> Golfe                                       # Confusion. Le golf est un sport.             

# gré / grès
__[i]/conf__  à (?:[mts]on|[nv]otre|leur) (grès) <<- -1>> gré                                       # Confusion probable. Le grès est une roche détritique.
__[i]/conf__  bon grès(,|) mal grès <<- ->> bon gré\1 mal gré                                       # Confusion. le grès est une roche détritique.
__[i]/conf__  au (grès) d(?:es?|u) <<- -1>> gré                                                     # Confusion probable. Le grès est une roche détritique.
__[i]/conf__  de (grès) ou de force <<- -1>> gré                                                    # Confusion. Le grès est une roche détritique.
__[i]/conf__  de (?:bon|mauvais|(?:[mts]on|[nv]otre|leur) plein) (grès) <<- -1>> gré                # Confusion. Le grès est une roche détritique.
__[i]/conf__  contre (?:[mts]on|[nv]otre|leur) (grès) <<- -1>> gré                                  # Confusion probable. Le grès est une roche détritique.
#savoir gré à quelqu’un « lui être reconnaissant »
#au gré de quelqu’un, « selon son goût, son désir »

# la / là
__[i]/conf__  (celles?|celui|ceux)[ -]la <<- ->> \1-là                              # Écrivez “là” et non “la”.
__[i]/conf__  (\w\w+)-(là) <<- morphex(\1, ":V", ":[NAQ]") -2>> la                   # Confusion : pour un COD, utilisez “la”.
__[i]/conf__  (\w\w+)-(la) <<- morphex(\1, ":[NAQ]", ":[123][sp]") -2>> là           # Confusion : « \1 » n’est pas un verbe.
__[i]/conf__  [nmts]e (là) <<- -1>> la                                              # Confusion : “là” signifie “ici”.|http://fr.wiktionary.org/wiki/l%C3%A0

# la / l’a
__[i]/conf__  (il|elle|on) (?:nous |vous |)(l’a) +([bcdfghjklmnpqrstvwxz][\w-]+)
    <<- morphex(\3, ":[123][sp]", ":[GQ]")
    -2>> la                                                                                                                 # Confusion probable.
__[i]/conf__  ne (?:nous |vous |)(l’a) +([bcdfghjklmnpqrstvwxz][\w-]+) <<- morphex(\2, ":[123][sp]", ":[GQ]") -1>> la       # Confusion probable.
__[i]/conf__  ne (l’a) l(?:ui|eur) <<- -1>> la                                                                              # Confusion probable.
__[i]/conf__  [mts]e (l’a) +([bcdfghjklmnpqrstvwxz][\w-]+) <<- morphex(\2, ":[123][sp]", ":[GQ]") -1>> la                   # Confusion probable.

# laissez-passer / laissez-faire
__[i]/conf__  laisser-passer <<- ->> laissez-passer                                                                 # Confusion.
__[i]/conf__  laissez-(aller|faire) <<- ->> laisser-\1                                                              # Confusion.

# leur / leurs
__[i]/conf__  (\w+) (leurs) (\w+) <<- morph(\3, ":Y") and not re.match("(?i)[ld]es$", \1) -2>> leur                 # Confusion.

# levée / lever
__[i]/conf__  levée?(?= de rideau) <<- ->> lever                                                                    # Confusion.
__[i]/conf__  levée?(?= d[eu] soleil) <<- ->> lever                                                                 # Confusion.

# lever un lièvre / soulever
__[i]/conf__  (sou(l\w+)) (?:un|le) lièvre <<- morph(\1, ">soulever ", False) -1>> \2
    # Expression impropre. On écrit « lever un lièvre ».|http://fr.wiktionary.org/wiki/lever_le_li%C3%A8vre

# lieux / lieues / lieus
__[i]/conf__  (assurances?|états?|visites?|ma[îi]tres?|seigneurs?|magie|chefs?|responsables?|respect|entretien|propreté|propriétaires?|tranquillité|dans|vers|plans?) des (lieue?s)
    <<- -2>> lieux
    # Confusion probable. Pour désigner un endroit, utilisez “lieux”.|http://fr.wiktionary.org/wiki/lieu
__[i]/conf__  (lieue?s) (?:aménagée?s|abandonnée?s|accueillante?s|insolites|accessibles|inaccessibles|inexplorée?s|éloignée?s|lointains|louches|réservée?s|proches|touristiques|saints|sacrée?s|connue?s|inconnue?s|méconnue?s|privilégiée?s|mythiques|publics|privée?s|prestigieux|romantiques|stratégiques|historiques|où|humides|secs|de (?:communication|contemplation|culte|chasse|détente|détention|départ|méditation|mémoire|pouvoir|prière|prostitution|sépulture|repos|refuge|stockage|travail|vacances?|spectacles?|conférences?|rassemblements?|stationnement|rencontres?|villégiature))
    <<- -1>> lieux
    # Confusion probable. Pour désigner un endroit, utilisez “lieu(x)”.|http://fr.wiktionary.org/wiki/lieu
__[i]/conf__  ((?:[eêsf]|demeur|habit|trouv|situ|rest)\w+) à (?:dix|vingt|cent|mille|des|\d+) (lieu[sx])
    <<- morph(\1, ">(?:être|habiter|trouver|situer|rester|demeurer?) ", False)
    -2>> lieues
    # Confusion probable. Pour désigner une distance, utilisez “lieues”.|http://fr.wiktionary.org/wiki/lieue

# en général
__[i]/conf__  en (générale) <<- -1>> général                                                        # Expression impropre. Écrivez :

# mare / marre
__[i]/conf__  (?:la|une) (marre) <<- -1>> mare
    # Confusion. Pour parler d’une petite étendue d’eau, écrivez “mare”. En avoir marre de = en avoir assez de.

# mi / mis
__[i]/conf__  ({avoir}) +(mie?) <<- morph(\1, ":V0a", False) -2>> mis                               # Confusion. Pour le participe passé de mettre, écrivez :
__[i]/conf__  (mie?) en (?:abyme|bouteilles?|cause|demeure|évidence|examen|f[ûu]ts?|images?|liquidation|mémoire|musique|œuvres?|paiement|place|pièces?|quarantaine|scène|tonneaux?|service|valeur)
    <<- -1>> mis                                                                                    # Confusion. Pour le participe passé de mettre, écrivez :
__[i]/conf__  (mie?) à (?:jours?|pieds?|dispositions?|part|mal|nue?|contribution|rude|mort)
    <<- -1>> mis                                                                                    # Confusion. Pour le participe passé de mettre, écrivez :

# n’est-ce pas - ai / es / est
__[i]/conf__  n’(es|ai[et]?)[- ]ce[- ]pas <<- ->> n’est-ce pas                                      # Erreur de conjugaison.

# notre / nôtre -- votre / vôtre
# Hunspell corrige déjà les formes au pluriel (les nôtres).
__[i]/conf__  (?:les?|la|du|des|aux?) ([nv]otres?)
    <<- not (\1 == "Notre" and after("Père")) -1>> =\1.replace("otre", u"ôtre")                     # Confusion : « notre possession », « la nôtre ».
__[i]/conf__  ([nv]ôtres?) (\w[\w-]+)
    <<- not before("(?i)\\b(les?|la|du|des|aux?) +") and morph(\2, ":[NAQ]", False)
    -1>> =\1.replace(u"ôtre", "otre").rstrip("s")                                                   # Confusion : « notre possession », « la nôtre ».

# nulle part
__[i]/conf__  nul part <<- not morph(word(-1), ":D", False, False) ->> nulle part                   # Confusion : « nulle part » = en aucun lieu.

# numérique / digital
__[i]/conf__  (?:stratégie|appareil|trans(?:ition|formation)|caméra|télévision|banque|connexion|prise|présence|entreprise|com(?:pagnie|munication)|agence|expérience|solution|identité|économie|ère)s? (digital(?:es?|aux|))
    <<- -1>> numérique|numériques
    # Confusion : “digital” est un adjectif se rapportant aux doigts (empreinte digitale, arthrose digitale, etc.). Utilisez :
__[i]/conf__  (?:le|du|au) (digital)
    <<- -1>> numérique
    # Confusion : “digital” est un adjectif se rapportant aux doigts (empreinte digitale, arthrose digitale, etc.). Utilisez :

# on / ont
__[i>/conf__  (ont) [nmts]’(?!(?:ils?|elles?))
    <<- not word(-1)
    -1>> on                                                                                 # Confusion probable : “ont” est une conjugaison du verbe avoir.
__[i]/conf__  (ont) (\w[\w-]*)
    <<- ( re.match("[nmts]e$", \2) or
    (not re.match(u"(?i)(?:confiance|envie|peine|prise|crainte|affaire|hâte|force|recours)$", \2) and morphex(\2, ":[123][sp]", ":[AG]")) )
    and not word(-1)
    -1>> on                                                                                 # Confusion probable : “ont” est une conjugaison du verbe avoir.
__[i]/conf__  (ont) (l(?:ui|eur)|[nv]ous) (\w[\w-]+)
    <<- morphex(\3, ":V.*:(?:[1-3][sp])", ":(?:G|1p)")
    and not ( \2 == "leur" and morph(\3, ":[NA].*:[si]", False) )
    and not word(-1)
    -1>> on                                                                                 # Confusion probable : “ont” est une conjugaison du verbe avoir.
__[i]/conf__  [nmtsl]’(?:y|en) (on) <<- -1>> ont                                            # Confusion. Exemples : « on y va », « ils ont faim ».
__[i]/conf__  [nmts]e l’(on) <<- -1>> ont                                                   # Confusion. Exemples : « on y va », « ils ont faim ».
__[i]/conf__  qui +(on)
    <<- not morph(word(-1), ":[VR]", False, False) and not after("^ +>") and not morph(word(1), ":3s", False)
    -1>> ont                                                                        # Confusion probable. Exemples : « on y va », « ils ont faim ».

# ou / où
__[i]/conf__  ^(Ou) (\w[\w-]+) <<- morph(\2, ":V.\w+:(?!Y)") -1>> Où                # Confusion probable. Utilisez “où” pour “en quel lieu”.
__[i]/conf__  ^(Ou) ([eéêsf]\w+) <<- morphex(\2, ":V0e", ":Y")
    -1>> Où                                                                         # Confusion probable. Utilisez “où” pour “en quel lieu”.
__[i]/conf__  (?:au moment|par) (ou) <<- -1>> où                                    # Confusion. On écrit “ceci ou cela” mais “où aller ?”
__[i]/conf__  vers (ou) <<- not morph(word(-1), ":D", False, False) -1>> où         # Confusion probable. On écrit “ceci ou cela” mais “où aller ?”
__[i]/conf__  jusqu (ou) <<- -1>> où                                                # Confusion. On écrit “ceci ou cela” mais “où aller ?”

# pair / paire
__[i]/conf__  ((?:all|v|ir)\w+) de (pair(e|s|es)|perd?s?) <<- morph(\1, ">aller ", False) -2>> pair         # Confusion. On écrit « aller de pair ».

# pâle / pale
([eéêsf]\w+) +(pales?) <<- morph(\1, ":V0e", False)
    -2>> =\2.replace("pal", u"pâl")
    # Utilisez “pâle” pour évoquer la pâleur… Une pale est, entre autres choses, un élément d’une hélice.|http://fr.wiktionary.org/wiki/pale
(airs?|lu(?:mière|eur)s?|teinte?s?|co(?:loris|uleurs?)|peaux?|visages?|bleus?|rouges?|jaunes?|verts?|gris|oranges?|violets?|pourpres?) +(pales?)
    <<- -2>> =\2.replace("pal", u"pâl")
    # Utilisez “pâle” pour évoquer la pâleur… Une pale est, entre autres choses, un élément d’une hélice.|http://fr.wiktionary.org/wiki/pale

# parti / partie
__[i]/conf__  (pr\w+) (parti(?:s|es?)) <<- morph(\1, ">prendre ", False) -2>> parti                         # Confusion. On écrit « prendre parti ».
__[i]/conf__  (tir\w+) (parti(?:s|es?)) <<- morph(\1, ">tirer ", False) -2>> parti                          # Confusion. On écrit « tirer parti ».
__[i]/conf__  (f[aieoî]\w+) (parti(?:s|es|)) <<- morph(\1, ">faire ", False) -2>> partie                    # Confusion. On écrit « faire partie ».
__[i]/conf__  juges? et partis? <<- ->> juge et partie|juges et parties                                     # Confusion. On écrit « être juge et partie ».
__[i]/conf__  (pr\w+) +(?:\w[\w-]+ +|)([àa] partis?) <<- morph(\1, ">prendre ", False) -2>> à partie        # Confusion. On écrit « prendre à partie ».

# pâte / patte
__[i]/conf__  (?:coqs?) en (pattes?) <<- -1>> pâte                              # Confusion. Patte = jambe. Pâte = matière pâteuse.

# peu / peux / peut
__[i]/conf__  (peu[xt]) (?:de |d’)(\w\w+) <<- morph(\2, ":[NAQ]") -1>> peu       # Confusion probable : « \1 » est une conjugaison de « pouvoir ».
__[i]/conf__  ^ *(peu[tx]) importe(nt|) <<- not word(-1) -1>> peu               # Confusion : « \1 » est une conjugaison de « pouvoir », utilisez « peu ».
__[i]/conf__  (?:très|trop|de|quelque|pour|à) (peu[tx]) <<- -1>> peu            # Confusion : « \1 » est une conjugaison de « pouvoir », utilisez « peu ».
__[i]/conf__  (?<![^dDlL]’)un (peu[xt]) <<- -1>> peu                            # Confusion : « \1 » est une conjugaison de « pouvoir », utilisez « peu ».
__[i]/conf__  peu[xt]? a peu[xt]? <<- ->> peu à peu                                                      # Confusion : « peu à peu » ou « petit à petit ». 
__[i]/conf__  (?:il|on) (?:ne |)(peu) <<- -1>> peut                                                      # Confusion : « peu » signifie « pas beaucoup ».
__[i]/conf__  (?:je|tu) (?:ne |)(peu) <<- -1>> peux                                                      # Confusion : « peu » signifie « pas beaucoup ».
__[i]/conf__  (peu[tx]) (\w[\w-]+)
    <<- morph(\2, ":A") and not re.match("(?i)seule?s?$", \2) -1>> peu
    # Confusion probable : « \1 » est une conjugaison de « pouvoir », utilisez « peu ».

# peut-être / peut être
__[i]/conf__  (\w+) (peut être) <<- morphex(\1, ":V", ":(?:N|A|Q|G|MP)") -2>> peut-être              # Confusion probable.
__[i]/conf__  ^ *(peut être) <<- -1>> peut-être                                                      # Confusion probable.

# plain / pied
__[i]/conf__  (?:de|au) (pleins?[- ]pieds?) <<- -1>> plain-pied                     # Écrivez « \1 plain-pied ». Plain (vieux) : qui est plat, uni.

# la plupart
__[i]/conf__  la (plu[st][ -]part) <<- -1>> plupart                                 # Confusion : « la plupart » = la majeure partie.

# pôle / pole
__[i]/conf__  pole(?! position) <<- ->> pôle                                        # « pole », uniquement pour la « pole position ».

# prêt / près
__[i]/conf__  (prêts?) d(e +|’)(\w[\w-]+) <<- morph(\2, ":(?:Y|M[12P])") -1>> près
    # Confusion. Être près de (faire) quelque chose. Prêt à faire quelque chose.
__[i]/conf__  (près) à (\w[\w-]+) <<- not before("(?i)(?:peu|de) $") and morph(\2, ":Y|>(tout|les?|la) ") -1>> prêt|prêts
    # Confusion. Être près de (faire) quelque chose. Prêt à faire quelque chose.
__[i]/conf__  de(?: plus|puis) (prêts?) <<- -1>> près
    # Confusion. Être prêt à faire quelque chose. Être près de quelque chose.

# pot aux roses / poteau rose
__[i]/conf__  poteau rose <<- ->> pot aux roses
    # Confusion probable. On dit : « découvrir le pot aux roses ».|http://fr.wiktionary.org/wiki/d%C3%A9couvrir_le_pot_aux_roses

# pu / pus
__[i]/conf__  ({avoir}) (pu(?:es?|s)) <<- morph(\1, ":V0a", False) -2>> pu          # Confusion. Pour le participe passé de pouvoir, écrivez :

# quand / quant / qu’en
__[i]/conf__  (?<![dD]e )(quand) (?:à|aux?)
    <<- not morph(word(-1), ">(?:arriver|venir|à|revenir|partir|aller) ")
    -1>> quant                                                                      # Confusion probable. Quand = à quel moment. Quant à = à propos de.
__[i]/conf__  (quant)(?! à| aux?| est[ -]il d(?:es?|u) ) <<- -1>> quand             # Confusion. Quand = à quel moment. Quant à = à propos de.
__[i]/conf__  (quan[dt]) est[ -]il d(?:es?|u) <<- -1>> qu’en                        # Confusion. Ce qu’il en est de… → Qu’en est-il de… ?
__[i]/conf__  (quan[dt]) (\w[\w]ant) <<- morph(\2, ":P", False) -1>> qu’en          # Confusion probable. 

# quand même / comme même
__[i]/conf__  (comme même) *$ <<- -1>> quand même                                   # Confusion.|http://fr.wiktionary.org/wiki/quand_m%C3%AAme
__[i]/conf__  (\w+) (comme même) <<- morphex(\1, ":V", ":Q") -2>> quand mêmes       # Confusion probable.|http://fr.wiktionary.org/wiki/quand_m%C3%AAme

# quel que soit / quoi qu’il en soit
__[i]/conf__  quelques? soi(?:ent|t|s|) <<- ->> quel que soit|quelle que soit|quels que soient|quelles que soient       # Confusion.
__[i]/conf__  quoiqu il en soit <<- not morph(word(1), ":A", False) ->> quoi qu’il en soit                              # Confusion.

# quelque part
__[i]/conf__  quel(?:le|)s? que par[ts]? <<- ->> quelque part                                                           # Confusion probable.

# quelquefois / quelques fois
# Note : quelquefois ne peut être vérifié ici, puisque le mot est supprimé par le préprocesseur.
#__[i]/conf__  quelques? fois(?! au cours| par)
#    <<- not morph(word(-1), ":D", False, False)
#    ->> quelquefois
#    # Confusion probable : « quelquefois » est un adverbe qui signifie « parfois » ; ne pas confondre avec les quelques fois qu’il est advenu ou qu’il adviendra quelque chose.|http://bdl.oqlf.gouv.qc.ca/bdl/gabarit_bdl.asp?id=4334


__[i]/conf__  qu ?elles? que fois? <<- ->> quelquefois|quelques fois
    # Confusion. Utilisez « quelquefois » si vous voulez dire « parfois ». Utilisez « quelques fois » pour évoquer ce qui est advenu ou adviendra plusieurs fois.|http://bdl.oqlf.gouv.qc.ca/bdl/gabarit_bdl.asp?id=4334  

# quoique / quoi que
__[i]/conf__  de (quoique) <<- -1>> quoi que                                    # Confusion.|http://bdl.oqlf.gouv.qc.ca/bdl/gabarit_bdl.asp?id=1571

# quoiqu’il en coûte
__[i]/conf__  (quoiqu il) en (?:co[uû]te) <<- not word(1) -1>> quoi qu’il       # Confusion probable.

# raisonner / résonner
__[i]/conf__  (la|les?|[mts]e|[nv]ous) (résonn\w+)
    <<- morph(\2, ">résonner ", False) -2>> =\2.replace(u"résonn", "raisonn")   # Confusion probable. Vous utilisez la raison, mais vous ne « sonnez » pas.

# ris / riz
__[i]/conf__  (riz?) (?:de veaux?|d’agneaux?) <<- -1>> ris                      # Confusion.|http://fr.wiktionary.org/wiki/ris

# saint / sain / sein / seing
__[i]/conf__  (s[ae]in) ([A-ZÉÊ]\w+) <<- morph(\1, ":M1", False) -1>> saint                         # Confusion.
__[i]/conf__  (en|dans|sur) [mts]on (saint?) <<- -2>> sein                                          # Confusion.
__[i]/conf__  au (sain) (?:de|du|des) <<- -1>> sein                                                 # Confusion.
__[i]/conf__  blanc-(?:s[ae]int?)(s|) <<- ->> blanc-seing\1                                         # Confusion.|http://fr.wiktionary.org/wiki/blanc-seing

# sans / sens
__[i]/conf__  sans dessus[ -]dessous <<- ->> sens dessus dessous                                    # Confusion.

# sceptique / septique
__[i]/conf__  (?:fosse|installation|choc|chirurgie|maladie|plaie|blessure|embolie|arthrite|isolement|pneumo-entérite)s? (sceptiques?)
    <<- -1>> =\1.replace("scep","sep")
    # Confusion possible. Septique = corrompu, infecté. Sceptique = ayant des doutes.
__[i]/conf__  ([seêéf]\w+) +(septique(s|)) <<- morph(\1, ":V0e", False) -2>> sceptique\3
    # Confusion possible. Septique = corrompu, infecté. Sceptique = ayant des doutes.

# s’ensuivre
__[i]/conf__  s’en (sui\w+) <<- morph(\1, ">suivre ", False) ->> s’en\1                             # Verbe « s’ensuivre ».

# soi / soit
__[i]/conf__  soi(?:t-disante?s?|-disantes?) <<- ->> soi-disant                                     # Confusion.|http://fr.wiktionary.org/wiki/soi-disant
__[i]/conf__  (?:chez|don de|sur|avec|pour) (soit) <<- not after(" soit ") -1>> soi                 # Confusion probable.
__[i]/conf__  (?<![iI]l )en (soit)
    <<- morph(word(1), ":[GY]", True, True) and not before("quel(?:s|les?|) qu $")
    -1>> soi                                                                                        # Confusion probable.
__[i]/conf__  quel(?:le|)s? que (soi(?:es?|)) <<- -1>> soit|soient                                  # Confusion probable. 
__[i]/conf__  (?:avec|contre|par|pour|sur) (soit[- ]mêmes?) <<- -1>> soi-même                       # Confusion probable.
__[i]/conf__  soit-mêmes? <<- ->> soi-même                                                          # Confusion : moi-même, toi-même, lui-même, soi-même, etc.

# son / sont
__[i]/conf__  ne (?:l(?:e|eur|ui) |[nv]ous |)(son)
    <<- -1>> sont                   # Confusion : “son” est un déterminant ou un nom masculin. Le verbe “être” à la 3ᵉ personne du pluriel s’écrit “sont”.
__[i]/conf__  [mts]e (son)
    <<- -1>> sont                   # Confusion : “son” est un déterminant ou un nom masculin. Le verbe “être” à la 3ᵉ personne du pluriel s’écrit “sont”.
__[i]/conf__  (sont) (\w[\w-]+)
    <<- ( morphex(\2, ":N.*:[me]:s", ":G") or (re.match(u"(?i)[aeéiîou]", \2) and morphex(\2, ":N.*:f:s", ":G")) )
    and (before(u"(?i)^ *$|\\b(?:à|avec|chez|dès|contre|devant|derrière|en|par|pour|sans|sur) +$"))
    -1>> son                        # Confusion : “sont” est le verbe “être” à la 3ᵉ personne du pluriel. Pour le déterminant, écrivez “son”.

# statu / statut
__[i]/conf__  statu[ts] quo <<- ->> statu quo                           # Confusion.
__[i]/conf__  statu(?! quo) <<- ->> statut                              # Confusion. « Statu » ne s’emploie que dans l’expression « statu quo ».

# teint / tain / thym
__[i]/conf__  (?:glace|miroir|verre)s? sans (tains|teints?|thyms?) <<- -1>> tain    # Confusion.|http://fr.wiktionary.org/wiki/glace_sans_tain
__[i]/conf__  fonds? de (tains?|teints|thyms?) <<- -1>> teint                       # Confusion.|https://fr.wiktionary.org/wiki/fond_de_teint

# sur / sûr
__[i]/conf__  (sure?s?) que?
    <<- -1>> =\1.replace("sur", u"sûr")
    # Confusion probable : “sur” est une préposition ou un adjectif signifiant acide ou aigre ; utilisez “sûr” pour certain, vrai ou sans danger.|http://fr.wiktionary.org/wiki/sur
__[i]/conf__  (sur(?:es?|s)) de?
    <<- -1>> =\1.replace("sur", u"sûr")
    # Confusion probable : “sur” un adjectif signifiant acide ou aigre ; utilisez “sûr” pour certain, vrai ou sans danger.|http://fr.wiktionary.org/wiki/sur
__[i]/conf__  (sur) d(?:e (?:m(?:oi|es?|on|a)|t(?:oi|es?|on|a)|vous|nous|l(?:ui|es?)|s(?:oi|es?|on|a)|ce(?:ci|la|s|tte|t|)|ça)|’(?:elles?|eux))
    <<- -1>> sûr
    # Confusion probable : “sur” est une préposition ou un adjectif signifiant acide ou aigre ; utilisez “sûr” pour certain, vrai ou sans danger.|http://fr.wiktionary.org/wiki/sur
__[i]/conf__  (sur) d(?:e |’)([A-Z][\w-]+)
    <<- morph(\2, ":M1", False)
    -1>> sûr
    # Confusion probable : “sur” est une préposition ou un adjectif signifiant acide ou aigre ; utilisez “sûr” pour certain, vrai ou sans danger.|http://fr.wiktionary.org/wiki/sur
__[i]/conf__  (sur) de l(?:a |’|es? |ui |eur |[nv]ous )(\w[\w-]+(?:er|re|ir))
    <<- morph(\2, ":Y", False)
    -1>> =\1.replace("sur", u"sûr")
    # Confusion probable : “sur” est une préposition ou un adjectif signifiant acide ou aigre ; utilisez “sûr” pour certain, vrai ou sans danger.|http://fr.wiktionary.org/wiki/sur
__[i]/conf__  en lieu (sur)
    <<- -1>> sûr
    # Confusion probable : “sur” est une préposition ou un adjectif signifiant acide ou aigre ; utilisez “sûr” pour certain, vrai ou sans danger.|http://fr.wiktionary.org/wiki/sur

# tâche / tache (de chocolat / rousseur / vin / sang / café / gras / graisse / huile / etc.)
__[i]/conf__  (tâche) d(?:e +|’)(\w[\w-]+)
    <<- morphex(\2, ":N", ":M[12P]")
    -1>> tache
    # Confusion probable : une tâche est un travail à accomplir. Pour une salissure, une altération, une marque, une coloration… employez “tache”.

# tant / temps
__[i]/conf__  en (temps) que? <<- -1>> tant                                 # Incorrect. Écrivez « en tant que ».|http://fr.wiktionary.org/wiki/en_tant_que
__[i]/conf__  en (tant) de? <<- -1>> temps                                  # Incorrect. Écrivez « en temps de ».
__[i]/conf__  de tant? en tant? <<- ->> de temps en temps                   # Incorrect. Écrivez « de temps en temps ».
__[i]/conf__  un (temps) soit peu <<- -1>> tant                             # Incorrect. Écrivez « un tant soit peu ».
__[i]/conf__  a(?:près|vec) (temps) de? <<- -1>> tant                       # Confusion.|http://fr.wiktionary.org/wiki/tant 
__[i]/conf__  il ({etre}) +(tant) de (\w[\w-]+(?:er|ir|re))
    <<- morph(\1, ":V0e", False) and morph(\3, ":Y", False)
    -2>> temps                                                              # Incorrect.

# tort / tord
__[i]/conf__  à (tord) <<- -1>> tort                                        # Confusion : « tord » est une conjugaison du verbe tordre.
__[i]/conf__  ({avoir}) +(tord)
    <<- morph(\1, ">avoir ", False) -2>> tort                               # Confusion : « tord » est une conjugaison du verbe tordre.

# venimeux / vénéneux
__[i]/conf__  (?:serpent|araignée|scorpion|vipère|cobra|crapaud|grenouille|dendrobate|poulpe|guêpe|abeille|méduse|morsure|piqûre|dard|dent|croc|crochet)s? (vénéneu(?:x|ses?))
    <<- -1>> \1.replace(u"vénén", u"venim")                                     # Confusion : “vénéneux” se dit des plantes, employez “venimeux”.
__[i]/conf__  (?:(?:plante|champignon|lépiote|fruit|herbe|fleur|chair|moule|humus|substance)s?|végéta(?:l|ux)) (venimeu(?:x|ses?))
    <<- -1>> \1.replace(u"venim", u"vénén")                                     # Confusion : pas de venin ici.

# verre / vers / vert / ver

__[i]/conf__  le (ver(?:re|[ts])) +((?:est|étai[ts]|serai?[st]?|f[uû]t) +|)dans le fruit
    <<- -1>> ver            # Confusion. Verre = matière. Vert = couleur. Vers = suite de mots rythmés. Pour l’animal, écrivez :


# vieil / vieux
__[i]/conf__  (vieux) ([aeiou]\w+|homme)
    <<- morph(\2, ":[NAQ].*:[me]:s")
    -1>> vieil
    # Euphonie. Utilisez « vieil » pour un nom masculin singulier commençant par une voyelle ou un h.|https://fr.wikipedia.org/wiki/Euphonie

# nouveau / nouvel

# voie / vois / voix
# ->> voix
__[i]/conf__  à haute (voi[tes]) <<- -1>> voix                                  # Confusion.|http://fr.wiktionary.org/wiki/voix
__[i]/conf__  à (voi[tes]) (?:basse|haute) <<- -1>> voix                        # Confusion.|http://fr.wiktionary.org/wiki/voix
__[i]/conf__  de vives? (voi[est]) <<- -1>> voix                                # Confusion.|http://fr.wiktionary.org/wiki/voix

# ->> voie
__[i]/conf__  en (voix) d(?:e (?:développement|disparition|guérison|résorption)|’(?:acquisition|achèvement|extinction|obtention))
    <<- -1>> voie                                                               # Confusion.|http://fr.wiktionary.org/wiki/voie
__[i]/conf__  (ouv\w+) +la (voix) (?:à|aux?)
    <<- morph(\1, ">ouvrir ", False)
    -2>> voie                                                                   # Confusion.|http://fr.wiktionary.org/wiki/voie
__[i]/conf__  par (voix) de conséquence <<- -1>> voie                           # Confusion.|http://fr.wiktionary.org/wiki/voie
__[i]/conf__  (voix) (?:abdominale|anale|biliaire|carrossable|communale|express|interdite|intramusculaire|intraveineuse|piétonne|principale|prioritaire|privée|publique|déserte|romaine|appienne|flaminienne|ferrée|ferroviaire|lactée|lacrymale|aérienne|maritime|fluviale|terrestre|navigable|détournée|déviée|buccale|disgestive|urinaire|respiratoire|parallèle|administrative|diplomatique|gouvernementale|législative|hiérarchique|rectiligne|sinueuse|souterraine|urbaine)s?
    <<- -1>> voie                                                               # Confusion.|http://fr.wiktionary.org/wiki/voie 

# vu / vue
__[i]/conf__  points? de (vus?) <<- -1>> vue                                    # Mettez au féminin.


############################## MOTS COMPOSÉS ###############################

__[i]/mc__  (\w\w+)-(\w\w+)
    <<- not \1.isdigit() and not \2.isdigit() and not morph(\0, ":", False) and not morph(\2, ":G", False) and spell(\1+\2) ->> \1\2
    # Vous pouvez ôter le trait d’union.
    <<- \2 != u"là" and not re.match("(?i)(?:ex|mi|quasi|semi|non|demi|pro|anti|multi|pseudo|proto|extra)$", \1)
    and not \1.isdigit() and not \2.isdigit() and not morph(\2, ":G", False)
    and not morph(\0, ":", False) and not spell(\1+\2) ->> _
    # Mot inconnu du dictionnaire.|http://www.dicollecte.org/dictionary.php?prj=fr&unknownword=on



############################## MAJUSCULES & MINUSCULES ###############################

# Les jours
__[s]/maj__  (?<=[\w,] )(?:Lundi|Mardi|Mercredi|Jeudi|Vendredi|Samedi|Dimanche)
    <<- ->> =\0.lower()
    # Pas de majuscule sur les jours de la semaine.|http://www.academie-francaise.fr/la-langue-francaise/questions-de-langue#42_strong-em-jours-de-la-semaine-pluriel-et-majuscules-em-strong

# Les mois
__[s]/maj__  (?<=[\w,][ ’])(?:Janvier|Février|Avril|Mai|Juin|Juillet|Ao[ûu]t|Septembre|Octobre|Novembre|Décembre|Vendémiaire|Brumaire|Frimaire|Nivôse|Pluviôse|Ventôse|Germinal|Floréal|Prairial|Messidor|Thermidor|Fructidor)
    <<- not( ( \0=="Juillet" and before("(?i)monarchie +de +$") ) or ( \0=="Octobre" and before("(?i)révolution +d’$") ) )
    ->> =\0.lower()
    # Pas de majuscule sur les mois.|http://www.academie-francaise.fr/la-langue-francaise/questions-de-langue#42_strong-em-jours-de-la-semaine-pluriel-et-majuscules-em-strong
__[s]/maj__  (?:[eE]n|[0-9][0-9]?) (Mars)
    <<- -1>> mars
    # Pas de majuscule sur les mois.|http://www.academie-francaise.fr/la-langue-francaise/questions-de-langue#42_strong-em-jours-de-la-semaine-pluriel-et-majuscules-em-strong


# Les États
__[s]/maj__  (état) (?:français|belge|suisse|canadien|palestinien|souverain|américain|membre|africain|européen|voyou|démocratique|totalitaire|fédéral|fédéré|capitaliste|communiste)
    <<- -1>> État                                       # Majuscule manquante : si vous parlez de l’institution dirigeante d’une nation, écrivez “État”.
__[s]/maj__  (états) (?:français|belges|suisses|canadiens|palestiniens|souverains|membres|américains|africains|européens|voyous|démocratiques|totalitaires|fédéraux|fédérés|capitalistes|communistes)
    <<- -1>> États                                      # Majuscule manquante : si vous parlez de l’institution dirigeante d’une nation, écrivez “État”.

__[s]/maj__  (?:affaire|agent|administration|chancellerie|chefs|conseil|coup|diplôme|doctorat|emprunt|lycée|propriété|secret|homme|femme|police|religion|ministre|ministère|subvention|secrétaire|secrétariat|raison|ressortissant|université)s? d’(état)
    <<- -1>> État                                       # Majuscule manquante : si vous parlez de l’institution dirigeante d’une nation, écrivez “État”.
__[s]/maj__  (?:défense|s[ûu]reté|agent|budget|caisse|capitale|constitution|charge|chef|dirigeant|denier|finance|fonction|fonctionnement|frontière|institution|propriété|monopole|pouvoir|rouage|ressource|service|subvention|suprême)s? de l’(état)
    <<- not re.match("(?i)fonctions? ", \0) or not before(r"(?i)\ben $")
    -1>> État                                           # Majuscule manquante : si vous parlez de l’institution dirigeante d’une nation, écrivez “État”.

# gentilés / ethnonymes
__[u]/maj__  (\w[\w-]+) ((?:afghan|albanais|algérien|allemand|américain|andorran|ango?lais|argentin|arménien|australien|autrichien|azerbaïdjanais|bahamien|bangladais|bengladeshi|barbadien|basque|belge|bélizien|béninois|breton|bhoutanais|biélorusse|birman|bolivien|bosnien|botswanais|brésilien|britannique|brunéien|bulgare|burkinabé|burundais|cambodgien|camerounais|canadien|capverdien|centrafricain|chilien|chinois|chypriote|colombien|comorien|congolais|nord-coréen|corse|costaricien|croate|cubain|danois|djiboutien|dominicain|ivoirien|égyptien|émirati|équatorien|érythréen|estonien|espagnol|états-?unien|étasunien|éthiopien|fidjien|finlandais|formosan|français|gabonais|gambien|géorgien|ghanéen|grec|grenadien|guadeloupéen|guatémaltèque|guinéen|équato-guinéen|guyanien|haïtien|hondurien|hollandais|hongrois|indien|indochinois|indonésien|irakien|italien|iranien|irlandais|islandais|israélien|jamaïcain|japonais|jordanien|kazakh|kényan|kosovar|koweïtien|laotien|lapon|letton|libanais|libérien|libyen|liechtensteinois|lituanien|luxembourgeois|macédonien|malgache|malaisien|malawite|maldivien|malien|maltais|maori|marocain|martien|mauricien|mauritanien|mexicain|micronésien|moldave|monégasque|monténégrin|mongol|mozambicain|namibien|népalais|nicaraguayen|nigérien|nigérian|néerlandais|norvégien|néo-zélandais|ougandais|ouzbek|pakistanais|palestinien|panaméen|paraguayen|péruvien|philippin|polonais|polynésien|portugais|québécois|qatari|roumain|russe|rwandais|salvadorien|sénégalais|serbe|singapourien|slovaque|slovène|somalien|soudanais|srilankais|suédois|suisse|surinamais|syrien|tadjik|tanzanien|tchadien|tchèque|thaïlandais|togolais|tahitien|saoudien|scandinave|sud-africain|sud-coréen|sud-américain|tunisien|turkmène|turc|taïwanais|ukrainien|soviétique|uruguayen|vénézuélien|vietnamien|yéménite|yougoslave|zaïrois|zambien|zimbabwéen)(?:s|es|ne|nes|))
    <<- \2.istitle() and morphex(\1, ":[NV]", ":(?:A|V0e|D)") -2>> =\2.lower()              # S’il s’agit d’un adjectif, ne mettez pas de majuscule.
    <<- \2.islower() and not \2.startswith("canadienne") and
    ( re.match("(?i)(?:certaine?s?|cette|ce[ts]?|[dl]es|[nv]os|quelques|plusieurs|chaque|une)$", \1) or
    ( re.match("(?i)un$", \1) and not after(u"(?:approximatif|correct|courant|parfait|facile|aisé|impeccable|incompréhensible)") ) )
    -2>> =\2.capitalize()                                                                        # S’il s’agit d’un gentilé, mettez une majuscule.

__[s]/maj__  (?:une? |certaine?s? |cet? |[cdl]es |cette |l[ea] |quelques |plusieurs |chaque )((?:européen|parisien|lyonnais|marseillais|lillois|toulousain|nantais|strasbourgeois|montpelliérain|bordelais|bruxellois|montréalais|genévois|zurichois|bâlois|berlinois)(?:s|es|ne|nes|))
    <<- -1>> =\1.capitalize()                           # S’il s’agit d’un gentilé, mettez une majuscule.

# les langues
__[s]/maj__  ((?:parl|cours|leçon|appr|étud|tradu|enseign|professeur|enseignant|dictionnaire|méthode)\w*) (?:le |d[eu] |l’|d’|qu |)(Afrikaans|Albanais|Allemand|Alsacien|Anglais|Arabe|Aragonais|Arménien|Asturien|Basque|Bengali|Biélorusse|Birman|Bosniaque|Breton|Bulgare|Cantonais|Catalan|Cherokee|Chinois|Corse|Cornique|Coréen|Croate|Danois|Écossais|Espagnol|Espéranto|Estonien|Féroïen|Farsi|Finnois|Flamand|Français|Frison|Galicien|Gallois|Gaulois|Géorgien|Grec|Gujarati|Hakka|Hawaïen|Hébreu|Hindi|Hollandais|Hongrois|Javanais|Ido|Indonésien|Interlingua|Islandais|Italien|Irlandais|Japonais|Kazakh|Khmer|Kurde|Ladino|Laotien|Latin|Ligurien|Limbourgeois|Lituanien|Lombard|Luxembourgeois|Macédonien|Malais|Maldivien|Malgache|Maltais|Mandarin|Maori|Marathi|Marwari|Moldave|Mongol|Napolitain|Néerlandais|Norvégien|Occitan|Ourdou|Ouzbek|Persan|Peul|Piémontais|Polonais|Portugais|Provençal|Quichua|Romanche|Roumain|Russe|Sans[ck]rit|Sarde|Serbe|Sicilien|Sindhi|Slovaque|Slovène|Soudanais|Sorabe|Suédois|Swahili|Tagalog|Tahitien|Tamoul|Tatar|Tchèque|Thaï|Turc|Ukrainien|Vénitien|Vietnamien|Volapük|Wallon|Wo?u|Yiddish|Xhosa|Xiang|Zoulou)
    <<- morph(\1, u">(?:parler|cours|leçon|apprendre|étudier|traduire|enseigner|professeur|enseignant|dictionnaire|méthode) ", False)
    -2>> =\2.lower()                                    # Si vous parlez de la langue, pas de majuscule.

__[s]/maj__  (?:[Ee]n )(Afrikaans|Albanais|Allemand|Alsacien|Anglais|Arabe|Aragonais|Arménien|Asturien|Basque|Bengali|Biélorusse|Birman|Bosniaque|Breton|Bulgare|Cantonais|Catalan|Cherokee|Chinois|Cornique|Coréen|Croate|Danois|Écossais|Espagnol|Espéranto|Estonien|Féroïen|Farsi|Finnois|Flamand|Français|Frison|Galicien|Gallois|Gaulois|Géorgien|Grec|Gujarati|Hakka|Hawaïen|Hébreu|Hindi|Hollandais|Hongrois|Javanais|Ido|Indonésien|Interlingua|Islandais|Italien|Irlandais|Japonais|Kazakh|Khmer|Kurde|Ladino|Laotien|Latin|Ligurien|Limbourgeois|Lituanien|Lombard|Luxembourgeois|Macédonien|Malais|Maldivien|Malgache|Maltais|Mandarin|Maori|Marathi|Marwari|Moldave|Mongol|Napolitain|Néerlandais|Norvégien|Occitan|Ourdou|Ouzbek|Persan|Peul|Piémontais|Polonais|Portugais|Provençal|Quichua|Romanche|Roumain|Russe|Sans[ck]rit|Sarde|Serbe|Sicilien|Sindhi|Slovaque|Slovène|Soudanais|Sorabe|Suédois|Swahili|Tagalog|Tahitien|Tamoul|Tatar|Tchèque|Thaï|Turc|Ukrainien|Vénitien|Vietnamien|Volapük|Wallon|Wo?u|Yiddish|Xhosa|Xiang|Zoulou)
    <<- -1>> =\1.lower()                                # Si vous parlez de la langue, pas de majuscule.

# Moyen Âge
__[s]/maj__  [Mm]oyen[- ][Aâa]ge <<- ->> Moyen Âge                                          # Le « Moyen Âge ».

# Dieu
__[s]/maj__  (?:[MmBb]on) (dieu) <<- -1>> Dieu                                              # Il manque une majuscule.
__[s]/maj__  dieu(?! de?) <<- not morph(word(-1), ":D", False) ->> Dieu                     # Il manque une majuscule.

# Église
__[s]/maj__  [lL]’(église) (?:adventiste|anglicane|copte|catholique|calviniste|épiscopalienne|jacobite|luth[eé]rienne|méthodiste|mormone|néo-?apostolique|orthodoxe|pentecôtiste|presbytérienne|protestante|réformée)
    <<- -1>> Église
    # Lorsqu’on parle de l’institution, une majuscule est requise. Pour un bâtiment, pas de majuscule.
__[s]/maj__  [hH]ommes? d’(église) <<- -1>> Église
    # Lorsqu’on parle de l’institution, une majuscule est requise. Pour un bâtiment, pas de majuscule.
__[s]/maj__  (?:[cC]hef|[rR]ite|[sS]acrement)s? de l’(église) <<- -1>> Église
    # Lorsqu’on parle de l’institution, une majuscule est requise. Pour un bâtiment, pas de majuscule.
__[s]/maj__  (Église)s? +(?:(?:baroque|gothique|romane)s?|Saint-[A-ZÉÊ]\w[\w-]+)
    <<- before(r"\w") -1>> église
    # Pour un bâtiment, une minuscule est requise. La majuscule est pour l’institution.


# Points cardinaux
__[s]/maj__  (?:Afrique|Amérique|Asie|Corée|Galles|Europe|Irlande|Soudan|Rhodésie|Territoire) du (nord|sud) <<- -1>> =\1.capitalize()   # Majuscule manquante.
__[s]/maj__  (?:Afrique|(?:ex-|)Allemagne|Asie|Europe|Pays) de l’(ouest|est) <<- -1>> =\1.capitalize()                                  # Majuscule manquante.


# Unités de mesure
__[s]/maj__  (\d+|une?|deux|trois|quatre|cinq|six|sept|huit|neuf|dix|onze|douze|treize|quatorze|quinze|seize|vingt|trente|quarante|cinquante|soixante|septante|octante|huitante|nonante|cents?|mille) ([A-Z]\w+)
    <<- re.match(u"(?:Mètre|Watt|Gramme|Seconde|Ampère|Kelvin|Mole|Cand[eé]la|Hertz|Henry|Newton|Pascal|Joule|Coulomb|Volt|Ohm|Farad|Tesla|W[eé]ber|Radian|Stéradian|Lumen|Lux|Becquerel|Gray|Sievert|Siemens|Katal)s?|(?:Exa|P[ée]ta|Téra|Giga|Méga|Kilo|Hecto|Déc[ai]|Centi|Mi(?:lli|cro)|Nano|Pico|Femto|Atto|Ze(?:pto|tta)|Yo(?:cto|etta))(?:mètre|watt|gramme|seconde|ampère|kelvin|mole|cand[eé]la|hertz|henry|newton|pascal|joule|coulomb|volt|ohm|farad|tesla|w[eé]ber|radian|stéradian|lumen|lux|becquerel|gray|sievert|siemens|katal)s?", \2)
    -2>> =\2.lower()
    # Pas de majuscule sur les unités de mesure.|https://fr.wikipedia.org/wiki/Unit%C3%A9_de_mesure


################################################################# CONJUGAISONS ##############################################################################


#### INFINITIF
__[i]/infi__  à en (\w[\w-]+) <<- not morph(\1, ":Y", False) -1>> _                                               # Le verbe devrait être à l’infinitif.
__[i]/infi__  de ((\w[\w-]+)(?:é|ez))
    <<- morph(\1, ":V1") and not before(u"(?i)(quelqu(?:e chose|’une?) d(?:e |’)|(?:l(es?|a)|nous|vous|me|te|se)[ @]trait|(?:quelqu(?:e chose|’une?)|personne|rien(?: +\w+|)) +$)")
    -1>> \2er
    # Le verbe devrait être à l’infinitif.
__[i]/infi__  de +(?:[nv]ous|lui) (\w[\w-]+(?:ée?s?|ez)) <<- morphex(\1, ":V1", ":M[12P]") -1>> =suggVerbInfi(\1)
    # Le verbe devrait être à l’infinitif.
__[i]/infi__  de les? ((\w[\w-]+)(?:ée?s?|ez)) <<- morph(\1, ":V1", False) -1>> \2er
    # Le verbe devrait être à l’infinitif.
__[i]/infi__  y +(\w[\w-]+ée?s?) <<- morphex(\1, ":V", ":[123][sp]") -1>> _
    # Le verbe ne devrait pas être un participe passé.
__[i]/infi__  pour (\w[\w-]+(?:ée?s?|ez))
    <<- morphex(\1, ":V1", ":[NM]") and not morph(word(-1), ">(?:tenir|passer) ", False)
    -1>> =suggVerbInfi(@)
    # Le verbe devrait être à l’infinitif.
__[i]/infi__  pour +(?:[nv]ous|lui) ((\w[\w-]+)(?:ée?s?|ez)) <<- morph(\1, ":V1", False) -1>> \2er                # Le verbe devrait être à l’infinitif.
__[i]/infi__  sans ((\w[\w-]+)(?:ée?s?|ez)) <<- morphex(\1, ":V1", ":[NM]") -1>> \2er                             # Le verbe devrait être à l’infinitif.
__[i]/infi__  (?:[mn](?:e|’en)|lui) (\w[\w-]+ée?s?) <<- morph(\1, ":Q", False) -1>> _
    # Incohérence. Le verbe ne devrait pas être un participe passé.
__[i]/infi__  [ts](?:e|’(?:en|y)) ((\w[\w-]+)(?:ée?s?|ez)) <<- morph(\1, ":(?:Q|2p)", False) -1>> \2er
    # Incohérence. Le verbe devrait être à l’infinitif.
__[i]/infi__  (?:nous|vous) (\w[\w-]+ée?s?)
    <<- morph(\1, ":Q", False) and not morph(word(-1), "V0.*[12]p", False) -1>> _
    # Incohérence. Le verbe ne devrait pas être un participe passé.


#### PARTICIPES PRÉSENTS

__[i]/gv__  (ne|lui|me|te|se|nous|vous) (\w[\w-]+ants) <<- -2>> =\2[:-1]
    # Un participe présent est invariable.|http://fr.wiktionary.org/wiki/participe_pr%C3%A9sent



####################################################################################################
####################################################################################################
## NOUVELLE PASSE
####################################################################################################
####################################################################################################



#
# //////////////////////////////////////// PRÉPROCESSEUR ////////////////////////////////////////
#

### @ : we remove @ we introduced after le/la/les in some cases
__<s>__  @ <<- ~>> *

### Avant les verbes (ôter seulement les COI!)
__[i]__  ne (leur|lui)(?! en) <<- ~1>> *

### Après les verbes
__[i]__  jamais <<- ~>> *
__[i]__  guère <<- ~>> *
__[i]__  (\w+) (pas|point|rien|bien|ensemble) <<- morph(\1, ":V", False) ~2>> *
__[i]__  \w+-(?:je|tu|ils?|elles?|on|[nv]ous) (pas|point|rien|bien|ensemble) <<- ~1>> *

# sembler le croire/penser/présumer
__[i]__  que +(sembl\w+) +(l(?:e (?:penser|croire|présumer|supposer)|’(?:envisager|imaginer))) <<- morph(\1, ">sembler ", False) ~2>> *

### tous / tout / toute / toutes
__[i]__  (tout) (?:le|ce|[mts]on|leur) <<- ~1>> *
__[i]__  (toute) (?:la|cette|[mts](?:a|on)|leur) <<- ~1>> *
__[i]__  (tou(?:te|)s) (?:[csmlt]es|[vn]os|leurs) <<- ~1>> *

### Simplification des groupes nominaux

# désambiguïsation - pour contrer le faux positif qui veut accorder fois avec le participe passé de la proposition suivante
__[s]__  (fois )que? <<- ~1>> fois=

__[i]__  beaucoup (de (?:monde|temps)) <<- ~1>> _
__[i]__  en pleine? (\w[\w-]+) <<- morph(\1, ":[NAQ]", False) and isEndOfNG() ~>> *
__[i]__  en tant que tel(?:s|lles?|) <<- ~>> *
__[i]__  de (\w[\w-]+(?:er|ir|re)) <<- morph(\1, ":V[123]_i_._") and isEndOfNG() ~>> *
__[i]__  de (?:manière|façon) +(?:non +|)(\w[\w-]+) et +(?:non +|)(\w[\w-]+)
    <<- morph(\1, ":A", False) and morphex(\2, ":A", ":[GM]") ~>> *
__[i]__  de (?:manière|façon) +(?:non +|)(\w[\w-]+) <<- morph(\1, ":A", False) ~>> *
__[i]__  d(?:e +|’)(\w[\w-]+) +(\w[\w-]+)
    <<- morph(\1, ":[NAQ].*:s", False) and morphex(\2, ":[NAQ].*:s", ":[GV]") and isEndOfNG() ~>> *
__[i]__  d(?:e +|’)(\w[\w-]+) <<- morphex(\1, ":N", ":[GY]") and isEndOfNG() ~>> *

__[i]__  (?:les? |la |l’|des |ce(?:s|tte|t|) |[mts](?:es|on|a) |[nv]o(?:s|tre) |leurs? |certaine?s? |quelques ) *(\w\w+) +(\w\w+)
    <<- morphex(\1, ":[NAQ]", ":V0") and morphex(\2, ":[NAQ]", ":(?:G|[123][sp]|P)")
    ~2>> *

__[i]__  aucune? (de [nv]ous|d’e(?:ux|lles|ntre (?:[nv]ous|e(?:ux|elles)))) <<- ~1>> *
__[i]__  aucune? +(des +\w[\w-]+) +ne? <<- ~1>> *
__[i]__  chacune? (de [nv]ous|d’e(?:ux|lles|ntre (?:[nv]ous|e(?:ux|elles)))) <<- ~1>> *
__[i]__  l’une? (de [nv]ous|des [nv]ôtres|d’e(?:ux|lles|ntre (?:[nv]ous|e(?:ux|elles)))) <<- ~1>> *
__[i]__  la plupart (des \w[\w-]+) <<- ~1>> *

# groupe déjà partiellement simplifié (selon les règles de la passe 3)
__[i]__  (?:a(?:ux?|vec)|à|en)   +d(?:e +(?:la |l’|leurs? |ce(?:s|tte|t|) |[nv]o(?:s|tre) |[mts](?:a|on) |quelques? |certaine?s? )|es? |u ) *(\w\w+)
    <<- morph(\1, ":[NAQ]", False) and isEndOfNG()
    ~>> *

## y compris (pas terrible, mais cas difficile)
__[i]__  y compris <<- ~>> *

## eux/nous/vous tous -- elles toutes
__[i]__  [nv]ous (tou(?:te|)s) qui <<- ~1>> *
__[i]__  eux (tous) qui <<- ~1>> *
__[i]__  elles (toutes) qui <<- ~1>> *

## groupe avec préposition
__[i]__  (?:avec|à|s(?:ur|ous|elon)|c(?:ontre|hez)|dans|envers|p(?:ar|our)) +(\w\w+)
    <<- morphex(\1, ":[NAQ]", ":G") and isEndOfNG()
    ~>> *
__[i]__  (?:avec|à|s(?:ur|ous|elon)|c(?:ontre|hez)|dans|envers|p(?:ar|our)) +(?:les? |la |l’|de(?:s| la|) |ce[st]? |cette |[mts](?:es|on|a) |[nv]o(?:s|tre) |leurs? |certaine?s? |quelques ) *(\w\w+)
    <<- morph(\1, ":[NAQ]", False) and isEndOfNG()
    ~>> *
__[i]__  lors d(?:’|e(?:s| la|) |u ) *(\w[\w-]+)
    <<- morph(\1, ":[NAQ]", False) and isEndOfNG()
    ~>> *

## de +
__[i]__  d(?:e +|’)(\w[\w-]+) <<- morphex(\1, ":N", ":[GY]") and isEndOfNG() ~>> *
#__[i]__  d(?:e +|’)(\w[\w-]+) <<- morphex(\1, ":N", ":[GY]") and isEndOfNG() ~>> *
__[i]__  de (?:ce(?:t|tte|s|)|[mts](?:on|a|es)|[nv](?:otre|os)|leurs) +(\w[\w-]+) <<- morph(\1, ":[NAQ]", False) and isEndOfNG() ~>> *
#__[i]__  de (?:ce(?:t|tte|s|)|[mts](?:on|a|es)|[nv](?:otre|os)|leurs) +(\w[\w-]+) <<- morph(\1, ":[NAQ]", False) and isEndOfNG() ~>> *
__[i]__  de l(?:a|eur) +(\w[\w-]+) <<- morphex(\1, ":[NAQ]", ":Y") and isEndOfNG() ~>> *

__[s]__  , +, <<- ~>> *
__[s]__  ^ *, <<- ~>> *
__[s]__  , *$ <<- ~>> *
__[s]__  [—–-] +[—–-] <<- ~>> *
__[s]__  [<] +[>] <<- ~>> *
__[s]__  [(] +[)] <<- ~>> *



#
# //////////////////////////////////////// RÈGLES DE CONTRÔLE ////////////////////////////////////////
#


#### CONFUSIONS
## s’en / c’en
__[i]/conf__  (s’en) (?:n’|)(?:est|seras?|étai[ts]) +(\w[\w-]+)
    <<- re.match("(?i)(?:fini|terminé)s?", \2) and morph(word(-1), ":C", False, True)
    -1>> c’en
    # Confusion probable. « C’en est… » équivaut à « ça, c’est… ».|http://fr.wiktionary.org/wiki/c%E2%80%99en_est_fait_de
    <<- re.match("(?i)assez|trop", \2) and (after("^ +d(?:e |’)") or not word(1))
    -1>> c’en
    # Confusion probable. « C’en est… » équivaut à « ça, c’est… ».|http://fr.wiktionary.org/wiki/c%E2%80%99en_est_fait_de
    <<- morphex(\2, ":A", ":[GVW]") and morph(word(-1), ":C", False, True)
    -1>> c’en
    # Confusion probable : “\2” est un adjectif. « C’en est… » équivaut à « ça, c’est… ».3|http://fr.wiktionary.org/wiki/c%E2%80%99en_est_fait_de


#### INFINITIF

__[i]/infi__  ((?:fai|f[iî]|fer|fon|v[oe]u)\w+) +((\w[\w-]+)(?:ée?s?|ez))
    <<- morph(\1, u">(?:faire|vouloir) ", False) and not before("(?i)\\b(?:en|[mtsld]es?|[nv]ous|un) +$") and morphex(\2, ":V", ":M")
    -2>> \3er                                                                                                        # Le verbe devrait être à l’infinitif.
__[i]/infi__  (s[auû]\w+) +(\w[\w-]+(?:ée?s?|ez))
    <<- morph(\1, ">savoir ", False) and morph(\2, ":V", False) and not before("(?i)\\b(?:[mts]e|[vn]ous|les?|la|un) +$")
    -2>> _                                                                                                           # Le verbe devrait être à l’infinitif.
__[i]/infi__  il (?:ne |)fa(?:ut|udrait|udra|llut) +(?:lui (?:en|)|[mts](?:e |’(?:y |en |))|[nv]ous (?:en |y |)|en |y )(\w[\w-]+(?:ée?s?|ez))
    <<- morph(\1, ":(?:Q|2p)", False)
    -1>> =suggVerbInfi(@)                                                                                            # Le verbe devrait être à l’infinitif.
__[i]/infi__  il (?:ne |)fa(?:ut|udrait|udra|llut) +l(?:es? |a |’)(\w[\w-]+(?:ée?s?|ez))
    <<- morphex(\1, ":(?:Q|2p)", ":N")
    -1>> =suggVerbInfi(@)                                                                                            # Le verbe devrait être à l’infinitif.


#### ÊTRE / AVOIR ÉTÉ / SEMBLER (+ÊTRE via PP) / DEVENIR / RESTER / DEVENIR / REDEVENIR / PARAÎTRE + PARTICIPE PASSÉ / ADJ

__[i]/gv__  (je +|j’(?:y +|en +|))(?:ne +|n’|)((?:s[oue]|étai|fus|dev|re(?:dev|st)|par)\w*|a(?:ie?|vais|urais?) +été|eus(?:se|) +été) +(\w[\w-]+)
    <<- (morph(\2, u">(?:être|sembler|devenir|re(?:ster|devenir)|para[îi]tre) ", False) or \2.endswith(u" été")) and morphex(\3, ":[NAQ].*:p", ":[GWYsi]")
    -3>> =suggSing(@)                                                        # Accord avec le sujet « je » : « \3 » devrait être au singulier.

__[i]/gv__  tu +(?:ne +|n’|)((?:es|étai|fus|se[rm]|soi|dev|re(?:dev|st)|par)\w*|a(?:s|ies|vais|urai?s) +été|eus(?:ses|) +été) +(\w[\w-]+)
    <<- (morph(\1, u">(?:être|sembler|devenir|re(?:ster|devenir)|para[îi]tre) ", False) or \1.endswith(u" été")) and morphex(\2, ":[NAQ].*:p", ":[GWYsi]")
    -2>> =suggSing(@)                                                        # Accord avec le sujet « tu » : « \2 » devrait être au singulier.

__[i]/gv__  (il|ce|ce qui|celui +qui|ça +qui|lui +qui|celui-(?:ci|là) +qui|quiconque) +(?:ne +|n’|)((?:es|étai|f[uû]|se[mr]|soi|dev|re(?:dev|st)|par)\w*|a(?:it|vait|ura(?:it|)|) +été|e[uû]t +été) +(\w[\w-]+)
    <<- (morph(\2, u">(?:être|sembler|devenir|re(?:ster|devenir)|para[îi]tre) ", False) or \2.endswith(u" été"))
    and (morphex(\3, ":[NAQ].*:p", ":[GWYsi]") or morphex(\3, ":[AQ].*:f", ":[GWYme]"))
    -3>> =suggMasSing(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au masculin singulier.

__[i]/gv__  c’(?:est|était|e[uû]t +été) +(\w[\w-]+)
    <<- morphex(\1, ":[NAQ].*:p", ":[GWYsi]") or ( morphex(\1, ":[AQ].*:f", ":[GWYme]") and not morph(word(1), ":N.*:f", False, False) )
    -1>> =suggMasSing(@)                                                     # Accord avec le sujet « c’ » : « \1 » devrait être au masculin singulier.

__[i]/gv__  ç’(?:a(?:it|vait|ura(?:it|)|) +été) +(\w[\w-]+)
    <<- morphex(\1, ":[NAQ].*:p", ":[GWYsi]") or ( morphex(\1, ":[AQ].*:f", ":[GWYme]") and not morph(word(1), ":N.*:f", False, False) )
    -1>> =suggMasSing(@)                                                     # Accord avec le sujet « ç’ » : « \1 » devrait être au masculin singulier.

__[i]/gv__  (ça|ce(?:la|ci)|celui-(?:ci|là)|lequel) +(?:ne +|n’|)((?:es|étai|f[uû]|se[mr]|soi|par|dev|re(?:dev|st))\w+|a(?:it|vait|ura(?:it|)|) +été|e[uû]t +été) +(\w[\w-]+)
    <<- (morph(\2, u">(?:être|sembler|devenir|re(?:ster|devenir)|para[îi]tre) ", False) or \2.endswith(u" été"))
    and (morphex(\3, ":[NAQ].*:p", ":[GWYsi]") or morphex(\3, ":[AQ].*:f", ":[GWYme]"))
    and not morph(word(-1), ":R", False, False)
    -3>> =suggMasSing(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au masculin singulier.

__[i]/gv__  (elle|celle-(?:ci|là)|laquelle) +(?:ne +|n’|)((?:es|étai|f[uû]|se[rm]|soi|dev|re(?:dev|st)|par)\w*|a(?:it|vait|ura(?:it|)|) +été|e[uû]t +été) +(\w[\w-]+)
    <<- (morph(\2, u">(?:être|sembler|devenir|re(?:ster|devenir)|para[îi]tre) ", False) or \2.endswith(u" été"))
    and (morphex(\3, ":[NAQ].*:p", ":[GWYsi]") or morphex(\3, ":[AQ].*:m", ":[GWYfe]"))
    and not morph(word(-1), ":R|>de ", False, False)
    -3>> =suggFemSing(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au féminin singulier.

__[i]/gv__  (c?elle +qui) +(?:ne +|n’|)((?:es|étai|f[uû]|se[rm]|soi|dev|re(?:dev|st)|par)\w*|a(?:it|vait|ura(?:it|)|) +été|e[uû]t +été) +(\w[\w-]+)
    <<- (morph(\2, u">(?:être|sembler|devenir|re(?:ster|devenir)|para[îi]tre) ", False) or \2.endswith(u" été"))
    and (morphex(\3, ":[NAQ].*:p", ":[GWYsi]") or morphex(\3, ":[AQ].*:m", ":[GWYfe]"))
    -3>> =suggFemSing(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au féminin singulier.

__[i]/gv__  (?<![nN][oO][uU][sS] )nous +(?:ne +|n’|)((?:sommes|étions|fûmes|fussions|seri?ons|soyons|sembl|dev|re(?:dev|st)|par)\w*|a(?:vi?ons|uri?ons|yions) +été|e(?:ûme|ussion)s +été) +(\w[\w-]+)
    <<- not re.match(u"(?i)légion$", \2)
    and ((morph(\1, u">(?:être|sembler|devenir|re(?:ster|devenir)|para[îi]tre) ", False) and morph(\1, ":1p", False)) or \1.endswith(u" été"))
    and morphex(\2, ":[NAQ].*:s", ":[GWYpi]")
    -2>> =suggPlur(@)                                                        # Accord avec le sujet « nous » : « \2 » devrait être au pluriel.

__[i]/gv__  (ils|c?eux +qui|ceux-ci|ceux-là|lesquels) +(?:ne +|n’|)((?:sont|étaient|fu[rs]|se[rm]|soient|dev|re(?:dev|st)|par)\w*|ont +été|a(?:ient|vaient|ur(?:ont|aient)) +été|eu(?:r|ss)ent +été) +(\w[\w-]+)
    <<- not re.match(u"(?i)légion$", \3) and (morph(\2, u">(?:être|sembler|devenir|re(?:ster|devenir)|para[îi]tre) ", False) or \2.endswith(u" été"))
    and (morphex(\3, ":[NAQ].*:s", ":[GWYpi]") or morphex(\3, ":[AQ].*:f", ":[GWYme]")) and not before("ce que? +$")
    and (not re.match(u"(?:ceux-(?:ci|là)|lesquels)$", \1) or not morph(word(-1), ":R", False, False))
    -3>> =suggMasPlur(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au masculin pluriel.

__[i]/gv__  (elles|c?elles +qui|celles-(?:ci|là)|lesquelles) +(?:ne +|n’|)((?:sont|étai|fu[rs]|se[rm]|soi|dev|re(?:dev|st)|par)\w*|ont +été|a(?:ient|vaient|ur(?:ont|aient)) +été|eu(?:r|ss)ent +été) +(\w[\w-]+)
    <<- not re.match(u"(?i)légion$", \3) and (morph(\2, u">(?:être|sembler|devenir|re(?:ster|devenir)|para[îi]tre) ", False) or \2.endswith(u" été"))
    and (morphex(\3, ":[NAQ].*:s", ":[GWYpi]") or morphex(\3, ":[AQ].*:m", ":[GWYfe]"))
    and (not re.match(u"(?i)(?:elles|celles-(?:ci|là)|lesquelles)$", \1) or not morph(word(-1), ":R", False, False))
    -3>> =suggFemPlur(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au féminin pluriel.

__[i]/gv__  ({avoir}) +été +(\w[\w-]+)
    <<- morph(\1, u">avoir ", False) and morphex(\2, ":[123]s", ":[GNAQWY]")
    -2>> =suggVerbPpas(@)                                                    # Après « avoir été », il faut un participe passé.


## pouvoir/sembler/paraître/vouloir/devoir/croire/déclarer/penser/dire/affirmer + être/avoir été
__[i]/gv__  (je|j’(?:y|en)) +(?:ne +|)((?:p[aeouûr]|s(?:embl|ouhait)|cr[ouû]|d[eouûéî]|estim|imagin|v[eo]u|a(?:ffirm|im|dor))\w+) +(?:être|avoir été) +(\w[\w-]+)
    <<- morph(\2, u">(?:sembler|para[îi]tre|pouvoir|penser|préférer|croire|d(?:evoir|éclarer|ésirer|étester|ire)|vouloir|affirmer|aimer|adorer|souhaiter|estimer|imaginer) ", False) and morphex(\3, ":[NAQ].*:p", ":[MWYsi]")
    -3>> =suggSing(@)                                                        # Accord avec le sujet « je » : « \3 » devrait être au singulier.

__[i]/gv__  tu +(?:ne +|)((?:p[aeouûr]|s(?:embl|ouhait)|cr[ouû]|d[eouûéî]|estim|imagin|v[eo]u|a(?:ffirm|im|dor))\w+) +(?:être|avoir été) +(\w[\w-]+)
    <<- morph(\1, u">(?:sembler|para[îi]tre|pouvoir|penser|préférer|croire|d(?:evoir|éclarer|ésirer|étester|ire)|vouloir|affirmer|aimer|adorer|souhaiter|estimer|imaginer) ", False) and morphex(\2, ":[NAQ].*:p", ":[MWYsi]")
    -2>> =suggSing(@)                                                        # Accord avec le sujet « tu » : « \2 » devrait être au singulier.

__[i]/gv__  (il|ce|ce qui|celui +qui|ça +qui|lui +qui|celui-(?:ci|là) +qui|quiconque) +(?:ne +|)((?:p[aeouûr]|s(?:embl|ouhait)|cr[ouû]|d[eouûéî]|estim|imagin|v[eo]u|a(?:ffirm|im|dor))\w+) +(?:être|avoir été) +(\w[\w-]+)
    <<- morph(\2, u">(?:sembler|para[îi]tre|pouvoir|penser|préférer|croire|d(?:evoir|éclarer|ésirer|étester|ire)|vouloir|affirmer|aimer|adorer|souhaiter|estimer|imaginer) ", False)
    and (morphex(\3, ":[NAQ].*:p", ":[GWYsi]") or morphex(\3, ":[AQ].*:f", ":[GWYme]"))
    -3>> =suggMasSing(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au masculin singulier.

__[i]/gv__  (ça|ce(?:la|ci)|celui-(?:ci|là)|lequel) +(?:ne +|)((?:p[aeouûr]|s(?:embl|ouhait)|cr[ouû]|d[eouûéî]|estim|imagin|v[eo]u|a(?:ffirm|im|dor))\w+) +(?:être|avoir été) +(\w[\w-]+)
    <<- morph(\2, u">(?:sembler|para[îi]tre|pouvoir|penser|préférer|croire|d(?:evoir|éclarer|ésirer|étester|ire)|vouloir|affirmer|aimer|adorer|souhaiter|estimer|imaginer) ", False)
    and (morphex(\3, ":[NAQ].*:p", ":[MWYsi]") or morphex(\3, ":[AQ].*:f", ":[GWYme]"))
    and not morph(word(-1), ":R", False, False)
    -3>> =suggMasSing(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au masculin singulier.

__[i]/gv__  (elle|celle-(?:ci|là)|laquelle) +(?:ne +|)((?:p[aeouûr]|s(?:embl|ouhait)|cr[ouû]|d[eouûéî]|estim|imagin|v[eo]u|a(?:ffirm|im|dor))\w+) +(?:être|avoir été) +(\w[\w-]+)
    <<- morph(\2, u">(?:sembler|para[îi]tre|pouvoir|penser|préférer|croire|d(?:evoir|éclarer|ésirer|étester|ire)|vouloir|affirmer|aimer|adorer|souhaiter|estimer|imaginer) ", False)
    and (morphex(\3, ":[NAQ].*:p", ":[MWYsi]") or morphex(\3, ":[AQ].*:m", ":[GWYfe]"))
    and not morph(word(-1), ":R", False, False)
    -3>> =suggFemSing(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au féminin singulier.

__[i]/gv__  (c?elle +qui) +(?:ne +|)((?:p[aeouûr]|s(?:embl|ouhait)|cr[ouû]|d[eouûéî]|estim|imagin|v[eo]u|a(?:ffirm|im|dor))\w+) +(?:être|avoir été) +(\w[\w-]+)
    <<- morph(\2, u">(?:sembler|para[îi]tre|pouvoir|penser|préférer|croire|d(?:evoir|éclarer|ésirer|étester|ire)|vouloir|affirmer|aimer|adorer|souhaiter|estimer|imaginer) ", False)
    and (morphex(\3, ":[NAQ].*:p", ":[MWYsi]") or morphex(\3, ":[AQ].*:m", ":[GWYfe]"))
    -3>> =suggFemSing(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au féminin singulier.

__[i]/gv__  (?<![nN][oO][uU][sS] )nous +(?:ne +|)((?:p[aeouûr]|s(?:embl|ouhait)|cr[ouû]|d[eouûéî]|estim|imagin|v[eo]u|a(?:ffirm|im|dor))\w+) +(?:être|avoir été) +(\w[\w-]+)
    <<- not re.match(u"(?i)légion$", \2) and morph(\1, u">(?:sembler|para[îi]tre|pouvoir|penser|préférer|croire|d(?:evoir|éclarer|ésirer|étester|ire)|vouloir|affirmer|aimer|adorer|souhaiter|estimer|imaginer) ", False) and morph(\1, ":1p", False)
    and morphex(\2, ":[NAQ].*:s", ":[GWYpi]")
    -2>> =suggPlur(@)                                                        # Accord avec le sujet « nous » : « \2 » devrait être au pluriel.

__[i]/gv__  (ils|c?eux +qui|ceux-(?:ci|là)|lesquels) +(?:ne +|)((?:p[aeouûr]|s(?:embl|ouhait)|cr[ouû]|d[eouûéî]|estim|imagin|v[eo]u|a(?:ffirm|im|dor))\w+) +(?:être|avoir été) +(\w[\w-]+)
    <<- not re.match(u"(?i)légion$", \3) and morph(\2, u">(?:sembler|para[îi]tre|pouvoir|penser|préférer|croire|d(?:evoir|éclarer|ésirer|étester|ire)|vouloir|affirmer|aimer|adorer|souhaiter|estimer|imaginer) ", False)
    and (morphex(\3, ":[NAQ].*:s", ":[GWYpi]") or morphex(\3, ":[AQ].*:f", ":[GWYme]"))
    and (not re.match(u"(?:ceux-(?:ci|là)|lesquels)$", \1) or not morph(word(-1), ":R", False, False))
    -3>> =suggMasPlur(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au masculin pluriel.

__[i]/gv__  (elles|c?elles +qui|celles-(?:ci|là)|lesquelles) +(?:ne +|)((?:p[aeouûr]|s(?:embl|ouhait)|cr[ouû]|d[eouûéî]|estim|imagin|v[eo]u|a(?:ffirm|im|dor))\w+) +(?:être|avoir été) +(\w[\w-]+)
    <<- not re.match(u"(?i)légion$", \3) and morph(\2, u">(?:sembler|para[îi]tre|pouvoir|penser|préférer|croire|d(?:evoir|éclarer|ésirer|étester|ire)|vouloir|affirmer|aimer|adorer|souhaiter|estimer|imaginer) ", False)
    and (morphex(\3, ":[NAQ].*:s", ":[GWYpi]") or morphex(\3, ":[AQ].*:m", ":[GWYfe]"))
    and (not re.match(u"(?:elles|celles-(?:ci|là)|lesquelles)$", \1) or not morph(word(-1), ":R", False, False))
    -3>> =suggFemPlur(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au féminin pluriel.


## Contrôle de l’accord en nombre avec la conjugaison de « être »
__[i]/gv__  (\w[\w-]+) +(?:qui +|)(?:ne +|n’|)(?:est|était|f[uû]t|sera(?:it|)|a(?:vait|ura|urait|it|) +été|e[uû]t +été) +(\w[\w-]+)
    <<- morphex(\2, ":[NAQ].*:p", ":[GMWYsi]") and not morph(\1, ":G", False)
    -2>> =suggSing(@)                                                        # Accord avec « être » : « \2 » devrait être au singulier.

__[i]/gv__  (\w[\w-]+) +(?:qui +|)(?:ne +|n’|)(?:sont|étaient|fu(?:r|ss)ent|ser(?:ont|aient)|soient|ont +été|a(?:vaient|uront|uraient|ient) +été|eu(?:r|ss)ent +été) +(\w[\w-]+)
    <<- not re.match("(?i)légion$", \2) and morphex(\2, ":[NAQ].*:s", ":[GWYpi]") and not morph(\1, ":G", False)
    -2>> =suggPlur(@)                                                        # Accord avec « être » : « \2 » devrait être au pluriel.

## Contrôle de l’accord en genre avec le substantif précédent
__[i]/gv__  (?<![dD]’)(une? |les? |la |l’|ce(?:s|t|tte|) |[mts](?:on|a|es) |[nv]os |leurs? ) *(\w[\w-]+) +(?:qui +|)(?:ne +|n’|)(?:est|étai(?:en|)t|f[uû]t|sera(?:i(?:en|)t|)|soi(?:en|)t|s(?:er|)ont|fu(?:r|ss)ent) +(\w[\w-]+)
    <<- not re.match(u"(?i)légion$", \3)
    and ((morphex(\3, ":[AQ].*:f", ":[GWme]") and morphex(\2, ":m", ":[Gfe]")) or (morphex(\3, ":[AQ].*:m", ":[GWfe]") and morphex(\2, ":f", ":[Gme]")))
    and not ( morph(\3, ":p", False) and morph(\2, ":s", False) )
    and not morph(word(-1), ":(?:R|P|Q|Y|[123][sp])", False, False) and not before(r"\b(?:et|ou|de) +$")
    -3>> =switchGender(@)                                                   # Accord erroné : « \2 » et « \3 » ne sont pas accordés en genre.

__[s]/gv__  (?<![dD]’)([A-ZÉÈ]\w[\w-]+) +(?:qui +|)(?:ne +|n’|)(?:est|étai(?:en|)t|f[uû]t|sera(?:i(?:en|)t|)|soi(?:en|)t|s(?:er|)ont|fu(?:r|ss)ent|a(?:vait|ura|urait|it|) +été|e[uû]t +été) +(\w[\w-]+)
    <<- not re.match(u"(?i)légion$", \2)
    and ((morphex(\1, ":M[1P].*:f", ":[GWme]") and morphex(\2, ":m", ":[GWfe]")) or (morphex(\1, ":M[1P].*:m", ":[GWfe]") and morphex(\2, ":f", ":[GWme]")))
    and not morph(word(-1), ":(?:R|P|Q|Y|[123][sp])", False, False) and not before(r"\b(?:et|ou|de) +$")
    -2>> =switchGender(@)                                                   # Accord erroné : « \1 » et « \2 » ne sont pas accordés en genre.

## accords avec l’adjectif précédant le pronom

__[i]/gv__  ^ *(\w[\w-]+s),? (je?|tu)
    <<- morphex(\1, ":A.*:p", ":(?:G|E|M1|s|i)")
    -1>> =suggSing(@)                               # Si cet adjectif se réfère au pronom « \2 », l’adjectif devrait être au singulier (et accordé en genre).

__[i]/gv__  ^ *(\w[\w-]+[es]),? il
    <<- morphex(\1, ":A.*:[fp]", ":(?:G|E|M1|m:[si])")
    -1>> =suggMasSing(@)                            # Si cet adjectif se réfère au pronom « il », l’adjectif devrait être au masculin singulier.

__[i]/gv__  ^ *(\w[\w-]+[éuits]),? elle
    <<- morphex(\1, ":A.*:[mp]", ":(?:G|E|M1|f:[si])")
    -1>> =suggFemSing(@)                            # Si cet adjectif se réfère au pronom « elle », l’adjectif devrait être au féminin singulier.

__[i]/gv__  ^ *(\w[\w-]+[eiuéts]),? ils
    <<- morphex(\1, ":A.*:[fs]", ":(?:G|E|M1|m:[pi])")
    -1>> =suggMasPlur(@)                            # Si cet adjectif se réfère au pronom « ils », l’adjectif devrait être au masculin pluriel.

__[i]/gv__  ^ *(\w[\w-]+[eiuéts]),? elles
    <<- morphex(\1, ":A.*:[ms]", ":(?:G|E|M1|f:[pi])")
    -1>> =suggFemPlur(@)                            # Si cet adjectif se réfère au pronom « elles », l’adjectif devrait être au féminin pluriel.


## se rendre compte
__[i]/gv__  ({etre}) +(rendu(?:s|es?)) compte
    <<- morph(\1, "V0e", False) -2>> rendu          # Accord erroné : dans l’expression « se rendre compte », « rendu » est invariable. 

## Inversion verbe/sujet
__[i]/gv__  (?:s[ou]is|étais|fus|fussé|serais?)-je +(\w[\w-]+)
    <<- morphex(\1, ":(?:[123][sp]|Y|[NAQ].*:p)", ":[GWsi]")
    -1>> =suggSing(@)                                                        # Accord avec le sujet « je » : « \1 » devrait être au singulier.
__[i]/gv__  (?:es|étais|fus|fusses|serai?s)-tu +(\w[\w-]+)
    <<- morphex(\1, ":(?:[123][sp]|Y|[NAQ].*:p)", ":[GWsi]")
    -1>> =suggSing(@)                                                        # Accord avec le sujet « tu » : « \1 » devrait être au singulier.
__[i]/gv__  (?:est|était|f[uû]t|sera-t|serait)-(?:[iI]l|ce) +(\w[\w-]+)
    <<- (morphex(\1, ":(?:[123][sp]|Y|[NAQ].*:p)", ":[GWsi]") or morphex(\1, ":(?:[123][sp]|[AQ].*:f)", ":[GWme]"))
    -1>> =suggMasSing(@)                                                     # Accord avec le sujet « il » : « \1 » devrait être au masculin singulier.
__[i]/gv__  (?:est|était|f[uû]t|sera-t|serait)-elle +(\w[\w-]+)
    <<- (morphex(\1, ":(?:[123][sp]|Y|[NAQ].*:p)", ":[GWsi]") or morphex(\1, ":(?:[123][sp]|[AQ].*:m)", ":[GWfe]"))
    -1>> =suggFemSing(@)                                                     # Accord avec le sujet « elle » : « \1 » devrait être au féminin singulier.
__[i]/gv__  (?:sommes|étions|fûmes|fussions|seri?ons)-nous +(\w[\w-]+)
    <<- morphex(\1, ":(?:[123][sp]|Y|[NAQ].*:s)", ":[GWpi]")
    -1>> =suggPlur(@)                                                        # Accord avec le sujet « nous » : « \1 » devrait être au pluriel.
__[i]/gv__  (?:sont|étaient|furent|fussent|seront|seraient)-ils +(\w[\w-]+)
    <<- not re.match(u"(?i)légion$", \1) and (morphex(\1, ":(?:[123][sp]|Y|[NAQ].*:s)", ":[GWpi]") or morphex(\1, ":(?:[123][sp]|[AQ].*:f)", ":[GWme]"))
    -1>> =suggMasPlur(@)                                                     # Accord avec « ils » : « \1 » devrait être au masculin pluriel.
__[i]/gv__  (?:sont|étaient|furent|fussent|seront|seraient)-elles +(\w[\w-]+)
    <<- not re.match(u"(?i)légion$", \1) and (morphex(\1, ":(?:[123][sp]|Y|[NAQ].*:s)", ":[GWpi]") or morphex(\1, ":(?:[123][sp]|[AQ].*:m)", ":[GWfe]"))
    -1>> =suggFemPlur(@)                                                     # Accord avec « elles » : « \1 » devrait être au féminin pluriel.

## Accord et incohérences 
__[i]/gv__  sont (\w[\w-]+)
    <<- morphex(\1, ":[NAQ]", ":[QWGBMpi]") and not re.match(u"(?i)(?:légion|nombre|cause)$", \1) and not before(r"(?i)\bce que?\b")
    -1>> =suggPlur(@)               # Incohérence : « \1 » est au singulier. Ou vous confondez « sont » et « son », ou l’accord en nombre est incorrect.
    <<- morphex(\1, ":V", ":(?:N|A|Q|W|G|3p)") and not before(r"(?i)\bce que?\b")
    -1>> =suggVerbPpas(\1, ":m:p")  # Incohérence : « \1 » n’est pas un participe passé.

#TODO: ont été +PPAS sg


#### SE CROIRE/CONSIDÉRER/MONTRER/PENSER/RÉVÉLER/SAVOIR/SENTIR/VOIR/VOULOIR + PARTICIPE PASSÉ/ADJ

__[i]/gv__  je +(?:ne +|)me +((?:s|c(?:r|onsid)|montr|pens|rév|v)\w+) +(\w[\w-]+)
    <<- morph(\1, u">(?:croire|considérer|montrer|penser|révéler|savoir|sentir|voir|vouloir) ", False) and morphex(\2, ":[NAQ].*:p", ":[GWsi]")
    -2>> =suggSing(@)                                                        # Accord avec le sujet « je » : « \2 » devrait être au singulier.

__[i]/gv__  tu +(?:ne +|)te +((?:s|c(?:r|onsid)|montr|pens|rév|v)\w+) +(\w[\w-]+)
    <<- morph(\1, u">(?:croire|considérer|montrer|penser|révéler|savoir|sentir|voir|vouloir) ", False) and morphex(\2, ":[NAQ].*:p", ":[GWsi]")
    -2>> =suggSing(@)                                                        # Accord avec le sujet « je » : « \2 » devrait être au singulier.

__[i]/gv__  (il|ce|ce qui|celui +qui|ça +qui|lui +qui|celui-(?:ci|là)|quiconque|lequel) +(?:ne +|)se +((?:s|c(?:r|onsid)|montr|pens|rév|v)\w+) +(\w[\w-]+)
    <<- morph(\2, u">(?:croire|considérer|montrer|penser|révéler|savoir|sentir|voir|vouloir) ", False)
    and (morphex(\3, ":[NAQ].*:p", ":[GWsi]") or morphex(\3, ":[NAQ].*:f", ":[GWme]"))
    and (not re.match(u"(?:celui-(?:ci|là)|lequel)$", \1) or not morph(word(-1), ":R", False, False))
    -3>> =suggMasSing(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au masculin singulier.

__[i]/gv__  (elle|celle-(?:ci|là)|laquelle) +(?:ne +|)se +((?:s|c(?:r|onsid)|montr|pens|rév|v)\w+) +(\w[\w-]+)
    <<- morph(\2, u">(?:croire|considérer|montrer|penser|révéler|savoir|sentir|voir|vouloir) ", False)
    and (morphex(\3, ":[NAQ].*:p", ":[GWsi]") or morphex(\3, ":[NAQ].*:m", ":[GWfe]"))
    and not morph(word(-1), ":R", False, False)
    -3>> =suggFemSing(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au féminin singulier.

__[i]/gv__  (c?elle +qui) +(?:ne +|)se +((?:s|c(?:r|onsid)|montr|pens|rév|v)\w+) +(\w[\w-]+)
    <<- morph(\2, u">(?:croire|considérer|montrer|penser|révéler|savoir|sentir|voir|vouloir) ", False)
    and (morphex(\3, ":[NAQ].*:p", ":[GWsi]") or morphex(\3, ":[NAQ].*:m", ":[GWfe]"))
    -3>> =suggFemSing(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au féminin singulier.

__[i]/gv__  nous +(?:ne +|)nous +((?:s|c(?:r|onsid)|montr|pens|rév|v)\w+) +(\w[\w-]+)
    <<- morph(\1, u">(?:croire|considérer|montrer|penser|révéler|savoir|sentir|voir|vouloir) ", False) and morphex(\2, ":[NAQ].*:s", ":[GWpi]")
    -2>> =suggPlur(@)                                                        # Accord avec le sujet « nous » : « \2 » devrait être au pluriel.

__[i]/gv__  (ils|c?eux +qui|ceux-ci|ceux-là|lesquels) +(?:ne +|)se +((?:s|c(?:r|onsid)|montr|pens|rév|v)\w+) +(\w[\w-]+)
    <<- morph(\2, u">(?:croire|considérer|montrer|penser|révéler|savoir|sentir|voir|vouloir) ", False)
    and (morphex(\3, ":[NAQ].*:s", ":[GWpi]") or morphex(\3, ":[NAQ].*:f", ":[GWme]"))
    and (not re.match(u"(?:ceux-(?:ci|là)|lesquels)$", \1) or not morph(word(-1), ":R", False, False))
    -3>> =suggMasPlur(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au masculin pluriel.

__[i]/gv__  (elles|c?elles +qui|celles-(?:ci|là)|lesquelles) +(?:ne +|)se +((?:s|c(?:r|onsid)|montr|pens|rév|v)\w+) +(\w[\w-]+)
    <<- morph(\2, u">(?:croire|considérer|montrer|penser|révéler|savoir|sentir|voir|vouloir) ", False)
    and (morphex(\3, ":[NAQ].*:s", ":[GWpi]") or morphex(\3, ":[NAQ].*:m", ":[GWfe]"))
    and (not re.match(u"(?:elles|celles-(?:ci|là)|lesquelles)$", \1) or not morph(word(-1), ":R", False, False))
    -3>> =suggFemPlur(@)                                                     # Accord avec le sujet « \1 » : « \3 » devrait être au féminin pluriel.


#### AVOIR + PARTICIPES PASSÉS

#__[i]/gv__  fait(s|e|es) (\w+) <<- morph(\2, ":V") and not morph(\2, ":Y")
#   ->> fait \1                      # Le participe passé de faire reste au masculin singulier s’il est suivi par un verbe à l’infinitif.

__[i]/gv__  ^ *(j’|je |tu |ils? |elles? |[nv]ous |on |et )(?:ne +|n’|l(?:ui|eur) +|)({avoir}) +(\w[\w-]+)
    <<- not re.match(u"(?i)(?:confiance|cours|envie|peine|prise|crainte|cure|affaire|hâte|force|recours)$", \3)
    and morph(\2, ":V0a", False) and morphex(\3, ":(?:[123][sp]|Q.*:[fp])", ":(?:G|W|Q.*:m:[si])")
    -3>> =suggMasSing(@)
    # Ce verbe devrait être un participe passé au masculin singulier.|http://fr.wikipedia.org/wiki/Accord_du_participe_pass%C3%A9_en_fran%C3%A7ais

__[i]/gv__  ^ *(l(?:’|es? |a |eurs )|ce(?:s|tte|t|rtaine?s|) |des |quelques |[mts](?:es|on) |[nv]o(?:s|tre) ) *(\w[\w-]+) +(?:ne +|n’|l(?:ui|eur) +|)({avoir}) +(\w[\w-]+)
    <<- not re.match(u"(?i)(?:confiance|cours|envie|peine|prise|crainte|cure|affaire|hâte|force|recours)$", \4)
    and morph(\3, ":V0a", False) and morphex(\4, ":(?:[123][sp]|Q.*:[fp])", ":(?:G|W|Q.*:m:[si])")
    -4>> =suggMasSing(@)
    # Ce verbe devrait être un participe passé au masculin singulier.|http://fr.wikipedia.org/wiki/Accord_du_participe_pass%C3%A9_en_fran%C3%A7ais

__[i]/gv__  les +({avoir}) +(\w[\w-]*(?:[éiut]e?|is|se))
    <<- morph(\1, ":V0a", False) and morphex(\2, ":V[0-3]..t.*:Q.*:s", ":[GWpi]") and not morph(word(1), ":V", False)
    -2>> =suggPlur(@)
    # Accord avec le COD “les” : Le participe passé « \2 » devrait être au pluriel (et accordé en genre).|http://fr.wikipedia.org/wiki/Accord_du_participe_pass%C3%A9_en_fran%C3%A7ais

__[i]/gv__  (je|tu|ils?||elles?|on|[nv]ous) (nous) +({avoir}) +(\w[\w-]*(?:[éiut]e?|is|se)) *$
    <<- morph(\2, ":V0a", False) and morphex(\3, ":V[0-3]..t_.*:Q.*:s", ":[GWpi]") and not before(r"\bque?\b")
    -3>> =suggPlur(@)
    # Accord avec le COD “nous” : Le participe passé « \3 » devrait être au pluriel (et accordé en genre).|http://fr.wikipedia.org/wiki/Accord_du_participe_pass%C3%A9_en_fran%C3%A7ais

__[i]/gv__  l’({avoir}) +(\w[\w-]*s)
    <<- morph(\1, ":V0a", False) and morphex(\2, ":V[0-3]..t.*:Q.*:p", ":[GWsi]") and not morph(word(1), ":V", False)
    -2>> =\2[:-1]
    # Accord avec le COD « l’ » : Le participe passé « \2 » devrait être au singulier (et accordé en genre).|http://fr.wikipedia.org/wiki/Accord_du_participe_pass%C3%A9_en_fran%C3%A7ais

__[i]/gv__  ([mt])’({avoir}) +(\w[\w-]*s)
    <<- morph(\2, ":V0a", False) and morphex(\3, ":V[0-3]..t_.*:Q.*:p", ":[GWsi]") and not before(r"\bque?\b") and not morph(word(1), ":V", False)
    -3>> =\3[:-1]
    # Accord avec « \1’ ». Le participe passé « \3 » devrait être au singulier (et accordé en genre).|http://fr.wikipedia.org/wiki/Accord_du_participe_pass%C3%A9_en_fran%C3%A7ais

__[i]/gv__  qui +(?:n’|l(?:ui|eur) |ne l(?:ui|eur) |)(?:a(?:i|v(?:ai(?:[ts]|ent)|ons|ions|ez|iez)|ur(?:on[ts]|ai?[st]?|aient)|s?)|e[uû]t|ont) +(\w[\w-]+[es])
    <<- morphex(\1, ":Q.*:(?:f|m:p)", ":m:[si]")
    -1>> =suggMasSing(@)
    # Le participe passé devrait être au masculin singulier.|http://fr.wikipedia.org/wiki/Accord_du_participe_pass%C3%A9_en_fran%C3%A7ais

__[i]/gv__  avoir +(\w[\w-]+)
    <<- not re.match(u"(?i)(?:confiance|cours|envie|peine|prise|crainte|cure|affaire|hâte|force|recours)$", \1)
    and morphex(\1, ":Q.*:(?:f|m:p)", ":m:[si]") and before(u"(?i)(?:après +$|sans +$|pour +$|que? +$|quand +$|, +$|^ *$)")
    -1>> =suggMasSing(@)
    # Le participe passé devrait être au masculin singulier.|http://fr.wikipedia.org/wiki/Accord_du_participe_pass%C3%A9_en_fran%C3%A7ais

## COD avant que

__[i]/gv__  ([ldmtsc]es) +(\w[\w-]+) +que? +(?:j’|tu |ils? |[nv]ous |elles? |on ) *(?:ne +|n’|)({avoir}) +(\w[\w-]+[éiust]e?)(?! [mts]’)
    <<- morph(\3, ":V0a", False)
    and not (re.match(u"(?:décidé|essayé|tenté)$", \4) and after(u" +d(?:e |’)"))
    and morph(\2, ":[NAQ]", False) and morphex(\4, ":V[0-3]..t.*:Q.*:s", ":[GWpi]")
    and not morph(word(1), ":(?:Y|Oo)", False)
    -4>> =suggPlur(@, \2)
    # Si « \1 \2… » est bien le COD du participe passé « \4 », celui-ci devrait être au pluriel (et accordé en genre).|http://fr.wikipedia.org/wiki/Accord_du_participe_pass%C3%A9_en_fran%C3%A7ais

__[i]/gv__  (le |l’|cet? |[mts]on |un ) *(\w[\w-]+) +que? +(?:j’|tu |ils? |[nv]ous |elles? |on ) *(?:ne +|n’|)({avoir}) +(\w[\w-]+[es])
    <<- morph(\3, ":V0a", False)
    and morph(\2, ":[NAQ].*:m", False)
    and (morphex(\4, ":V[0-3]..t.*:Q.*:f", ":[GWme]") or morphex(\4, ":V[0-3]..t.*:Q.*:p", ":[GWsi]"))
    -4>> =suggMasSing(@)
    # Si « \1 \2… » est bien le COD du participe passé « \4 », celui-ci devrait être au masculin singulier.|http://fr.wikipedia.org/wiki/Accord_du_participe_pass%C3%A9_en_fran%C3%A7ais

__[i]/gv__  (la |l’|cette |[mts]a |mon |une ) *(\w[\w-]+) +que? +(?:j’|tu |ils? |[nv]ous |elles? |on ) *(?:ne +|n’|)({avoir}) +(\w[\w-]+[éiust])(?! [mts]’)
    <<- morph(\3, ":V0a", False)
    and not (re.match(u"(?:décidé|essayé|tenté)$", \4) and after(u" +d(?:e |’)"))
    and morph(\2, ":[NAQ].*:f", False)
    and (morphex(\4, ":V[0-3]..t.*:Q.*:m", ":[GWfe]") or morphex(\4, ":V[0-3]..t.*:Q.*:p", ":[GWsi]"))
    and not morph(word(1), ":(?:Y|Oo)|>que?", False)
    -4>> =suggFemSing(@)
    # Si « \1 \2… » est bien le COD du participe passé « \4 », celui-ci devrait être au féminin singulier.|http://fr.wikipedia.org/wiki/Accord_du_participe_pass%C3%A9_en_fran%C3%A7ais

__[i]/gv__  ce +que? +(?:j’|tu |ils? |[nv]ous |elles? |on ) *(?:ne +|n’|)({avoir}) +(\w[\w-]+[es])
    <<- morph(\1, ":V0a", False)
    and (morphex(\2, ":V[0-3]..t.*:Q.*:f", ":[GWme]") or morphex(\2, ":V[0-3]..t.*:Q.*:p", ":[GWsi]"))
    -2>> =suggMasSing(@)
    # Le participe passé devrait être au masculin singulier.|http://fr.wikipedia.org/wiki/Accord_du_participe_pass%C3%A9_en_fran%C3%A7ais

__[i]/gv__  ({avoir}) +(\w[\w-]+e[rz])
    <<- not re.match("(?:A|avions)$", \1) and morph(\1, ":V0a", False) and morph(\2, ":V(?!.*:Q)")
    -2>> =suggVerbPpas(\2, ":m:s")                                                                      # Incohérence : « \2 » n’est pas un participe passé.

## du / dû
__[i]/gv__  ({avoir}) +(due?s?) +(\w[\w-]+)
    <<- morph(\1, ":V0a", False) and (morph(\3, ":Y") or re.match("(?:[mtsn]e|[nv]ous|leur|lui)$", \3))
    -2>> dû                                                                                             # Participe passé de devoir : « dû ».

__[i]/gv__  (du) +(?:à|a|aux?) <<- -1>> dû                                                              # Confusion. Ce qui est dû.
__[i]/gv__  (?:mon|notre|votre) (du) <<- -1>> dû                                                        # Confusion. Ce qui est dû.
__[i]/gv__  [ts]on (du) <<- not morph(word(1), ":[NAQ].*:m", False) -1>> dû                             # Confusion. Ce qui est dû.

__[i]/gv__  qui +(?:ne +|)(?:[mt](?:’|e +)|l(?:eur|ui) +|[nv]ous +)([eésf]\w+) (du)
    <<- morph(\1, ":V0e", False) -2>> dû                                                                # Confusion. Ce qui est dû.

# formes interrogatives
__[i]/gv__  (?<![ltm]’)({avoir})[- ](?:je|tu|(?:t-|)ils?|elles?|[nv]ous) +(\w\w+)
    <<- morph(\1, ":V0a", False) and morphex(\2, ":(?:Y|2p|Q.*:[fp])", ":m:[si]") and \2 != "prise"
    and not morph(word(-1), ">(?:les|[nv]ous|en)|:[NAQ].*:[fp]", False) and not before(r"(?i)\bquel(?:le|)s?\b")
    -2>> =suggMasSing(@)
    # Avec « avoir », il faut un participe passé au masculin singulier.

__[i]/gv__  ([ltm]’)({avoir})[- ](?:je|tu|(?:t-|)ils?|elles?|[nv]ous) +(\w\w+s)
    <<- morph(\2, ":V0a", False) and morphex(\3, ":(?:Y|2p|Q.*:p)", ":[si]") 
    -3>> =suggMasSing(@)
    # Accord avec le COD « \1 » : e participe passé « \2 » devrait être au singulier (et accordé en genre).

__[i]/gv__  les +({avoir})-(?:je|tu|ils?|elles?|-t-(?:ils?|elles?)|[nv]ous) +(\w[\w-]*(?:[éiut]e?|is|se))
    <<- morph(\1, ":V0a", False) and morphex(\2, ":V[123]..t.* :Q.*:s", ":[GWpi]")
    -2>> =suggPlur(@)
    # Accord avec le COD “les” : le participe passé « \2 » devrait être au pluriel (et accordé en genre).

## 1pl
__[i]/gv__  ^ *nous +(\w\w+)
    <<- morphex(\1, ":V", ":(?:G|Y|1p|3[sp])") and not after("^ +(?:je|tu|ils?|elles?|on|[vn]ous) ")
    -1>> =suggVerb(@, ":1p")
    # Conjugaison erronée. Accord avec « nous ». Le verbe devrait être à la 1ʳᵉ personne du pluriel.

## 2pl
__[i]/gv__  ^ *vous +(\w\w+)
    <<- morphex(\1, ":V", ":(?:G|Y|2p|3[sp])") and not after("^ +(?:je|ils?|elles?|on|[vn]ous) ")
    -1>> =suggVerb(@, ":2p")
    # Conjugaison erronée. Accord avec « vous ». Le verbe devrait être à la 2ᵉ personne du pluriel.



####################################################################################################
####################################################################################################
## NOUVELLE PASSE
####################################################################################################
####################################################################################################


#
# //////////////////////////////////////// PRÉPROCESSEUR ////////////////////////////////////////
#


__<i>__  n(’)importe quo?i <<- ~1>> `
__<i]__  ^ *ne l(?:es?|a) l(?:ui|eur) <<- ~>> >
__<i]__  ^ *ne (?:[mt]’|l(?:ui|eur) )en <<- ~>> >
__<i]__  ^ *ne (?:[mt]e|[nv]ous) (?:les?|la|en) <<- ~>> >
__<i]__  ^ *ne +(?:en|l(?:es?|a|’(?:en|y))|[mt](?:e|’(?:en|y))|[nv]ous) <<- ~>> >
__<i>__  ^ *n’(?:en |y |) <<- ~>> >
__<i>__  ^ *ne (?:l’|) <<- ~>> >


#
# //////////////////////////////////////// RÈGLES DE CONTRÔLE ////////////////////////////////////////
#


#### CONFUSIONS

# ou / où
__[i]/conf__  ^ *(l(?:es?|a)|[nv]o(?:s|tre)|ce(?:t|tte|s|)|[mts](?:es|on|a)|des) +(\w[\w-]+) +(ou) +(?:je|tu|ils?|elles? +> +\w+|[nv]ous +> +\w+)
    <<- morphex(\2, ":[NAQ]", ":G")
    -3>> où                                                                   # Confusion probable.|http://fr.wiktionary.org/wiki/o%C3%B9


#### IMPÉRATIF !

# verbes du 1er et du 3ᵉ groupe en -e
__[i]/imp__  ^ *((\w+e)s)(?![- ](je|tu|[nv]ous|ils?|elles?|t-ils?|t-elles?))
    <<- morphex(\1, ":V[13].*:Ip.*:2s", ":[GNA]")
    -1>> \2                                                                   # S’il s’agit d’un impératif, pas de “s”.
__[i]/imp__  ^ *> +((\w+e)s)(?![- ](je|tu|[nv]ous|ils?|elles?|t-ils?|t-elles?))
    <<- morphex(\1, ":V[13].*:Ip.*:2s", ":G")
    -1>> \2                                                                   # S’il s’agit d’un impératif, pas de “s”.

__<i>/imp__  ^ *(allés?), <<- -1>> allez                                      # S’il s’agit d’un impératif, écrivez :
__<i>/imp__  ^ *(allés?) (\w[\w-]+) <<- morph(\2, ":[MOs]") -1>> allez        # S’il s’agit d’un impératif, écrivez :

# verbes du 2ᵉ et du 3ᵉ groupe en -t
__[i]/imp__  ^ *((\w+)t)(?![- ](je|tu|[nv]ous|ils?|elles?|on|t-ils?|t-elles?))
    <<- morphex(\1, ":V[23].*:Ip.*:3s", ":[GNA]") and analyse(\2+"s", ":E:2s", False) and not re.match("(?i)doit", \1)
    and not (re.match("(?i)vient$", \1) and after(" +l[ea]"))
    -1>> \2s                                                                  # S’il s’agit d’un impératif, la terminaison est “is”, non “it”.
__[i]/imp__  ^ *> +((\w+)t)(?![- ](je|tu|[nv]ous|ils?|elles?|on|t-ils?|t-elles?))
    <<- morphex(\1, ":V[23].*:Ip.*:3s", ":G") and analyse(\2+"s", ":E:2s", False)
    -1>> \2s                                                                  # S’il s’agit d’un impératif, la terminaison est “is”, non “it”.

# verbes du 3ᵉ groupe en -d
__[i]/imp__  ^ *(\w+d)(?![- ](je|tu|[nv]ous|ils?|elles?|on|t-ils?|t-elles?))
    <<- morphex(\1, ":V3.*:Ip.*:3s", ":[GNA]")
    -1>> \1s                                                                  # S’il s’agit d’un impératif, ajoutez un “s”.
__[i]/imp__  ^ *> +(\w+d)(?![- ](je|tu|[nv]ous|ils?|elles?|on|t-ils?|t-elles?))
    <<- morphex(\1, ":V3.*:Ip.*:3s", ":G")
    -1>> \1s                                                                  # S’il s’agit d’un impératif, ajoutez un “s”.


# aller
__[i]/imp__  ^[ >]*(vas)(?![- ](je|tu|[nv]ous|ils?|elles?|t-ils?|t-elles?))
    <<- -1>> va                                                               # S’il s’agit d’un impératif, pas de “s”.

# être
__[i]/imp__  ^ *(soit) +(\w[\w-]+)
    <<- morphex(\2, ":A", ":G") and not after(r"\bsoit\b")
    -1>> sois                                                                 # S’il s’agit d’un impératif, écrivez « sois ».
__[i]/imp__  ^ *> +(soit)
    <<- -1>> sois                                                             # S’il s’agit d’un impératif, écrivez « sois ».

# avoir
__[i]/imp__  ^[ >]*(ait?|aies)
    <<- -1>> aie                                                              # S’il s’agit d’un impératif, écrivez « aie ».

# Contrôle
__[i]/imp__  (\w\w+)-(?:[mt]oi|lui|les|l[ea]|leur|[mt]’en)
    <<- not morph(\1, ":E|>chez", False) and spell(\1)
    -1>> _
    # Erreur : ceci n’est pas une forme impérative.|http://fr.wikipedia.org/wiki/Imp%C3%A9ratif_%28grammaire%29

## Traits d’union manquants
__[i]/imp__  (?<![’~])(\w[\w-]+) ([mt]oi)
    <<- morphex(\1, ":E", ":(?:G|M[12])")
    ->> \1-\2
    # S’il s’agit d’un impératif, mettez un trait d’union.|http://66.46.185.79/bdl/gabarit_bdl.asp?id=4206

__[i]/imp__  (?<![’~])(\w[\w-]+) ([nv]ous|lui|y)(?! en| y| est)
    <<- morphex(\1, ":E", ":(?:G|M[12])") and not morph(word(1), ":Y", False, False) and morph(word(-1), ":Cc", False, True)
    ->> \1-\2
    # S’il s’agit d’un impératif, mettez un trait d’union.|http://66.46.185.79/bdl/gabarit_bdl.asp?id=4206

__[i]/imp__  (?<![’~])(\w[\w-]+) les(?! plus| moins| mieux| trop| très| en| y)
    <<- morphex(\1, ":E", ":(?:G|M[12])") and not morph(word(1), ":(?:N|A|Q|Y|B|3[sp])", False, False) and morph(word(-1), ":Cc", False, True)
    ->> \1-les
    # S’il s’agit d’un impératif, mettez un trait d’union.|http://66.46.185.79/bdl/gabarit_bdl.asp?id=4206

__[i]/imp__  (?<![’~])(\w[\w-]+) (l[ea])(?! plus| moins| mieux| plupart| trop| très| une?)
    <<- morphex(\1, ":E", ":(?:G|M[12])") and not morph(word(1), ":(?:N|A|Q|Y|MP)", False, False) and morph(word(-1), ":Cc", False, True)
    ->> \1-\2
    # S’il s’agit d’un impératif, mettez un trait d’union.|http://66.46.185.79/bdl/gabarit_bdl.asp?id=4206

__[i]/imp__  ([mts])-en <<- ->> \1’en
    # « \1e » est ici abrégé, c’est une forme élidée. Il faut mettre une apostrophe et non un trait d’union.

__[i]/imp__  (\w[\w-]+) ([mt]’(?:en|y))
    <<- morphex(\1, ":E", ":(?:G|M[12])") and not morph(word(1), ":(?:Y|[123][sp])", False, False)
    ->> \1-\2
    # S’il s’agit d’un impératif, mettez un trait d’union.|http://66.46.185.79/bdl/gabarit_bdl.asp?id=4206

__[i]/imp__  (\w[\w-]+)-(en|les|l[ae]) ([mt]oi|lui)
    <<- morph(\1, ":E", False)
    ->> \1-\2-\3
    # S’il s’agit d’un impératif, mettez un trait d’union.|http://66.46.185.79/bdl/gabarit_bdl.asp?id=4206

__[i]/imp__  (\w[\w-]+)-([mt]oi|[nv]ous|lui|leur|l[ae]|les) (en|y|leur)
    <<- morph(\1, ":E", False) and morphex(word(1), ":[RC]", ":[NAQ]", True)
    ->> \1-\2-\3
    # S’il s’agit d’un impératif, mettez un trait d’union.|http://66.46.185.79/bdl/gabarit_bdl.asp?id=4206

__[i]/imp__  (\w[\w-]+)-(l[ae]|les) ([nv]ous)
    <<- morph(\1, ":E", False) and morphex(word(1), ":[RC]", ":Y", True)
    ->> \1-\2-\3
    # S’il s’agit d’un impératif, mettez un trait d’union.|http://66.46.185.79/bdl/gabarit_bdl.asp?id=4206


__[i]/tu__  (v(?:iens|enez|enons)|all(?:ons|ez)) y
    <<- not morph(word(1), ":Y", False, False) ->> \1-y                                             # Il manque un trait d’union.
__[i]/tu__  vas? y
    <<- not word(-1) and not morph(word(1), ":Y", False, False) ->> vas-y                           # Il manque un trait d’union.
__[i]/tu__  conv(iens|enez|enons) en(?! partie) <<- ->> conv\1-en                                   # Il manque un trait d’union.

#__[i]/tu__  (\w+) ([mt]oi|[nv]ous|lui|leur) <<- morph(\1, ":V[123].*:E", False) ->> \1-\2           # Il manque un trait d’union.



####################################################################################################
####################################################################################################
## NOUVELLE PASSE
####################################################################################################
####################################################################################################


#
# //////////////////////////////////////// PRÉPROCESSEUR ////////////////////////////////////////
#

# Brainfuck, mon amour (ici, prudence !)
__[i]__  ne +(?:l(?:ui|eur|a|es?)|[mts]e|[nv]ous) +(?:l(?:a|es?|ui)|en|y) <<- ~>> >
__[i]__  ne +(?:[mts](?:e|’(?:en|y))|[nv]ous|l(?:es?|a|ui|eur|’(?:en|y))) <<- ~>> >
__[i]__  [mts]e +l(?:a|es?) <<- ~>> >
__[i]__  [nmsl]’(?:en|y) <<- ~>> >
__[i]__  l(?:a|es?) +(?:lui|en) <<- ~>> >
__[i]__  lui +(?:la|les?|en|y) <<- not morph(word(-1), ":R", False, True) ~>> >
__[i]__  leur +(?:en|y) <<- not morph(word(-1), ":R", False, False) ~>> >
__[i]__  (je|tu|ils?|on) ([nv]ous(?: la| les?|)|l(?:es?|ui|a)) <<- ~2>> >
__[i]__  (elles?|[nv]ous) ([nv]ous(?: la| les?|)|l(?:es?|ui|a)) <<- not morph(word(-1), ":R", False, False) ~2>> >
__[i]__  ce(?:ux|lles?|lui|la|) qui ([nv]ous(?: la| les?|)|l(?:es?|ui|a)) <<- ~1>> >
__[i]__  (?<!’)(en) (\w[\w-]+) <<- morph(\2, ":[123][sp]") ~1>> >
__[i]__  (tu|il|on) (en) <<- not morph(word(-1), ":[123]s", False, False) ~2>> >
__[i]__  (?<!’)elle (en) <<- not morph(word(-1), ":(?:[123]s|R)", False, False) ~1>> >
__[i]__  (?<!’)elles (en) <<- not morph(word(-1), ":(?:[123]p|R)", False, False) ~1>> >
__[i]__  ils (en) <<- not morph(word(-1), ":3p", False, False) ~1>> >
__[i]__  (?<!’)(y) (\w[\w-]+) <<- morph(\2, ":[123][sp]", False) ~1>> >
__[i]__  (le) (\w[\w-]+) <<- morphex(\2, ":[123][sp]", ":(?:[NAQ].*:m:[si]|G|M)") ~1>> >
__[i]__  (la) (\w[\w-]+) <<- morphex(\2, ":[123][sp]", ":(?:[NAQ].*:f:[si]|G|M)") ~1>> >
__[i]__  (l’)(\w[\w-]+) <<- morphex(\2, ":[123][sp]", ":(?:[NAQ].*:[si]|G|M)") ~1>> >
__[i]__  l’a <<- ~>> > a
__[i]__  (nous) (\w[\w-]+) <<- morphex(\2, ":[123][sp]", ":(?:A|G|M|1p)") ~1>> >
__[i]__  (vous) (\w[\w-]+) <<- morphex(\2, ":[123][sp]", ":(?:A|G|M|2p)") ~1>> >
__[i]__  (à|de) ([nv]ous|lui|les?|en) <<- ~2>> >
__[i]__  (s’)(\w\w\w\w+) <<- morph(\2, ":V", False) ~1>> >
__[i]__  (je|tu|ils?|elles?|on|[nv]ous|ce(?:ux|elles?|lui|la|) qui) (l’)(\w\w\w\w+) <<- morph(\3, ":V", False) ~2>> >
__[i]__  (t’(?:en|y)) (\w+[\w-]+) <<- not morph(\2, ":2s", False) or before("(?i)\\b(?:je|tu|on|ils?|elles?|nous) +$") ~1>> >
__[i]__  (t’)(\w+[\w-]+) <<- not morph(\2, ":2s|>(ils?|elles?|on) ", False) or before("(?i)\\b(?:je|tu|on|ils?|elles?|nous) +$") ~1>> >
__[i>__  ne [mtsl]’ <<- ~>> >
__[i>__  [mts]e +l’ <<- ~>> >
__[i>__  [nm]’ <<- ~>> >
__[i]__  [nmts]e <<- ~>> >
__<s>__  > +> <<- ~>> >
# Fin du Brainfuck


#
# //////////////////////////////////////// RÈGLES DE CONTRÔLE ////////////////////////////////////////
#

#### CONFUSION a / à
__[i]/conf__  ^ *(je|tu|ils?|on|elles?) +>? *(\w[\w-]+) +(a)
    <<- morph(\2, ":V", False)
    -3>> à                                                           # Confusion probable.
__[i]/conf__  ^ *[nv]ous +>? *(\w[\w-]+) +(a)
    <<- morphex(\1, ":V", ":Y")
    -2>> à                                                           # Confusion probable.
__<i]/conf__  > +(face)(?! à) <<- -1>> fasse                         # Confusion probable. Pour le subjonctif de “faire”, écrivez “fasse”.

#### CONFUSION ÊTRE / AVOIR
__[i]/conf__  (?<!’)(est?) +(con(?:fiance|science)|envie|été|p(?:eine|eur)|faim|crainte|affaire|h(?:âte|onte)|recours|soif)
    <<- not before(r"(?i)\b(?:ce que?|tout) ")
    -1>> ait                                                         # Confusion probable dans l’expression « avoir \2 ». Vous utilisez ici le verbe « être ».


#### INFINITIF

__[i]/infi__  (?:comment|où) +((\w[\w-]+)(?:ée?s?|ez))
    <<- morph(\1, ":V", False) and not (\1.endswith("ez") and after(" +vous"))
    -1>> \2er                                                                                           # Le verbe devrait être à l’infinitif.
__[i]/infi__  (?:afin|en train|avant|façons?|intentions?|manières?) de +((\w[\w-]+)(?:ée?s?|ez))
    <<- morph(\1, ":(?:Q|2p)", False)
    -1>> \2er                                                                                           # Incohérence. Le verbe devrait être à l’infinitif.
__[i]/infi__  ((?:aim|all|v|ir|désir|esp[éè]r|p(?:[eou]|réf[éè]r))\w*) +((\w[\w-]+)(?:ée?s?|ez))
    <<- morph(\1, u">(?:aimer|aller|désirer|devoir|espérer|pouvoir|préférer|souhaiter|venir) ", False)
    and not morph(\1, ":[GN]", False) and morph(\2, ":V", False)
    -2>> \3er                                                                                           # Le verbe devrait être à l’infinitif.
__[i]/infi__  (d[eouû]\w+) +((\w[\w-]+)(?:ée?s?|ez))
    <<- morph(\1, ">devoir ", False) and morph(\2, ":V", False) and not morph(word(-1), ":D", False)
    -2>> \3er                                                                                           # Le verbe devrait être à l’infinitif.
__[i]/infi__  ((?:cess|dé[cf]|sugg[éè]r|command|essa|tent|chois|permet|interd)\w*) +(?:pas|plus|point|guère|jamais|peu|rien|) *(?:de +|d’)((\w[\w-]+)(?:ée?s?|ez))
    <<- morph(\1, u">(?:cesser|décider|défendre|suggérer|commander|essayer|tenter|choisir|permettre|interdire) ", False) and morph(\2, ":(?:Q|2p)", False)
    -2>> \3er                                                                                           # Incohérence. Le verbe devrait être à l’infinitif.
__[i]/infi__  (?:de quoi|à (?:faire|même de|quoi bon)|avec qui|avant (?:même |)de|marre de|en vue de|du mal à|intérêt à|impossible de|pourquoi|quand|faut-il) +((\w[\w-]+)(?:ée?s?|ez))
    <<- morph(\1, ":(?:Q|2p)", False)
    -1>> \2er                                                                                           # Incohérence. Le verbe devrait être à l’infinitif.
__[i]/infi__  mieux (va\w+) +((\w[\w-]+)(?:ée?s?|ez))
    <<- morph(\1, ">valoir ", False) and morphex(\2, ":(?:Q|2p)", ":[GM]") -2>> \3er                    # Le verbe devrait être à l’infinitif.
__[i]/infi__  à ((\w[\w-]+)(?:ée?|ez)) <<- morphex(\1, ":V1", ":N") and not before("> +$") -1>> \2er    # Incohérence. Le verbe devrait être à l’infinitif.
__[i]/infi__  ({avoir}) beau ((\w[\w-]+)(?:ée?s?|ez)) <<- morphex(\2, ":V1", ":N") -2>> \3er
    # Le verbe devrait être à l’infinitif.|http://fr.wiktionary.org/wiki/avoir_beau

#__[i]/infi__  ((all|v|ir)\w+) (\w[\w-]+é) <<- morph(\1, ">aller ") and morph(\2, ":V", False) ->> _      # Le verbe « \1 » devrait être à l’infinitif.
#__[i]/infi__  {avoir} (dû|[ps]u|voulu) (\w[\w-]+[éesz]) <<- morph(\2, ":V.*:(?:Q|2p)", False) ->> _      # Le verbe « \2 » devrait être à l’infinitif.


#### PAS D’INFINITIF

__[i]/infi__  (?<![cC]’)({etre}) +(\w[\w-]+er)
    <<- morph(\1, ":V0e", False) and (morphex(\2, ":Y", ":[NAQ]") or \2 in aSHOULDBEVERB) and not re.match(u"(?i)(?:soit|été)$", \1)
    and not morph(word(-1), ":Y|>ce", False, False) and not before("(?i)ce (?:>|qu|que >) $")
    and not before_chk1(u"(\w[\w-]+) +> $", ":Y") and not before_chk1(u"^ +>? *(\w[\w-]+)", ":Y")
    -2>> _                                                                  # Incohérence. Après « être », le verbe ne doit pas être à l’infinitif.
__[i]/infi__  ({avoir}) +(\w[\w-]+er)
    <<- morph(\1, ":V0a", False) and morph(\2, ":Y", False)
    -2>> _                                                                  # Incohérence. Après « avoir », le verbe ne doit pas être à l’infinitif.


#### CONJUGAISON

## 1sg
__[i]/gv__  j’(\w[\w-]*)
    <<- not morph(\1, ":1s|>(?:en|y)", False)
    -1>> =suggVerb(@, ":1s")                                 # Conjugaison erronée. Accord avec « je ». Le verbe devrait être à la 1ʳᵉ personne du singulier.
__[i]/gv__  (je) +(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:1s|G)") and not (morph(\2, ":[PQ]", False) and morph(word(-1), ":V0.*:1s", False, False))
    -2>> =suggVerb(@, ":1s")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 1ʳᵉ personne du singulier.
__[i]/gv__  (je) +> +(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:1s|G|1p)")
    -2>> =suggVerb(@, ":1s")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 1ʳᵉ personne du singulier.
__[i]/gv__  (j’(?:y|en)) +>? *(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:1s|G|1p)")
    -2>> =suggVerb(@, ":1s")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 1ʳᵉ personne du singulier.
__[i]/gv__  (moi +qui) +>? *(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:1s|G|1p|3p!)")
    -2>> =suggVerb(@, ":1s")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 1ʳᵉ personne du singulier.

## 2sg
__[i]/gv__  (tu) +(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:G|[ISK].*:2s)") and not (morph(\2, ":[PQ]", False) and morph(word(-1), ":V0.*:2s", False, False))
    -2>> =suggVerb(@, ":2s")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 2ᵉ personne du singulier.
__[i]/gv__  (tu) +> +(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:G|[ISK].*:2s)")
    -2>> =suggVerb(@, ":2s")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 2ᵉ personne du singulier.
__[i]/gv__  (toi +qui) +>? *(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:G|2p|3p!|[ISK].*:2s)")
    -2>> =suggVerb(@, ":2s")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 2ᵉ personne du singulier.

## 3sg
__[i]/gv__  (il|on|quiconque) +(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:3s|P|G)") and not (morph(\2, ":[PQ]", False) and morph(word(-1), ":V0.*:3s", False, False))
    -2>> =suggVerb(@, ":3s")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du singulier.
__[i]/gv__  (il|on|quiconque) +> +(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:3s|P|G)")
    -2>> =suggVerb(@, ":3s")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du singulier.

__[i]/gv__  (ce) +>? *(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:N|A|3s|P|Q|G|V0e.*:3p)")
    -2>> =suggVerb(@, ":3s")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du singulier.

__[i]/gv__  (ce(?:lui|lle|) +qui) +>? *(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:3s|P|Q|G)")
    -2>> =suggVerb(@, ":3s")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du singulier.

__[i]/gv__  (ça|chacune?|l’une?|ce(?:ci|la|lui-(?:ci|là)|lle-(?:ci|là))|n`importe quo?i|quelqu(?:’une?|e chose)|tout|l(?:equel|aquelle))(?: +qui|) +>? *(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:3s|P|Q|G|3p!)") and not morph(word(-1), ":[VR]|>de", False, False) and not(\1.endswith("out") and morph(\2, ":Y", False))
    -2>> =suggVerb(@, ":3s")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du singulier.

__[i]/gv__  (?<![dD]’)elle +(\w[\w-]*)
    <<- morphex(\1, ":V", ":(?:3s|P|G|3p!)") and not morph(word(-1), ":R|>(?:et|ou)", False, False)
    and not (morph(\1, ":[PQ]", False) and morph(word(-1), ":V0.*:3s", False, False))
    -1>> =suggVerb(@, ":3s")                                 # Conjugaison erronée. Accord avec « elle ». Le verbe devrait être à la 3ᵉ personne du singulier.
__[i]/gv__  (?<![dD]’)elle +> +(\w[\w-]*)
    <<- morphex(\1, ":V", ":(?:3s|P|G|3p!)") and not morph(word(-1), ":R|>(?:et|ou)", False, False)
    -1>> =suggVerb(@, ":3s")                                 # Conjugaison erronée. Accord avec « elle ». Le verbe devrait être à la 3ᵉ personne du singulier.

__[i]/gv__  (elle|il) +>? *(\w[\w-]+nt)
    <<- morphex(\2, ":3p", ":(?:G|3s)") and not word(-1)
    -1>> \1s                                                 # Accord avec « \2 ».
__[i]/gv__  (elles) +>? *(\w[\w-]*)
    <<- morphex(\2, ":3s", ":(?:G|3p)") and not word(-1)
    -1>> elle                                                # Accord avec « \2 ».

__[i]/gv__  mieux (va(?:ux|lais|udrais)) <<- -1>> =\1[:-1]+"t"   # Conjugaison erronée. Accord avec “mieux” : utilisez la 3ᵉ personne du singulier.

__[i]/gv__  (personne|aucun|rien|nul(?:le|)) +(?:qui +|)> +(\w[\w-]*)
    <<- morphex(\2, ":V", ":(?:3s|P|G)") and morphex(word(-1), ":C", ":(?:Y|P|Q|[123][sp]|R)", True)
    and not( \1.endswith("ien") and before("> +$") and morph(\2, ":Y", False) )
    -2>> =suggVerb(@, ":3s")                                 # Conjugaison erronée. Accord avec « \1… ». Le verbe devrait être à la 3ᵉ personne du singulier.


__[i]/gv__  ^ *(\w[\w-]*(?:er|ir|re)) +>? *(\w[\w-]+)
    <<- morph(\1, ":Y", False) and morph(\2, ":V.\w+(?!.*:(?:3s|P|Q|Y|3p!))") 
    -2>> =suggVerb(@, ":3s")                                 # Conjugaison erronée. Accord avec « \1… ». Le verbe devrait être à la 3ᵉ personne du singulier.


__[i]/gv__  (?<![dD]’)(l[ea] |une? |l’|[mts](?:on|a) |ce(?:tte|t|) |leur ) *(\w[\w-]+) +(?:qui +|)(?!j’|c’)(\w[\w-]+)
    <<- morphex(word(-1), ":C", ":(?:Y|P)", True) and morph(\2, ":[NAQ].*:[si]", False) and morphex(\3, ":V", ":(?:3s|P|Q|Y|3p!|G)")
    and not (before("(?i)\\b(?:et|ou) +$") and morph(\3, ":[1-3]p", False)) and not before(r"(?i)\bni .* ni\b")
    -3>> =suggVerb(@, ":3s")                            # Conjugaison erronée. Accord avec « \1 \2… ». Le verbe devrait être à la 3ᵉ personne du singulier.
__[i]/gv__  (?<![dD]’)(l[ea] |une? |l’|[mts](?:on|a) |ce(?:tte|t|) |leur |nul(?:le|) ) *(\w[\w-]+) +(?:qui +|)> +(\w[\w-]+)
    <<- morphex(word(-1), ":C", ":(?:Y|P)", True) and morph(\2, ":[NAQ].*:[si]", False) and morphex(\3, ":V", ":(?:3s|1p|P|Q|Y|3p!|G)")
    and not (before("(?i)\\b(?:et|ou) +$") and morph(\3, ":[123]p", False)) and not before(r"(?i)\bni .* ni\b")
    -3>> =suggVerb(@, ":3s")                            # Conjugaison erronée. Accord avec « \1 \2… ». Le verbe devrait être à la 3ᵉ personne du singulier.

# confusions noms/adjectifs/verbes (voir règles DPP)
__[i]/gv__  (?<![dD]’)(une?|[mts](?:on|a)|ce(?:tte|t|)) +(\w[\w-]+)~ *(\w[\w-]+)
    <<- morphex(word(-1), ":C", ":(?:Y|P)", True) and isAmbiguousAndWrong(\2, \3, ":s", ":3s")
    and not (before("(?i)\\b(?:et|ou) +$") and morph(\3, ":(?:[123]p|p)", False)) and not before(r"(?i)\bni .* ni\b")
    -3>> =suggVerb(@, ":3s")                                 # Accord avec « \1 \2… » incorrect. Conjugaison erronée ou accord nom/adjectif incorrect.

__[i]/gv__  (l(?:e(?:ur|) |a |’)) *(\w[\w-]+)~ *(\w[\w-]+)
    <<- morphex(word(-1), ":C", ":(?:Y|P)", True) and isVeryAmbiguousAndWrong(\2, \3, ":s", ":3s", not word(-1))
    and not (before("(?i)\\b(?:et|ou) +$") and morph(\3, ":(?:[123]p|p)", False)) and not before(r"(?i)\bni .* ni\b")
    -3>> =suggVerb(@, ":3s")                                 # Accord avec « \1 \2… » incorrect. Conjugaison erronée ou accord nom/adjectif incorrect.

## Incohérences avec formes verbales 1sg et 2sg
__[i]/gv__  \w*ai(?! je)
    <<- ( morph(\0, ":1s") or ( before("> +$") and morph(\0, ":1s", False) ) ) and not (\0[0:1].isupper() and before(r"\w"))
    and not before(u"(?i)\\b(?:j(?:e |’)|moi,? qui )")
    ->> =suggVerb(@, ":3s")                         # Incohérence. Ceci est un verbe à la 1ʳᵉ personne du singulier. Sujet (“je” ou “moi qui”) introuvable.
__[i]/gv__  \w*es(?! tu)
    <<- morphex(\0, ":2s", ":(?:E|G|W|M|J|[13][sp]|2p)") and not \0[0:1].isupper() and not before("^ *$")
    and ( not morph(\0, ":[NAQ]", False) or before("> +$") )
    and not before0(u"(?i)\\bt(?:u |’|oi,? qui |oi seul )")
    ->> =suggVerb(@, ":3s")                         # Incohérence. Ceci est un verbe à la 2ᵉ personne du singulier. Sujet (“tu” ou “toi qui”) introuvable.
__[i]/gv__  \w+as(?! tu)
    <<- morphex(\0, ":2s", ":(?:G|W|M|J|[13][sp]|2p)") and not (\0[0:1].isupper() and before(r"\w"))
    and ( not morph(\0, ":[NAQ]", False) or before("> +$") )
    and not before0(u"(?i)\\bt(?:u |’|oi,? qui |oi seul )")
    ->> =suggVerb(@, ":3s")                         # Incohérence. Ceci est un verbe à la 2ᵉ personne du singulier. Sujet (“tu” ou “toi qui”) introuvable.
__[i]/gv__  \w+[iudnrtpcï]s(?! (?:tu|je))
    <<- morphex(\0, ":[12]s", ":(?:E|G|W|M|J|3[sp]|2p|1p)") and not (\0[0:1].isupper() and before(r"\w"))
    and ( not morph(\0, ":[NAQ]", False) or before("> +$") or ( re.match(u"(?i)étais$", \0) and not morph(word(-1), ":[DA].*:p", False, True) ) )
    and not before0(u"(?i)\\b(?:j(?:e |’)|moi,? qui |t(?:u |’|oi,? qui |oi seul ))")
    ->> =suggVerb(@, ":3s")                                                  # Incohérence. Le sujet de cette forme verbale est introuvable.
__[i]/gv__  [pv]eux(?! (?:tu|je))
    <<- not (\0[0:1].isupper() and before(r"\w")) and not before0(u"(?i)\\b(?:j(?:e |’)|moi,? qui |t(?:u |’|oi,? qui |oi seul ))")
    ->> =suggVerb(@, ":3s")                                                  # Incohérence. Le sujet de cette forme verbale est introuvable.
__[i]/gv__  (?:équi|pré|)vaux(?! (?:tu|je))
    <<- not (\0[0:1].isupper() and before(r"\w")) and not before0(u"(?i)\\b(?:j(?:e |’)|moi,? qui |t(?:u |’|oi,? qui |oi seul ))")
    ->> =suggVerb(@, ":3s")                                                  # Incohérence. Le sujet de cette forme verbale est introuvable.

## 1pl
__[i]/gv__  ^ *nous +> +(\w+)
    <<- morphex(\1, ":V", ":(?:1p|3[sp])") and not after("^ +(?:je|tu|ils?|elles?|on|[vn]ous)")
    -1>> =suggVerb(@, ":1p")                                 # Conjugaison erronée. Accord avec « nous ». Le verbe devrait être à la 1ʳᵉ personne du pluriel.
__[i]/gv__  ^ *nous +qui +>? *(\w+)
    <<- morphex(\1, ":V", ":1p") and not after("^ +(?:je|tu|ils?|elles?|on|[vn]ous)")
    -1>> =suggVerb(@, ":1p")                                 # Conjugaison erronée. Accord avec « nous ». Le verbe devrait être à la 1ʳᵉ personne du pluriel.
__[i]/gv__  ^ *nous +(?:qui +(?:> +|)|> +|)(\w+ont)
    <<- morphex(\1, ":V", ":1p") and not after("^ +(?:ils|elles)")
    -1>> =suggVerb(@, ":1p")                                 # Conjugaison erronée. Accord avec « nous ». Le verbe devrait être à la 1ʳᵉ personne du pluriel.

## 2pl
__[i]/gv__  ^ *vous +> +(\w+)
    <<- morphex(\1, ":V", ":(?:2p|3[sp])") and not after("^ +(?:je|ils?|elles?|on|[vn]ous)")
    -1>> =suggVerb(@, ":2p")                                 # Conjugaison erronée. Accord avec « vous ». Le verbe devrait être à la 2ᵉ personne du pluriel.
__[i]/gv__  ^ *vous +qui +>? *(\w+)
    <<- morphex(\1, ":V", ":2p") and not after("^ +(?:je|ils?|elles?|on|[vn]ous)")
    -1>> =suggVerb(@, ":2p")                                 # Conjugaison erronée. Accord avec « vous ». Le verbe devrait être à la 2ᵉ personne du pluriel.

## Incohérences avec formes verbales 1pl et 2pl
__[i]/gv__  \w+ons(?! nous)
    <<- morphex(\0, ":V.*:1p", ":[EGMNAJ]") and not (\0[0:1].isupper() and before(r"\w"))
    and not before(u"(?i)\\b(?:nous|et moi) ")
    ->> =suggVerb(@, ":3p")         # Incohérence. Ceci est un verbe à la 1ʳᵉ personne du pluriel. Sujet (“nous” ou équivalent) introuvable.
__[i]/gv__  \w+ez(?! vous)
    <<- morphex(\0, ":V.*:2p", ":[EGMNAJ]") and not (\0[0:1].isupper() and before(r"\w"))
    and not before(u"(?i)\\b(?:vous|et toi|toi et) ")
    ->> _                           # Incohérence. Ceci est un verbe à la 2ᵉ personne du pluriel. Sujet (“vous” ou équivalent) introuvable.

## 3pl
__[i]/gv__  (ils) +(\w[\w-]+)
    <<- morphex(\2, ":V", ":(?:3p|P|Q|G)") and not (morph(\2, ":[PQ]", False) and morph(word(-1), ":V0.*:3p", False, False))
    -2>> =suggVerb(@, ":3p")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du pluriel.
__[i]/gv__  (ils) +> +(\w[\w-]+)
    <<- morphex(\2, ":V", ":(?:3p|P|Q|G)")
    -2>> =suggVerb(@, ":3p")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du pluriel.

__[i]/gv__  (ce(?:ux|lles) +qui) +>? *([\w-]+)
    <<- morphex(\2, ":V", ":(?:3p|P|Q|G)")
    -2>> =suggVerb(@, ":3p")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du singulier.

__[i]/gv__  (ce(?:ux-(?:ci|là)|lles-(?:ci|là))|lesquel(?:le|)s)(?: +qui|) +>? *([\w-]+)
    <<- morphex(\2, ":V", ":(?:3p|P|Q|G)") and not morph(word(-1), ":[VR]", False, False)
    -2>> =suggVerb(@, ":3p")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du singulier.

__[i]/gv__  (?<![dD]’)elles +(\w[\w-]+)
    <<- morphex(\1, ":V", ":(?:3p|P|Q|G)") and not morph(word(-1), ":R", False, False) and not (morph(\1, ":[PQ]", False) and morph(word(-1), ":V0.*:3p", False, False))
    -1>> =suggVerb(@, ":3p")                                 # Conjugaison erronée. Accord avec « elles ». Le verbe devrait être à la 3ᵉ personne du pluriel.
__[i]/gv__  (?<![dD]’)elles +> +([\w-]+)
    <<- morphex(\1, ":V", ":(?:3p|P|Q|G)") and not morph(word(-1), ":R", False, False)
    -1>> =suggVerb(@, ":3p")                                 # Conjugaison erronée. Accord avec « elles ». Le verbe devrait être à la 3ᵉ personne du pluriel.


__[i]/gv__  (ils|c?eux +qui|c?elles +qui) +(on)
    <<- -2>> ont                                             # Incohérence : « on » est un pronom personnel, « ont » est une conjugaison du verbe avoir.

__[i]/gv__  (?<![dD]’)(elles|ceux-(?:ci|là)|celles-(?:ci|là)) +(on)
    <<- not before(u"(?i)\\b(?:à|avec|sur|chez|par|dans) +$")
    -2>> ont                                                 # Conjugaison : « on » est un pronom personnel, « ont » est une conjugaison du verbe avoir.

__[i]/gv__  (beaucoup|d’aucuns|la plupart) +>? *(\w[\w-]+)
    <<- morphex(\2, ":V", ":(?:3p|P|Q|mg)") and not morph(word(-1), ":[VR]|>de ", False, False)
    -2>> =suggVerb(@, ":3p")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du pluriel.

__[i]/gv__  (beaucoup|d’aucuns|la plupart) +qui +>? *([\w-]+)
    <<- morphex(\2, ":V", ":(?:3p|P|Q|G)") and not morph(word(-1), ":[VR]", False, False)
    -2>> =suggVerb(@, ":3p")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du pluriel.

__[i]/gv__  (?<!de )(certaine?s|tou(?:te|)s|plusieurs)(?: +qui|) +>? *([\w-]+)
    <<- morphex(\2, ":V", ":(?:G|N|A|3p|P|Q)") and not morph(word(-1), ":[VR]", False, False)
    -2>> =suggVerb(@, ":3p")                                 # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du pluriel.

__[i]/gv__  ([lcmts]es|[nv]os|leurs|quelques|certaine?s|plusieurs) +(\w[\w-]+) +(?:qui +|)(?!j’|c’)(\w[\w-]+)
    <<- morph(\2, ":[NAQ].*:[pi]", False) and morphex(\3, ":V", ":(?:[13]p|P|Q|Y|G)") and morphex(word(-1), ":C", ":[YP]", True)
    -3>> =suggVerb(@, ":3p")                                 # Conjugaison erronée. Accord avec « \1 \2… ». Le verbe devrait être à la 3ᵉ personne du pluriel.
__[i]/gv__  ([lcmts]es|[nv]os|leurs|quelques|certaine?s|plusieurs) +(\w[\w-]+) +(?:qui +|)> +(\w[\w-]+)
    <<- morph(\2, ":[NAQ].*:[pi]", False) and morphex(\3, ":V", ":(?:[13]p|P|Y|G)") and morphex(word(-1), ":C", ":[YP]", True)
    -3>> =suggVerb(@, ":3p")                                 # Conjugaison erronée. Accord avec « \1 \2… ». Le verbe devrait être à la 3ᵉ personne du pluriel.


__[i]/gv__  ^ *des +(\w[\w-]+) +(?:> +|)(\w[\w-]+)
    <<- morph(\1, ":[NAQ].*:[pi]", False) and morphex(\2, ":V", ":(?:[13]p|P|G|Q.*:p)") and morph(word(1), ":(?:R|D.*:p)|>au ", False, True)
    -2>> =suggVerb(@, ":3p")                            # Conjugaison erronée. Accord avec « des \1… ». Le verbe devrait être à la 3ᵉ personne du pluriel.
__[i]/gv__  ^ *des +(\w[\w-]+) +qui +(?:> +|)(\w[\w-]+)
    <<- morph(\1, ":[NAQ].*:[pi]", False) and morphex(\2, ":V", ":(?:[13]p|P|G)")
    -2>> =suggVerb(@, ":3p")                            # Conjugaison erronée. Accord avec « des \1… ». Le verbe devrait être à la 3ᵉ personne du pluriel.


# confusions noms/adjectifs/verbes (voir règles DPP)
__[i]/gv__  ([cmts]es|[nv]os|leurs|quelques) +(\w[\w-]+)~ *(\w[\w-]+)
    <<- morphex(word(-1), ":C", ":[YP]", True) and isAmbiguousAndWrong(\2, \3, ":p", ":3p")
    -3>> =suggVerb(@, ":3p")                                 # Accord avec « \1 \2… » incorrect. Conjugaison erronée ou accord nom/adjectif incorrect.

__[i]/gv__  les +(\w[\w-]+)~ *(\w[\w-]+)
    <<- morphex(word(-1), ":C", ":[YP]", True) and isVeryAmbiguousAndWrong(\1, \2, ":p", ":3p", not word(-1))
    -2>> =suggVerb(@, ":3p")                                 # Accord avec « les \1… » incorrect. Conjugaison erronée ou accord nom/adjectif incorrect.

__[i]/gv__  certains +(\w[\w-]+)~ *(\w[\w-]+)
    <<- morphex(word(-1), ":C", ":[YP]", True) and isVeryAmbiguousAndWrong(\1, \2, ":m:p", ":3p", not word(-1))
    -2>> =suggVerb(@, ":3p")                                 # Accord avec « certains \1… » incorrect. Conjugaison erronée ou accord nom/adjectif incorrect.

__[i]/gv__  certaines +(\w[\w-]+)~ *(\w[\w-]+)
    <<- morphex(word(-1), ":C", ":[YP]", True) and isVeryAmbiguousAndWrong(\1, \2, ":f:p", ":3p", not word(-1))
    -2>> =suggVerb(@, ":3p")                                 # Accord avec « certaines \1… » incorrect. Conjugaison erronée ou accord nom/adjectif incorrect.


## Quel(le) que soit / quel(le)s que soient

# singulier
__[i]/gv__  quel(?:le|)s? que ([sf]\w+) +(?:l[ea]|ce(?:t|tte|)|[mts](?:a|on)|[nv]otre|leur)
    <<- morphex(\1, ":V0e", ":3s")
    -1>> =suggVerb(@, ":3s")                                                             # Conjugaison erronée. Mettez “être” à la 3ᵉ personne du singulier.

__[i]/gv__  (quel(?:le|)s) que ([sf]\w+t) +(?:l[ea]|ce(?:t|tte|)|[mts](?:a|on)|[nv]otre|leur)
    <<- morphex(\2, ":V0e.*:3s", ":3p")
    -1>> =\1[:-1]                                                                        # Accord avec “\2”. Utilisez le singulier.

# pluriel
__[i]/gv__  quel(?:le|)s? que ([sf]\w+) +(?:[lscmt]es|[nv]os|leurs)
    <<- morphex(\1, ":V0e", ":3p")
    -1>> =suggVerb(@, ":3p")                                                             # Conjugaison erronée. Mettez “être” à la 3ᵉ personne du pluriel.

__[i]/gv__  (quel(?:le|)) que ([sf]\w+ent) +(?:[lscmt]es|[nv]os|leurs)
    <<- morphex(\2, ":V0e.*:3p", ":3s")
    -1>> \1s                                                                             # Accord avec “\2”. Utilisez le pluriel.


#### NOMS PROPRES

# 3sg
__[i]/gv__  ([A-ZÉÈ][\w-]+) +>? *(\w[\w-]*)
    <<- not before("(?:et|ou|[dD][eu]|ni) +$") and morph(\1, ":M", False) and morphex(\2, ":[123][sp]", ":(?:G|3s|3p!|P|M|[AQ].*:[si])")
    and not morph(word(-1), ":[VRD]", False, False) and not before(u"([A-ZÉÈ][\w-]+), +([A-ZÉÈ][\w-]+), +$")
    -2>> =suggVerb(@, ":3s")
    # Conjugaison erronée. Accord avec « \1 ». Le verbe devrait être à la 3ᵉ personne du singulier.

# 3pl
__[i]/gv__  (?<!et |ou |[dD][eu] |ni )([A-ZÉÈ][\w-]+) et ([A-ZÉÈ][\w-]+) +>? *(\w[\w-]*)
    <<- morph(\1, ":M", False) and morph(\2, ":M", False)
    and morphex(\3, ":[123][sp]", ":(?:G|3p|P|Q.*:[pi])") and not morph(word(-1), ":R", False, False)
    -3>> =suggVerb(@, ":3p")
    # Conjugaison erronée. Accord avec « \1 et \2 ». Le verbe devrait être à la 3ᵉ personne du pluriel.



#### INVERSION VERBE SUJET

__[i]/gv__  (?:que?|où) +(\w+) (l(?:e(?:ur | )|a |’)|[mts](?:on|a) |ce(?:t|tte|) ) *(?!plupart)(\w+)
    <<- morphex(\1, ":(?:[12]s|3p)", ":(?:3s|G|W|3p!)")
    -1>> =suggVerb(@, ":3s")
    # Conjugaison erronée. Accord avec « \2 \3… ». Le verbe devrait être à la 3ᵉ personne du singulier.

__[i]/gv__  (?:que?|où) +(\w+) ([ldcmts]es|quelques|certaine?s|plusieurs) (\w+)
    <<- morphex(\1, ":[123]s", ":(?:3p|G|W)")
    -1>> =suggVerb(@, ":3p")
    # Conjugaison erronée. Accord avec « \2 \3… ». Le verbe devrait être à la 3ᵉ personne du pluriel.

__[i]/gv__  "(?:que?|où) +(\w[\w-]*)  "
    <<- morphex(\1, ":[12][sp]", ":(?:G|W|3[sp]|Y|P|Q)")
    -1>> _
    # Conjugaison erronée. Ce verbe devrait être à la 3ᵉ personne.

__[i]/gv__  (?:que|où) +> +(\w+) (?![jJ]e|[tT]u|[nNvV]ous|[eE]t)
    <<- morphex(\1, ":[12][sp]", ":(?:G|W|3[sp])")
    -1>> _
    # Conjugaison erronée. Ce verbe devrait être à la 3ᵉ personne.


#### INTERROGATIVES ?

__[i]/inte__  (?<![jJ]’)((\w[\w-]+)[éèe]) je(?! +ne)
    <<- morphex(\1, ":V.*:1s", ":[GNW]") and not before(r"(?i)\bje +>? *$")
    ->> \2é-je                                                                      # Forme interrogative ? Mettez un trait d’union.
__[i]/inte__  (?<![jJ]’)((\w[\w-]+)[^éèe]) je(?! +ne)
    <<- morphex(\1, ":V.*:1s", ":[GNW]") and not before(r"(?i)\bje +>? *$")
    ->> \1-je                                                                       # Forme interrogative ? Mettez un trait d’union.
__[i]/inte__  (\w[\w-]+s) tu
    <<- not after("^ +(?:en|y|ne|>)") and morphex(\1, ":V.*:2s", ":[GNW]") and not before(r"(?i)\b(?:je|tu) +>? *$")
    ->> \1-tu                                                                       # Forme interrogative ? Mettez un trait d’union.
__[i]/inte__  (\w[\w-]+[td]) (il|on)
    <<- not after("^ +(?:en|y|ne|>)") and morphex(\1, ":V.*:3s", ":[GNW]") and not before(r"(?i)\b(?:ce|il|elle|on) +>? *$")
    ->> \1-\2                                                                       # Forme interrogative ? Mettez un trait d’union.
__[i]/inte__  (\w[\w-]+[td]) elle
    <<- not after("^ +(?:en|y|ne|aussi|>)") and morphex(\1, ":V.*:3s", ":[GNW]") and not before(r"(?i)\b(?:ce|il|elle|on) +>? *$")
    ->> \1-elle                                                                     # Forme interrogative ? Mettez un trait d’union.
__[i]/inte__  (\w[\w-]+ons) nous
    <<- not after("^ +(?:en|y|ne|aussi|>)") and morphex(\1, ":V.*:1p", ":[GNW]")
    and not morph(word(-1), ":Os", False, False) and not morph(word(1), ":Y", False, False)
    ->> \1-nous                                                                     # Forme interrogative ? Mettez un trait d’union.
__[i]/inte__  (\w[\w-]+ez) vous
    <<- not after("^ +(?:en|y|ne|aussi|>)") and not \1.endswith("euillez") and morphex(\1, ":V.*:2pl", ":[GNW]")
    and not morph(word(-1), ":Os", False, False) and not morph(word(1), ":Y", False, False)
    ->> \1-vous                                                                     # Forme interrogative ? Mettez un trait d’union.
__[i]/inte__  (\w[\w-]+nt) (ils|elles)
    <<- not after("^ +(?:en|y|ne|aussi|>)") and morphex(\1, ":V.*:3p", ":[GNW]") and not before(r"(?i)\b(?:ce|ils|elles) +>? *$")
    ->> \1-\2                                                                       # Forme interrogative ? Mettez un trait d’union.

# Note : pour les règles suivantes, il faut vérifier que \1 existe (spell(\1)) à cause du bug Python 2.x sur les regex.
__[i]/inte__  (\w+)-je <<- not morph(\1, ":1[sśŝ]", False) and spell(\1) and not re.match("(?i)vite$", \1)
    -1>> =suggVerb(@, "1isg")                                           # Forme interrogative : « \1 » n’est pas un verbe à la 1ʳᵉ personne du singulier.
__[i]/inte__  (\w+)-tu <<- not morph(\1, ":[ISK].*:2s", False) and spell(\1) and not re.match("(?i)vite$", \1)
    -1>> =suggVerb(@, ":2s")                                            # Forme interrogative. « \1 » n’est pas un verbe à la 2ᵉ personne du singulier.
__[i]/inte__  (\w+)-(?:t-|)(il|elle|on) <<- \1 != "t" and not morph(\1, ":3s", False) and (not \1.endswith(u"oilà") or \2 != "il") and spell(\1) and not re.match("(?i)vite$", \1)
    -1>> =suggVerb(@, ":3s")                                            # Forme interrogative : « \1 » n’est pas un verbe à la 3ᵉ personne du singulier.
__[i]/inte__  (\w+ent)-(il|elle) <<- morphex(\1, ":3p", ":3s") and spell(\1)
    -2>> \2s                                                            # Forme interrogative : accordez “\2” avec le verbe à la 3ᵉ personne du pluriel.
__[i]/inte__  (\w+)-nous <<- not morph(\1, ":(?:1p|2[sp])", False) and spell(\1) and not re.match("(?i)(vite|chez)$", \1)
    -1>> _                                                              # Forme interrogative ou impérative incorrecte.
__[i]/inte__  (\w+)-vous <<- not morph(\1, ":2p", False) and spell(\1) and not re.match("(?i)(tes|vite)$", \1) and not spell(\0)
    -1>> _                                                              # Forme interrogative ou impérative incorrecte.
__[i]/inte__  (\w+)-(?:ils|elles) <<- \1 != "t" and not morph(\1, ":3p", False) and spell(\1)
    -1>> =suggVerb(@, ":3p")                                            # Forme interrogative : « \1 » n’est pas un verbe à la 3ᵉ personne du pluriel.

__[i]/inte__  (\w+)-(?:je|tu|(?:t-|)(?:il|elle|on)|nous|vous|ils|elles)
    <<- not morph(\1, ":V", False) and not re.match("(?i)vite$", \1) and spell(\1)
    and not ( \0.endswith("il") and \1.endswith(u"oilà") ) and not ( \1 == "t" and \0.endswith(("il", "elle", "on", "ils", "elles")) )
    -1>> _                                                              # Forme interrogative. Incohérence : « \1 » n’est pas un verbe.


#### CONTRÔLE DES MODES

# Si suivi du conditionnel ou du subjonctif
__[i]/gv__  si +(\w+) +>? *(\w[\w-]+)
    <<- morph(\1, ":(?:Os|M)", False) and morphex(\2, ":[SK]", ":(?:G|V0|I)") and not word(-1)
    -2>> _                                                                       # Ce verbe ne devrait être ni au conditionnel, ni au subjonctif.
__[i]/gv__  (?:si [jt]’|s’ils? )>? *(\w[\w-]+)
    <<- morphex(\1, ":[SK]", ":(?:G|V0|I)") and not word(-1)
    -1>> _                                                                       # Ce verbe ne devrait être ni au conditionnel, ni au subjonctif.

__[i]/gv__  dès +que? +(\w+) +>? *(\w[\w-]+)
    <<- morph(\1, ":(?:Os|M)", False) and morphex(\2, ":S", ":[IG]")
    -2>> =suggVerbMode(@, ":I", \1)                                              # Ce verbe ne devrait pas être au subjonctif.
    <<- morph(\1, ":(?:Os|M)", False) and morph(\2, ":K", False)
    -2>> =suggVerbMode(@, ":If", \1)                                             # Ce verbe ne devrait pas être au conditionnel.

# verbe que + subjonctif
__[i]/gv__  (afin|pour|quoi|(?:perm|fa|v|ordonn|exig|désir|dout|suff)[\w-]+) +que? +(\w+) +>? *(\w[\w-]+)
    <<- morph(\1, u">(?:afin|pour|quoi|permettre|falloir|vouloir|ordonner|exiger|désirer|douter|suffire) ", False)
    and morph(\2, ":(?:Os|M)", False) and not morph(\3, ":[GYS]", False)
    -3>> =suggVerbMode(@, ":S", \2)                                               # Ce verbe devrait être au subjonctif.

__[i]/gv__  à condition +que? +(\w+) +>? *(\w[\w-]+)
    <<- morph(\1, ":(?:Os|M)", False) and not morph(\2, ":[GYS]", False)
    -2>> =suggVerbMode(@, ":S", \1)                                               # Ce verbe devrait être au subjonctif.

# indicatif nécessaire
__[i]/gv__  ^ *(je|j’(?:en|y)|tu|ils?|elles?|on|nous|vous) +>? *(\w[\w-]+)
    <<- morphex(\2, ":S", ":[GIK]") and not re.match("e(?:usse|û[mt]es|ût)", \2)
    -2>> =suggVerbMode(@, ":I", \1)                                               # Ce verbe ne devrait pas être au subjonctif.
__[i]/gv__  ^ *j’(\w[\w-]+)
    <<- morphex(\1, ":S", ":[GIK]") and \1 != "eusse"
    -1>> =suggVerbMode(@, ":I", "je")                                             # Ce verbe ne devrait pas être au subjonctif.

# Après que + indicatif
__[i]/gv__  après que? (\w[\w-]+) +>? *(\w[\w-]+)
    <<- morph(\1, ":(?:Os|M)", False) and morph(\2, ":V.*:S")
    -2>> =suggVerbMode(@, ":I", \1)
    # Après « après que », le verbe s’emploie pas au subjonctif mais à l’indicatif, si l’action s’est déroulée de façon certaine.

